<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Mysql理论学习笔记 | Draco&#39;s Blog</title>
    <meta name="generator" content="VuePress 1.9.7">
    <script src="https://cdn.jsdelivr.net/npm/react/umd/react.production.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/react-dom/umd/react-dom.production.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@babel/standalone/babel.min.js"></script>
    <link rel="alternate" type="application/atom+xml" href="https://vuepress-theme-hope-demo.mrhope.site/atom.xml" title="Draco&#39;s Blog Atom Feed">
    <link rel="alternate" type="application/json" href="https://vuepress-theme-hope-demo.mrhope.site/feed.json" title="Draco&#39;s Blog JSON Feed">
    <link rel="alternate" type="application/rss+xml" href="https://vuepress-theme-hope-demo.mrhope.site/rss.xml" title="Draco&#39;s Blog RSS Feed">
    <link rel="icon" href="/favicon.ico">
    <link rel="icon" href="/assets/icon/chrome-mask-512.png" type="image/png" sizes="512x512">
    <link rel="icon" href="/assets/icon/chrome-mask-192.png" type="image/png" sizes="192x192">
    <link rel="icon" href="/assets/icon/chrome-512.png" type="image/png" sizes="512x512">
    <link rel="icon" href="/assets/icon/chrome-192.png" type="image/png" sizes="192x192">
    <link rel="manifest" href="/manifest.webmanifest" crossorigin="use-credentials">
    <link rel="apple-touch-icon" href="/assets/icon/apple-icon-152.png">
    <meta name="description" content="美好的肉体即正义本身">
    <meta property="og:url" content="/database/mysql/Mysql_theory_note.html">
    <meta property="og:site_name" content="Draco&#39;s Blog">
    <meta property="og:title" content="Mysql理论学习笔记">
    <meta property="og:description" content="1. 参考 2. 存储引擎 2.1 查看MySQL提供的所有存储引擎 从上图我们可以查看出 MySQL 当前默认的存储引擎是InnoDB,并且在5.7版本所有的存储引擎中只有 InnoDB 是事务性存储引擎，也就是说只有 InnoDB ⽀持事务。 2.2 查看MySQL当前默认的存储引擎 我们也可以通过下⾯的命令查看默认的存储引擎。 查看表的存储引擎 2.3">
    <meta property="og:type" content="article">
    <meta property="og:locale" content="en-US">
    <meta property="og:locale:alternate" content="zh-CN">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image:alt" content="Draco&#39;s Blog">
    <meta property="article:author" content="Draco">
    <meta property="article:tag" content="数据库">
    <meta property="article:published_time" content="2020-09-16T18:10:26.000Z">
    <meta name="theme-color" content="#46bd87">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileImage" content="/assets/icon/ms-icon-144.png">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    
    <link rel="preload" href="/assets/css/0.styles.82fe602c.css" as="style"><link rel="preload" href="/assets/js/app.1833a1c6.js" as="script"><link rel="preload" href="/assets/js/vendors~layout-Layout.9a3e8ac5.js" as="script"><link rel="preload" href="/assets/js/vendors~layout-Blog~layout-Layout~layout-NotFound.17f5562a.js" as="script"><link rel="preload" href="/assets/js/page-Mysql理论学习笔记.49c17beb.js" as="script"><link rel="preload" href="/assets/js/vendors~layout-Blog~layout-Layout~layout-NotFound~layout-Slide.30f611ca.js" as="script"><link rel="prefetch" href="/assets/js/122.795490ec.js"><link rel="prefetch" href="/assets/js/123.9de996f2.js"><link rel="prefetch" href="/assets/js/124.0ce7f676.js"><link rel="prefetch" href="/assets/js/125.463851a0.js"><link rel="prefetch" href="/assets/js/126.f10ed227.js"><link rel="prefetch" href="/assets/js/127.9c4b5585.js"><link rel="prefetch" href="/assets/js/layout-Blog.8470e550.js"><link rel="prefetch" href="/assets/js/layout-Layout.985ed51b.js"><link rel="prefetch" href="/assets/js/layout-NotFound.625f2d8c.js"><link rel="prefetch" href="/assets/js/layout-Slide.62c63992.js"><link rel="prefetch" href="/assets/js/page-About.4371c15b.js"><link rel="prefetch" href="/assets/js/page-BlogHome.696446a1.js"><link rel="prefetch" href="/assets/js/page-Componentdisabled.33e03b3d.js"><link rel="prefetch" href="/assets/js/page-DockerInstallsoftware.112f7ccf.js"><link rel="prefetch" href="/assets/js/page-Dockerdeployment.5a9d9aa1.js"><link rel="prefetch" href="/assets/js/page-Docker学习笔记.cd8447a4.js"><link rel="prefetch" href="/assets/js/page-Dubbo笔记.32e5e3ba.js"><link rel="prefetch" href="/assets/js/page-EasyExcel导入导出Excel.6e84a8d1.js"><link rel="prefetch" href="/assets/js/page-ElasticSearch笔记.0550242b.js"><link rel="prefetch" href="/assets/js/page-ElasticSearch面试.1ee5d2d6.js"><link rel="prefetch" href="/assets/js/page-Encryptionarticle.30fe2908.js"><link rel="prefetch" href="/assets/js/page-Git笔记.118727ec.js"><link rel="prefetch" href="/assets/js/page-Golang-介绍和使用.e9ad5aa2.js"><link rel="prefetch" href="/assets/js/page-Golang-语法基础.225dfa1c.js"><link rel="prefetch" href="/assets/js/page-Guides.3829f5b0.js"><link rel="prefetch" href="/assets/js/page-Hadoop伪分布式配置.5cc5027c.js"><link rel="prefetch" href="/assets/js/page-HttpServletrequest与HttpServletResponse.329b7cdb.js"><link rel="prefetch" href="/assets/js/page-IDEA初始化SpringBoot项目+逆向工程+配置.81b017a9.js"><link rel="prefetch" href="/assets/js/page-JVM-类加载子系统.1001bf56.js"><link rel="prefetch" href="/assets/js/page-JVM-运行时数据区.6857974c.js"><link rel="prefetch" href="/assets/js/page-JVM.99b17fe2.js"><link rel="prefetch" href="/assets/js/page-JWT认证原理(更新中).8976b722.js"><link rel="prefetch" href="/assets/js/page-Java-IO.33d2aeef.js"><link rel="prefetch" href="/assets/js/page-Java-String.16e82b9d.js"><link rel="prefetch" href="/assets/js/page-Java-UML类图.3c387a7e.js"><link rel="prefetch" href="/assets/js/page-Java-基础知识笔记.8feeab9d.js"><link rel="prefetch" href="/assets/js/page-Java-基础面试题.40e1ccde.js"><link rel="prefetch" href="/assets/js/page-Java-多线程并发.81e55472.js"><link rel="prefetch" href="/assets/js/page-Java-常用方法汇总.35566225.js"><link rel="prefetch" href="/assets/js/page-Java-新特性.604f8a4e.js"><link rel="prefetch" href="/assets/js/page-Java-注解和反射.6f0fcb8f.js"><link rel="prefetch" href="/assets/js/page-Java-设计模式.95ca75e6.js"><link rel="prefetch" href="/assets/js/page-Java-集合容器.d4925442.js"><link rel="prefetch" href="/assets/js/page-JavaScript面试题.c7b91857.js"><link rel="prefetch" href="/assets/js/page-JavaSwing-超市系统.adacd3d2.js"><link rel="prefetch" href="/assets/js/page-Javaweb大学活动管理系统.f2c8e46a.js"><link rel="prefetch" href="/assets/js/page-Java多线程-1.fb04df8d.js"><link rel="prefetch" href="/assets/js/page-Java多线程-2.0085fb84.js"><link rel="prefetch" href="/assets/js/page-Java多线程-JUC使用.7b21c42d.js"><link rel="prefetch" href="/assets/js/page-Java多线程-关键字锁.0631ff2a.js"><link rel="prefetch" href="/assets/js/page-Java学习目录.df7d7e03.js"><link rel="prefetch" href="/assets/js/page-Java面试整理.7b9abd19.js"><link rel="prefetch" href="/assets/js/page-Linux常用命令.0476cfd5.js"><link rel="prefetch" href="/assets/js/page-Linux技巧.e0dbcc91.js"><link rel="prefetch" href="/assets/js/page-MarkdownEnhance.90610337.js"><link rel="prefetch" href="/assets/js/page-Markdown增强.c7cae75c.js"><link rel="prefetch" href="/assets/js/page-Maven笔记.fec7668a.js"><link rel="prefetch" href="/assets/js/page-MyProject.c2cc9b4c.js"><link rel="prefetch" href="/assets/js/page-Mybatis-Plus基础笔记.f53477d2.js"><link rel="prefetch" href="/assets/js/page-Mybatis基础笔记.fd1992f5.js"><link rel="prefetch" href="/assets/js/page-Mybatis语法笔记.5f96f5c2.js"><link rel="prefetch" href="/assets/js/page-Mybatis逆向工程Example类使用.321ecdde.js"><link rel="prefetch" href="/assets/js/page-Nginx-动静分离.8f8c4f1a.js"><link rel="prefetch" href="/assets/js/page-Nginx-反向代理.41f1388b.js"><link rel="prefetch" href="/assets/js/page-Nginx-负载均衡.7cac89be.js"><link rel="prefetch" href="/assets/js/page-Nginx基础笔记和安装配置.872de038.js"><link rel="prefetch" href="/assets/js/page-Nginx学习目录.cbca53cb.js"><link rel="prefetch" href="/assets/js/page-Promise异步调用.979984c7.js"><link rel="prefetch" href="/assets/js/page-RabbitMQ.88b4f0e9.js"><link rel="prefetch" href="/assets/js/page-RabbitMQ面试题.de452168.js"><link rel="prefetch" href="/assets/js/page-Redis应用场景.b9bd7a4e.js"><link rel="prefetch" href="/assets/js/page-Redis理论学习笔记.85679b6e.js"><link rel="prefetch" href="/assets/js/page-Redis部署与基本使用.ce8e0e86.js"><link rel="prefetch" href="/assets/js/page-Redis集群和哨兵.48b0e72b.js"><link rel="prefetch" href="/assets/js/page-SQL学习笔记.f4b268c6.js"><link rel="prefetch" href="/assets/js/page-SSH.fd9a8e6b.js"><link rel="prefetch" href="/assets/js/page-Slidepage.c3fedf61.js"><link rel="prefetch" href="/assets/js/page-Spring-RestTemplate.7bb25789.js"><link rel="prefetch" href="/assets/js/page-SpringBootVue项目搭建(持续更新).0b71951e.js"><link rel="prefetch" href="/assets/js/page-SpringSecurity.afa15ca0.js"><link rel="prefetch" href="/assets/js/page-Spring基础笔记.48504a1c.js"><link rel="prefetch" href="/assets/js/page-Spring注解.df4f3228.js"><link rel="prefetch" href="/assets/js/page-Spring错误坑记录.509f77d0.js"><link rel="prefetch" href="/assets/js/page-Spring错误笔记.239a8e78.js"><link rel="prefetch" href="/assets/js/page-Spring面试题.8e951ced.js"><link rel="prefetch" href="/assets/js/page-Swagger使用.415c9ef4.js"><link rel="prefetch" href="/assets/js/page-pageconfig.2f35f3a0.js"><link rel="prefetch" href="/assets/js/page-主要功能与配置演示.f0ec9086.js"><link rel="prefetch" href="/assets/js/page-修改Host以访问Github.11b7906b.js"><link rel="prefetch" href="/assets/js/page-前端学习目录.44d0b43c.js"><link rel="prefetch" href="/assets/js/page-字节测开面经.8ab835de.js"><link rel="prefetch" href="/assets/js/page-学习路线.7351d9aa.js"><link rel="prefetch" href="/assets/js/page-实验室出入管理小程序.9739f132.js"><link rel="prefetch" href="/assets/js/page-密码加密的文章.21502318.js"><link rel="prefetch" href="/assets/js/page-幻灯片页.3ec92a57.js"><link rel="prefetch" href="/assets/js/page-操作系统.b0476e08.js"><link rel="prefetch" href="/assets/js/page-数据库学习目录.ee1fa6ab.js"><link rel="prefetch" href="/assets/js/page-数据结构.ae596320.js"><link rel="prefetch" href="/assets/js/page-数据结构算法学习目录.c4070df9.js"><link rel="prefetch" href="/assets/js/page-数据结构算法题目合集.4f14d3f9.js"><link rel="prefetch" href="/assets/js/page-服务器上部署SpringBoot.4e9f567b.js"><link rel="prefetch" href="/assets/js/page-概述参考.8a9e0981.js"><link rel="prefetch" href="/assets/js/page-算法.55b7e53d.js"><link rel="prefetch" href="/assets/js/page-组件禁用.76ce1ea9.js"><link rel="prefetch" href="/assets/js/page-腾讯云学习笔记.7b1f9d87.js"><link rel="prefetch" href="/assets/js/page-自定义布局.a1f1758b.js"><link rel="prefetch" href="/assets/js/page-计算机网络.70f5d540.js"><link rel="prefetch" href="/assets/js/page-认识SpringCloud.63a44e4e.js"><link rel="prefetch" href="/assets/js/page-设计模式七大原则.73c58d17.js"><link rel="prefetch" href="/assets/js/page-设计模式之J2EE设计模式.aa637297.js"><link rel="prefetch" href="/assets/js/page-设计模式之创建型设计模式.0af89f6a.js"><link rel="prefetch" href="/assets/js/page-设计模式之结构型设计模式.b8aa38d4.js"><link rel="prefetch" href="/assets/js/page-设计模式之行为型设计模式.8aa88489.js"><link rel="prefetch" href="/assets/js/page-面试大纲.bfd20924.js"><link rel="prefetch" href="/assets/js/page-音频批量识别平台.f50266ce.js"><link rel="prefetch" href="/assets/js/page-页面配置.7e15d6e2.js"><link rel="prefetch" href="/assets/js/page-项目主页.dd9fc21f.js"><link rel="prefetch" href="/assets/js/vendors~flowchart.46c33df9.js"><link rel="prefetch" href="/assets/js/vendors~mermaid.fc0ea9c2.js"><link rel="prefetch" href="/assets/js/vendors~photo-swipe.e5996d2b.js"><link rel="prefetch" href="/assets/js/vendors~reveal.a3d3048a.js"><link rel="prefetch" href="/assets/js/vendors~waline.4a586839.js">
    <link rel="stylesheet" href="/assets/css/0.styles.82fe602c.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container has-navbar has-sidebar has-anchor"><header class="navbar"><!----> <div class="content__navbar-start"></div> <button title="Sidebar Button" class="sidebar-button"><span class="icon"></span></button> <a href="/" class="home-link router-link-active"><img src="https://blog-1300186248.cos.ap-shanghai.myqcloud.com/avatar.png" alt="Draco's Blog" class="logo"> <!----> <span class="site-name can-hide">Draco's Blog</span></a> <!----> <div class="content__navbar-center"></div> <div class="links"><button tabindex="-1" aria-hidden="true" class="color-button"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="skin-icon"><path d="M224 800c0 9.6 3.2 44.8 6.4 54.4 6.4 48-48 76.8-48 76.8s80 41.6 147.2 0 134.4-134.4
        38.4-195.2c-22.4-12.8-41.6-19.2-57.6-19.2C259.2 716.8 227.2 761.6 224 800zM560 675.2l-32
        51.2c-51.2 51.2-83.2 32-83.2 32 25.6 67.2 0 112-12.8 128 25.6 6.4 51.2 9.6 80 9.6 54.4 0
        102.4-9.6 150.4-32l0 0c3.2 0 3.2-3.2 3.2-3.2 22.4-16 12.8-35.2
        6.4-44.8-9.6-12.8-12.8-25.6-12.8-41.6 0-54.4 60.8-99.2 137.6-99.2 6.4 0 12.8 0 22.4
        0 12.8 0 38.4 9.6 48-25.6 0-3.2 0-3.2 3.2-6.4 0-3.2 3.2-6.4 3.2-6.4 6.4-16 6.4-16 6.4-19.2
        9.6-35.2 16-73.6 16-115.2 0-105.6-41.6-198.4-108.8-268.8C704 396.8 560 675.2 560 675.2zM224
        419.2c0-28.8 22.4-51.2 51.2-51.2 28.8 0 51.2 22.4 51.2 51.2 0 28.8-22.4 51.2-51.2 51.2C246.4
        470.4 224 448 224 419.2zM320 284.8c0-22.4 19.2-41.6 41.6-41.6 22.4 0 41.6 19.2 41.6 41.6 0
        22.4-19.2 41.6-41.6 41.6C339.2 326.4 320 307.2 320 284.8zM457.6 208c0-12.8 12.8-25.6 25.6-25.6
        12.8 0 25.6 12.8 25.6 25.6 0 12.8-12.8 25.6-25.6 25.6C470.4 233.6 457.6 220.8 457.6 208zM128
        505.6C128 592 153.6 672 201.6 736c28.8-60.8 112-60.8 124.8-60.8-16-51.2 16-99.2
        16-99.2l316.8-422.4c-48-19.2-99.2-32-150.4-32C297.6 118.4 128 291.2 128 505.6zM764.8
        86.4c-22.4 19.2-390.4 518.4-390.4 518.4-22.4 28.8-12.8 76.8 22.4 99.2l9.6 6.4c35.2 22.4
        80 12.8 99.2-25.6 0 0 6.4-12.8 9.6-19.2 54.4-105.6 275.2-524.8 288-553.6
        6.4-19.2-3.2-32-19.2-32C777.6 76.8 771.2 80 764.8 86.4z"></path></svg> <div class="color-picker-menu" style="display:none;"><div class="theme-options"><ul class="themecolor-select"><label for="themecolor-select">Theme Color:</label> <li><span class="default-theme"></span></li> </ul> <div class="darkmode-toggle"><label for="darkmode-toggle" class="desc">Theme Mode:</label> <div class="darkmode-switch"><div class="item day"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon light-icon"><path d="M512 256a42.667 42.667 0 0 0 42.667-42.667V128a42.667 42.667 0 0 0-85.334 0v85.333A42.667 42.667 0 0 0 512 256zm384 213.333h-85.333a42.667 42.667 0 0 0 0 85.334H896a42.667 42.667 0 0 0 0-85.334zM256 512a42.667 42.667 0 0 0-42.667-42.667H128a42.667 42.667 0 0 0 0 85.334h85.333A42.667 42.667 0 0 0 256 512zm9.387-298.667a42.667 42.667 0 0 0-59.307 62.72l61.44 59.307a42.667 42.667 0 0 0 31.147 11.947 42.667 42.667 0 0 0 30.72-13.227 42.667 42.667 0 0 0 0-60.16zm459.946 133.974a42.667 42.667 0 0 0 29.44-11.947l61.44-59.307a42.667 42.667 0 0 0-57.6-62.72l-61.44 60.587a42.667 42.667 0 0 0 0 60.16 42.667 42.667 0 0 0 28.16 13.227zM512 768a42.667 42.667 0 0 0-42.667 42.667V896a42.667 42.667 0 0 0 85.334 0v-85.333A42.667 42.667 0 0 0 512 768zm244.48-79.36a42.667 42.667 0 0 0-59.307 61.44l61.44 60.587a42.667 42.667 0 0 0 29.44 11.946 42.667 42.667 0 0 0 30.72-12.8 42.667 42.667 0 0 0 0-60.586zm-488.96 0-61.44 59.307a42.667 42.667 0 0 0 0 60.586 42.667 42.667 0 0 0 30.72 12.8 42.667 42.667 0 0 0 28.587-10.666l61.44-59.307a42.667 42.667 0 0 0-59.307-61.44zM512 341.333A170.667 170.667 0 1 0 682.667 512 170.667 170.667 0 0 0 512 341.333z" fill="currentColor"></path></svg></div> <div class="item auto active"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon auto-icon"><path d="M460.864 539.072H564.8L510.592 376l-49.728 163.072zM872 362.368V149.504H659.648L510.528 0l-149.12 149.504H149.12v212.928L0 511.872l149.12 149.504v212.928h212.352l149.12 149.504 149.12-149.504h212.352V661.376l149.12-149.504L872 362.368zM614.464 693.12l-31.616-90.624H438.272l-31.616 90.624h-85.888l144.576-407.68h90.368l144.576 407.68h-85.824zm0 0" fill="currentColor"></path></svg></div> <div class="item night"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon dark-icon"><path d="M935.539 630.402c-11.43-11.432-28.674-14.739-43.531-8.354-46.734 20.103-96.363 30.297-147.508 30.297-99.59 0-193.221-38.784-263.64-109.203-108.637-108.637-139.61-270.022-78.908-411.148a39.497 39.497 0 0 0-51.886-51.887c-52.637 22.64-100.017 54.81-140.826 95.616-85.346 85.346-132.346 198.821-132.346 319.52 0 120.7 47.001 234.172 132.347 319.519S408.063 947.11 528.76 947.11c120.7 0 234.172-47.003 319.52-132.351 40.809-40.81 72.978-88.19 95.616-140.826a39.497 39.497 0 0 0-8.356-43.532z" fill="currentColor"></path></svg></div></div> <!----></div></div></div></button> <div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/category/" class="nav-link"><i class="iconfont icon-note"></i>
  Category
</a></div><div class="nav-item"><a href="/project/" class="nav-link"><i class="iconfont icon-note"></i>
  My Project
</a></div><div class="nav-item"><a href="/guide/" class="nav-link"><i class="iconfont icon-creative"></i>
  Guide
</a></div><div class="nav-item"><a href="/about/" class="nav-link"><i class="iconfont icon-info"></i>
  About
</a></div></nav> <div class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Select language" class="dropdown-title"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon i18n-icon" style="width:1rem;height:1rem;vertical-align:middle;margin-left:1rem;"><path d="M639.981 344.075c14.805 44.45 34.542 79.023 69.084 113.596 29.603-29.634 49.34-69.146 64.145-113.596H639.981zM314.33 591.024h128.29l-64.145-172.865-64.145 172.865z" fill="currentColor"></path> <path d="M807.746 116.882H215.643c-54.274 0-98.681 44.45-98.681 98.78v592.677c0 54.329 44.407 98.78 98.68 98.78h592.104c54.273 0 98.681-44.451 98.681-98.78V215.66c0-54.329-39.475-98.78-98.68-98.78zM565.971 754.01c-9.866 9.878-19.738 9.878-29.603 9.878-4.94 0-14.805 0-19.738-4.939-4.939-4.939-9.872 0-9.872-4.939s-4.932-9.878-9.865-19.756c-4.94-9.878-4.94-14.817-9.872-24.695L467.29 655.23H294.592l-19.737 54.33c-9.866 19.755-14.805 34.572-19.738 44.45-4.939 9.878-14.804 9.878-29.603 9.878-9.871 0-19.737-4.939-29.609-9.878-9.865-9.878-14.798-14.817-14.798-24.695 0-4.939 0-9.878 4.933-19.756 4.939-9.878 4.939-14.817 9.865-24.695l108.553-276.583c4.939-9.878 4.939-19.756 9.872-29.633 4.932-9.878 9.865-19.756 14.798-24.695 4.939-4.94 9.872-14.817 19.737-19.756 9.872-4.94 19.738-4.94 29.61-4.94 9.865 0 19.73 0 29.603 4.94 9.865 4.939 14.804 9.878 19.737 19.756 4.933 4.939 9.866 14.817 14.798 24.695 4.94 9.877 9.872 19.755 14.805 34.572l108.553 271.644c9.865 19.756 14.804 34.573 14.804 44.451-4.939 4.94-9.872 14.817-14.804 24.695zm271.378-192.62c-54.273-19.756-93.748-44.451-128.29-74.085-34.536 34.573-78.943 59.268-133.223 74.085l-14.798-24.695c54.273-14.817 98.68-34.573 133.223-69.146-34.542-34.573-64.145-79.024-74.017-128.413h-49.34V319.38h133.228c-9.877-14.817-19.743-34.573-29.609-49.39l14.799-4.94c9.871 14.818 24.676 34.574 34.542 54.33h123.35v24.695h-49.34c-14.798 49.39-39.468 93.84-69.077 123.474 34.541 29.634 74.01 54.329 128.29 69.146l-19.738 24.695z" fill="currentColor"></path></svg> <span class="arrow"></span></button> <ul class="nav-dropdown"><li class="dropdown-item"><a href="/database/mysql/Mysql_theory_note/" aria-current="page" class="nav-link router-link-exact-active router-link-active active"><!---->
  English
</a></li><li class="dropdown-item"><a href="/zh/" class="nav-link"><!---->
  简体中文
</a></li></ul></div></div></div> <a rel="noopener noreferrer" href="https://github.com/LifeAlsoIsGG" target="_blank" class="repo-link can-hide">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <!----> <div class="content__navbar-end"></div></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><div vocab="https://schema.org/" typeof="Person" class="blogger-info mobile"><div data-balloon-pos="down" role="navigation" class="blogger hasIntro"><img property="image" alt="Blogger Avatar" src="https://blog-1300186248.cos.ap-shanghai.myqcloud.com/avatar.png" class="avatar round"> <div property="name" class="name">Draco</div> <meta property="url" content="/about/"></div> <div class="num-wrapper"><div><div class="num">108</div> <div>Articles</div></div> <div><div class="num">31</div> <div>Category</div></div> <div><div class="num">55</div> <div>Tags</div></div> <div><div class="num">108</div> <div>Timeline</div></div></div> <div class="media-links-wrapper"><a href="https://github.com/LifeAlsoIsGG" rel="noopener noreferrer" target="_blank" aria-label="Github" data-balloon-pos="up" class="media-link"><span class="sr-only">Github</span> <svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon icon-github"><circle cx="512" cy="512" r="512" fill="#171515"></circle> <path d="M509.423 146.442c-200.317 0-362.756 162.42-362.756 362.8 0 160.266 103.936 296.24 248.109 344.217 18.139 3.327 24.76-7.872 24.76-17.486 0-8.613-.313-31.427-.49-61.702-100.912 21.923-122.205-48.63-122.205-48.63-16.495-41.91-40.28-53.067-40.28-53.067-32.937-22.51 2.492-22.053 2.492-22.053 36.407 2.566 55.568 37.386 55.568 37.386 32.362 55.438 84.907 39.43 105.58 30.143 3.296-23.444 12.667-39.43 23.032-48.498-80.557-9.156-165.246-40.28-165.246-179.297 0-39.604 14.135-71.988 37.342-97.348-3.731-9.178-16.18-46.063 3.556-96.009 0 0 30.46-9.754 99.76 37.19 28.937-8.048 59.97-12.071 90.823-12.211 30.807.14 61.843 4.165 90.822 12.21 69.26-46.944 99.663-37.189 99.663-37.189 19.792 49.946 7.34 86.831 3.61 96.01 23.25 25.359 37.29 57.742 37.29 97.347 0 139.366-84.82 170.033-165.637 179.013 13.026 11.2 24.628 33.342 24.628 67.182 0 48.498-.445 87.627-.445 99.521 0 9.702 6.535 20.988 24.945 17.444 144.03-48.067 247.881-183.95 247.881-344.175 0-200.378-162.442-362.798-362.802-362.798z" fill="#FFF"></path></svg></a><a href="https://twitter.com/LifeAlsoIsGG" rel="noopener noreferrer" target="_blank" aria-label="Twitter" data-balloon-pos="up" class="media-link"><span class="sr-only">Twitter</span> <svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon icon-twitter"><circle cx="512" cy="512" r="512" fill="#5EAADE"></circle> <path d="M749.737 364.631c-17.594 7.805-36.513 13.088-56.371 15.459 20.269-12.148 35.836-31.387 43.156-54.312A196.233 196.233 0 0 1 674.2 349.6c-17.894-19.083-43.406-30.997-71.636-30.997-54.2 0-98.137 43.944-98.137 98.157 0 7.695.861 15.19 2.544 22.373-81.57-4.092-153.876-43.174-202.284-102.558-8.443 14.498-13.285 31.356-13.285 49.348 0 34.05 17.326 64.096 43.656 81.697a97.69 97.69 0 0 1-44.447-12.277c-.01.41-.01.82-.01 1.24 0 47.558 33.822 87.23 78.72 96.249a98.285 98.285 0 0 1-25.852 3.448 97.491 97.491 0 0 1-18.465-1.768c12.483 39.002 48.725 67.38 91.672 68.17-33.582 26.334-75.897 42.024-121.884 42.024-7.924 0-15.736-.46-23.408-1.37 43.434 27.844 95.014 44.104 150.443 44.104 180.505 0 279.221-149.576 279.221-279.294 0-4.263-.09-8.494-.278-12.708 19.178-13.835 35.813-31.115 48.967-50.807z" fill="#FFF"></path></svg></a><a href="http://localhost:8083/blog-vuepress/tencent:/AddContact/?fromId=50&amp;fromSubId=1&amp;subcmd=all&amp;uin=1138312802.html" rel="noopener noreferrer" target="_blank" aria-label="QQ" data-balloon-pos="up" class="media-link"><span class="sr-only">QQ</span> <svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon icon-qq"><circle cx="512" cy="512" r="512" fill="#5EAADE"></circle> <path d="M729.46 627.3c-3.157-39.628-24.045-83.747-32.624-105.91l-22.084-57.047c-.702-23.73 6.312-78.322-30.511-146.61s-110.82-74.446-124.497-75.147c-13.677-.701-99.248-1.403-141.331 72.945-42.084 74.347-30.745 148.812-30.745 148.812l-23.523 57.478c-.001.002-10.962 26.223-20.43 58.135-9.469 31.914-18.938 82.064-9.469 92.234 9.47 10.17 43.837-46.643 46.993-51.903 0 0 2.456 27.18 8.943 41.383l.81 1.776.33.723.38.826.3.652.444.96.203.436a281.465 281.465 0 0 0 1.917 4.025l.189.386c.231.473.468.953.711 1.442l.146.292c6.886 13.807 18.61 33.823 37.443 50.42l.018.016-1.184.387c-10.667 3.516-31.694 11.21-40.625 19.82-1.717 1.655-2.987 3.344-3.65 5.045-5.376 13.794 4.208 15.43 20.575 16.366 16.366.934 94.923 3.04 132.564-2.221.407-.056.787-.114 1.17-.171 2.711.094 5.324.142 7.83.16l.151.002c.836.005 1.663.008 2.475.008.496 0 1.015-.002 1.542-.006l.21-.001a222.593 222.593 0 0 0 5.462-.107c.26.038.508.076.778.114 37.642 5.26 116.198 3.156 132.564 2.22 16.366-.934 25.951-2.571 20.574-16.365-4.302-11.037-34.175-21.62-45.956-25.413a141.388 141.388 0 0 0 7.958-7.645l.237-.245a142.494 142.494 0 0 0 2.53-2.702c42.435-46.643 38.928-76.101 40.682-92.935 0 0 35.775 51.553 43.488 53.306 7.713 1.754 10.169-6.31 7.012-45.94z" fill="#FFF"></path></svg></a></div></div> <hr> <!----> <div class="content__sidebar-top"></div> <nav class="sidebar-nav-links"><div class="nav-item"><a href="/category/" class="nav-link"><i class="iconfont icon-note"></i>
  Category
</a></div><div class="nav-item"><a href="/project/" class="nav-link"><i class="iconfont icon-note"></i>
  My Project
</a></div><div class="nav-item"><a href="/guide/" class="nav-link"><i class="iconfont icon-creative"></i>
  Guide
</a></div><div class="nav-item"><a href="/about/" class="nav-link"><i class="iconfont icon-info"></i>
  About
</a></div> <a rel="noopener noreferrer" href="https://github.com/LifeAlsoIsGG" target="_blank" class="repo-link">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav> <!----> <div class="content__sidebar-center"></div> <ul class="sidebar-links"><li><a href="/study-line/" class="sidebar-link"><i class="iconfont icon-info"></i>学习路线</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading clickable"><!----> <span class="title">My Project</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading clickable"><!----> <span class="title">Interview</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading clickable"><i class="iconfont icon-code"></i> <span class="title">java</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading clickable"><!----> <span class="title">Golang</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading clickable open"><!----> <span class="title">Database</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/database/" aria-current="page" class="sidebar-link">数据库学习目录</a></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading clickable open"><!----> <span class="title">Mysql</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/database/mysql/Mysql_theory_note/" aria-current="page" class="active sidebar-link">Mysql理论学习笔记</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/database/mysql/Mysql_theory_note/#_1-参考" class="sidebar-link">1. 参考</a></li><li class="sidebar-sub-header"><a href="/database/mysql/Mysql_theory_note/#_2-存储引擎" class="sidebar-link">2. 存储引擎</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/database/mysql/Mysql_theory_note/#_2-1-查看mysql提供的所有存储引擎" class="sidebar-link heading3">2.1 查看MySQL提供的所有存储引擎</a></li><li class="sidebar-sub-header"><a href="/database/mysql/Mysql_theory_note/#_2-2-查看mysql当前默认的存储引擎" class="sidebar-link heading3">2.2 查看MySQL当前默认的存储引擎</a></li><li class="sidebar-sub-header"><a href="/database/mysql/Mysql_theory_note/#_2-3-innodb四大特性" class="sidebar-link heading3">2.3 InnoDB四大特性</a></li><li class="sidebar-sub-header"><a href="/database/mysql/Mysql_theory_note/#_2-4-myisam和innodb区别" class="sidebar-link heading3">2.4 MyISAM和InnoDB区别</a></li><li class="sidebar-sub-header"><a href="/database/mysql/Mysql_theory_note/#_2-5-如何选择" class="sidebar-link heading3">2.5 如何选择</a></li></ul></li><li class="sidebar-sub-header"><a href="/database/mysql/Mysql_theory_note/#_3-索引" class="sidebar-link">3. 索引</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/database/mysql/Mysql_theory_note/#_3-1-缺点" class="sidebar-link heading3">3.1 缺点</a></li><li class="sidebar-sub-header"><a href="/database/mysql/Mysql_theory_note/#_3-2-种类" class="sidebar-link heading3">3.2 种类</a></li><li class="sidebar-sub-header"><a href="/database/mysql/Mysql_theory_note/#_3-3-主键索引与唯一索引区别" class="sidebar-link heading3">3.3 主键索引与唯一索引区别</a></li><li class="sidebar-sub-header"><a href="/database/mysql/Mysql_theory_note/#_3-4-使用场景" class="sidebar-link heading3">3.4 使用场景</a></li><li class="sidebar-sub-header"><a href="/database/mysql/Mysql_theory_note/#_3-5-哈希索引" class="sidebar-link heading3">3.5 哈希索引</a></li><li class="sidebar-sub-header"><a href="/database/mysql/Mysql_theory_note/#_3-6-b-树" class="sidebar-link heading3">3.6 B-树</a></li><li class="sidebar-sub-header"><a href="/database/mysql/Mysql_theory_note/#_3-7-b-树" class="sidebar-link heading3">3.7 B+树</a></li><li class="sidebar-sub-header"><a href="/database/mysql/Mysql_theory_note/#_3-8-myisam实现方式-非聚簇索引" class="sidebar-link heading3">3.8 MyISAM实现方式：非聚簇索引</a></li><li class="sidebar-sub-header"><a href="/database/mysql/Mysql_theory_note/#_3-9-innodb实现方式-聚簇索引" class="sidebar-link heading3">3.9 InnoDB实现方式：聚簇索引</a></li><li class="sidebar-sub-header"><a href="/database/mysql/Mysql_theory_note/#_3-10-索引使用注意点" class="sidebar-link heading3">3.10 索引使用注意点</a></li><li class="sidebar-sub-header"><a href="/database/mysql/Mysql_theory_note/#_3-11-innodb索引和myisam索引的区别" class="sidebar-link heading3">3.11 InnoDB索引和MyISAM索引的区别</a></li></ul></li><li class="sidebar-sub-header"><a href="/database/mysql/Mysql_theory_note/#_4-事务" class="sidebar-link">4. 事务</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/database/mysql/Mysql_theory_note/#_4-1-什么时候要用到事务" class="sidebar-link heading3">4.1 什么时候要用到事务</a></li><li class="sidebar-sub-header"><a href="/database/mysql/Mysql_theory_note/#_4-2-回滚注解-transactional" class="sidebar-link heading3">4.2 回滚注解@Transactional</a></li><li class="sidebar-sub-header"><a href="/database/mysql/Mysql_theory_note/#_4-3-四大特性" class="sidebar-link heading3">4.3 四大特性</a></li><li class="sidebar-sub-header"><a href="/database/mysql/Mysql_theory_note/#_4-4-并发事务带来的问题" class="sidebar-link heading3">4.4 并发事务带来的问题</a></li><li class="sidebar-sub-header"><a href="/database/mysql/Mysql_theory_note/#_4-5-事务隔离级别" class="sidebar-link heading3">4.5 事务隔离级别</a></li><li class="sidebar-sub-header"><a href="/database/mysql/Mysql_theory_note/#_4-6-mvcc" class="sidebar-link heading3">4.6 MVCC</a></li></ul></li><li class="sidebar-sub-header"><a href="/database/mysql/Mysql_theory_note/#_5-三大范式" class="sidebar-link">5. 三大范式</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/database/mysql/Mysql_theory_note/#_5-1-第一范式" class="sidebar-link heading3">5.1 第一范式</a></li><li class="sidebar-sub-header"><a href="/database/mysql/Mysql_theory_note/#_5-2-第二范式" class="sidebar-link heading3">5.2 第二范式</a></li><li class="sidebar-sub-header"><a href="/database/mysql/Mysql_theory_note/#_5-3-第三范式" class="sidebar-link heading3">5.3 第三范式</a></li></ul></li><li class="sidebar-sub-header"><a href="/database/mysql/Mysql_theory_note/#_6-锁" class="sidebar-link">6. 锁</a></li><li class="sidebar-sub-header"><a href="/database/mysql/Mysql_theory_note/#_7-mysql的树" class="sidebar-link">7. Mysql的树</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/database/mysql/Mysql_theory_note/#_7-1-字典树-前缀树" class="sidebar-link heading3">7.1 字典树(前缀树)</a></li><li class="sidebar-sub-header"><a href="/database/mysql/Mysql_theory_note/#_7-2-二叉排序树" class="sidebar-link heading3">7.2 二叉排序树</a></li></ul></li><li class="sidebar-sub-header"><a href="/database/mysql/Mysql_theory_note/#_8-mysql优化" class="sidebar-link">8. Mysql优化</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/database/mysql/Mysql_theory_note/#索引-使数据库放弃索引的情况" class="sidebar-link heading3">索引/使数据库放弃索引的情况</a></li></ul></li><li class="sidebar-sub-header"><a href="/database/mysql/Mysql_theory_note/#sql注入" class="sidebar-link">SQL注入</a></li></ul></li><li><a href="/database/mysql/SQL_note/" class="sidebar-link">SQL学习笔记</a></li></ul></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading clickable"><!----> <span class="title">Redis</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading clickable"><!----> <span class="title">Hadoop</span> <span class="arrow right"></span></p> <!----></section></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading clickable"><!----> <span class="title">Spring</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading clickable"><!----> <span class="title">Mybatis</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading clickable"><!----> <span class="title">DataStructure</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading clickable"><!----> <span class="title">Linux</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading clickable"><!----> <span class="title">ElasticSearch</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading clickable"><!----> <span class="title">Docker</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading clickable"><!----> <span class="title">Nginx</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading clickable"><!----> <span class="title">MessageQueue</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading clickable"><!----> <span class="title">ErrorNote</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading clickable"><!----> <span class="title">Git</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading clickable"><!----> <span class="title">Frontend</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading clickable"><!----> <span class="title">Guide</span> <span class="arrow right"></span></p> <!----></section></li><li><a href="/about/" class="sidebar-link"><i class="iconfont icon-info"></i>About</a></li></ul> <!----> <div class="content__sidebar-bottom"></div> <!----></aside> <main class="page"><nav class="breadcrumb"><ol vocab="https://schema.org/" typeof="BreadcrumbList"><li property="itemListElement" typeof="ListItem"><a href="/database/" property="item" typeof="WebPage" class="router-link-active"><!----> <span property="name">数据库学习目录</span></a> <meta property="position" content="1"></li><li property="itemListElement" typeof="ListItem" class="is-active"><a href="/database/mysql/Mysql_theory_note/" aria-current="page" property="item" typeof="WebPage" class="router-link-exact-active router-link-active"><!----> <span property="name">Mysql理论学习笔记</span></a> <meta property="position" content="2"></li></ol></nav> <!----> <div class="content__page-top"></div> <div vocab="https://schema.org/" typeof="Article" class="page-title"><h1><!----> <span property="headline">Mysql理论学习笔记</span></h1> <div class="page-info"><!----> <span aria-label="Author🖊" data-balloon-pos="down"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon author-icon"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z" fill="currentColor"></path></svg> <span property="author">Draco</span></span><span aria-label="Page views🔢" data-balloon-pos="down" class="visitor-info"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon eye-icon"><path d="M992 512.096c0-5.76-.992-10.592-1.28-11.136-.192-2.88-1.152-8.064-2.08-10.816-.256-.672-.544-1.376-.832-2.08-.48-1.568-1.024-3.104-1.6-4.32C897.664 290.112 707.104 160 512 160c-195.072 0-385.632 130.016-473.76 322.592-1.056 2.112-1.792 4.096-2.272 5.856a55.512 55.512 0 0 0-.64 1.6c-1.76 5.088-1.792 8.64-1.632 7.744-.832 3.744-1.568 11.168-1.568 11.168-.224 2.272-.224 4.032.032 6.304 0 0 .736 6.464 1.088 7.808.128 1.824.576 4.512 1.12 6.976h-.032c.448 2.08 1.12 4.096 1.984 6.08.48 1.536.992 2.976 1.472 4.032C126.432 733.856 316.992 864 512 864c195.136 0 385.696-130.048 473.216-321.696 1.376-2.496 2.24-4.832 2.848-6.912.256-.608.48-1.184.672-1.728 1.536-4.48 1.856-8.32 1.728-8.32l-.032.032c.608-3.104 1.568-7.744 1.568-13.28zM512 672c-88.224 0-160-71.776-160-160s71.776-160 160-160 160 71.776 160 160-71.776 160-160 160z" fill="currentColor"></path></svg> <span id="/database/mysql/Mysql_theory_note/" data-flag-title="Mysql理论学习笔记" class="leancloud_visitors"><span class="leancloud-visitors-count">...</span></span></span><span aria-label="Writing Date📅" data-balloon-pos="down" class="time-info"><svg viewBox="0 0 1030 1024" xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 0 1-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 0 1-33.473-33.473V143.657H180.6A134.314 134.314 0 0 0 46.66 277.595v535.756A134.314 134.314 0 0 0 180.6 947.289h669.74a134.36 134.36 0 0 0 133.94-133.938V277.595a134.314 134.314 0 0 0-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 0 1-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 0 1-33.472 33.473z" fill="currentColor"></path></svg> <span property="datePublished">2020-09-16 18:10:26</span></span><!----><span aria-label="Tags🏷" data-balloon-pos="down"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon tag-icon"><path d="M939.902 458.563 910.17 144.567c-1.507-16.272-14.465-29.13-30.737-30.737L565.438 84.098h-.402c-3.215 0-5.726 1.005-7.634 2.913l-470.39 470.39a10.004 10.004 0 0 0 0 14.164l365.423 365.424c1.909 1.908 4.42 2.913 7.132 2.913s5.223-1.005 7.132-2.913l470.39-470.39c2.01-2.11 3.014-5.023 2.813-8.036zm-240.067-72.121c-35.458 0-64.286-28.828-64.286-64.286s28.828-64.285 64.286-64.285 64.286 28.828 64.286 64.285-28.829 64.286-64.286 64.286z" fill="currentColor"></path></svg> <ul class="tags-wrapper"><li class="tag clickable tag0"><span role="navigation">数据库</span></li><li class="tag clickable tag1"><span role="navigation">Mysql</span></li></ul> <meta property="keywords" content="数据库,Mysql"></span><span aria-label="Reading Time⌛" data-balloon-pos="down" class="reading-time-info"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon timer-icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z" fill="currentColor"></path></svg> <span>About 23 min</span> <meta property="timeRequired" content="PT23M"></span></div> <!----> <hr></div> <div class="anchor-place-holder"><aside id="anchor"><div class="anchor-wrapper"><ul class="anchor-list"><li class="anchor"><a href="/database/mysql/Mysql_theory_note/#_1-参考" class="anchor-link heading2"><div>1. 参考</div></a></li><li class="anchor"><a href="/database/mysql/Mysql_theory_note/#_2-存储引擎" class="anchor-link heading2"><div>2. 存储引擎</div></a></li><li class="anchor"><a href="/database/mysql/Mysql_theory_note/#_2-1-查看mysql提供的所有存储引擎" class="anchor-link heading3"><div>2.1 查看MySQL提供的所有存储引擎</div></a></li><li class="anchor"><a href="/database/mysql/Mysql_theory_note/#_2-2-查看mysql当前默认的存储引擎" class="anchor-link heading3"><div>2.2 查看MySQL当前默认的存储引擎</div></a></li><li class="anchor"><a href="/database/mysql/Mysql_theory_note/#_2-3-innodb四大特性" class="anchor-link heading3"><div>2.3 InnoDB四大特性</div></a></li><li class="anchor"><a href="/database/mysql/Mysql_theory_note/#_2-4-myisam和innodb区别" class="anchor-link heading3"><div>2.4 MyISAM和InnoDB区别</div></a></li><li class="anchor"><a href="/database/mysql/Mysql_theory_note/#_2-5-如何选择" class="anchor-link heading3"><div>2.5 如何选择</div></a></li><li class="anchor"><a href="/database/mysql/Mysql_theory_note/#_3-索引" class="anchor-link heading2"><div>3. 索引</div></a></li><li class="anchor"><a href="/database/mysql/Mysql_theory_note/#_3-1-缺点" class="anchor-link heading3"><div>3.1 缺点</div></a></li><li class="anchor"><a href="/database/mysql/Mysql_theory_note/#_3-2-种类" class="anchor-link heading3"><div>3.2 种类</div></a></li><li class="anchor"><a href="/database/mysql/Mysql_theory_note/#_3-3-主键索引与唯一索引区别" class="anchor-link heading3"><div>3.3 主键索引与唯一索引区别</div></a></li><li class="anchor"><a href="/database/mysql/Mysql_theory_note/#_3-4-使用场景" class="anchor-link heading3"><div>3.4 使用场景</div></a></li><li class="anchor"><a href="/database/mysql/Mysql_theory_note/#_3-5-哈希索引" class="anchor-link heading3"><div>3.5 哈希索引</div></a></li><li class="anchor"><a href="/database/mysql/Mysql_theory_note/#_3-6-b-树" class="anchor-link heading3"><div>3.6 B-树</div></a></li><li class="anchor"><a href="/database/mysql/Mysql_theory_note/#_3-7-b-树" class="anchor-link heading3"><div>3.7 B+树</div></a></li><li class="anchor"><a href="/database/mysql/Mysql_theory_note/#_3-8-myisam实现方式-非聚簇索引" class="anchor-link heading3"><div>3.8 MyISAM实现方式：非聚簇索引</div></a></li><li class="anchor"><a href="/database/mysql/Mysql_theory_note/#_3-9-innodb实现方式-聚簇索引" class="anchor-link heading3"><div>3.9 InnoDB实现方式：聚簇索引</div></a></li><li class="anchor"><a href="/database/mysql/Mysql_theory_note/#_3-10-索引使用注意点" class="anchor-link heading3"><div>3.10 索引使用注意点</div></a></li><li class="anchor"><a href="/database/mysql/Mysql_theory_note/#_3-11-innodb索引和myisam索引的区别" class="anchor-link heading3"><div>3.11 InnoDB索引和MyISAM索引的区别</div></a></li><li class="anchor"><a href="/database/mysql/Mysql_theory_note/#_4-事务" class="anchor-link heading2"><div>4. 事务</div></a></li><li class="anchor"><a href="/database/mysql/Mysql_theory_note/#_4-1-什么时候要用到事务" class="anchor-link heading3"><div>4.1 什么时候要用到事务</div></a></li><li class="anchor"><a href="/database/mysql/Mysql_theory_note/#_4-2-回滚注解-transactional" class="anchor-link heading3"><div>4.2 回滚注解@Transactional</div></a></li><li class="anchor"><a href="/database/mysql/Mysql_theory_note/#_4-3-四大特性" class="anchor-link heading3"><div>4.3 四大特性</div></a></li><li class="anchor"><a href="/database/mysql/Mysql_theory_note/#_4-4-并发事务带来的问题" class="anchor-link heading3"><div>4.4 并发事务带来的问题</div></a></li><li class="anchor"><a href="/database/mysql/Mysql_theory_note/#_4-5-事务隔离级别" class="anchor-link heading3"><div>4.5 事务隔离级别</div></a></li><li class="anchor"><a href="/database/mysql/Mysql_theory_note/#_4-6-mvcc" class="anchor-link heading3"><div>4.6 MVCC</div></a></li><li class="anchor"><a href="/database/mysql/Mysql_theory_note/#_5-三大范式" class="anchor-link heading2"><div>5. 三大范式</div></a></li><li class="anchor"><a href="/database/mysql/Mysql_theory_note/#_5-1-第一范式" class="anchor-link heading3"><div>5.1 第一范式</div></a></li><li class="anchor"><a href="/database/mysql/Mysql_theory_note/#_5-2-第二范式" class="anchor-link heading3"><div>5.2 第二范式</div></a></li><li class="anchor"><a href="/database/mysql/Mysql_theory_note/#_5-3-第三范式" class="anchor-link heading3"><div>5.3 第三范式</div></a></li><li class="anchor"><a href="/database/mysql/Mysql_theory_note/#_6-锁" class="anchor-link heading2"><div>6. 锁</div></a></li><li class="anchor"><a href="/database/mysql/Mysql_theory_note/#_7-mysql的树" class="anchor-link heading2"><div>7. Mysql的树</div></a></li><li class="anchor"><a href="/database/mysql/Mysql_theory_note/#_7-1-字典树-前缀树" class="anchor-link heading3"><div>7.1 字典树(前缀树)</div></a></li><li class="anchor"><a href="/database/mysql/Mysql_theory_note/#_7-2-二叉排序树" class="anchor-link heading3"><div>7.2 二叉排序树</div></a></li><li class="anchor"><a href="/database/mysql/Mysql_theory_note/#_8-mysql优化" class="anchor-link heading2"><div>8. Mysql优化</div></a></li><li class="anchor"><a href="/database/mysql/Mysql_theory_note/#索引-使数据库放弃索引的情况" class="anchor-link heading3"><div>索引/使数据库放弃索引的情况</div></a></li><li class="anchor"><a href="/database/mysql/Mysql_theory_note/#sql注入" class="anchor-link heading2"><div>SQL注入</div></a></li></ul></div></aside></div> <!----> <div class="content__content-top"></div> <div class="theme-default-content content__default"><h2 id="_1-参考"><a href="#_1-参考" class="header-anchor">#</a> 1. 参考</h2> <h2 id="_2-存储引擎"><a href="#_2-存储引擎" class="header-anchor">#</a> 2. 存储引擎</h2> <h3 id="_2-1-查看mysql提供的所有存储引擎"><a href="#_2-1-查看mysql提供的所有存储引擎" class="header-anchor">#</a> 2.1 查看MySQL提供的所有存储引擎</h3> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><img src="/assets/img/mysql_engine.7650b918.jpg" alt="mysql存储引擎"></p> <p>从上图我们可以查看出 MySQL 当前默认的存储引擎是<code>InnoDB</code>,并且在5.7版本所有的存储引擎中只有 <code>InnoDB</code> 是事务性存储引擎，也就是说只有 InnoDB ⽀持事务。</p> <h3 id="_2-2-查看mysql当前默认的存储引擎"><a href="#_2-2-查看mysql当前默认的存储引擎" class="header-anchor">#</a> 2.2 查看MySQL当前默认的存储引擎</h3> <p>我们也可以通过下⾯的命令查看默认的存储引擎。</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">show</span> variables <span class="token operator">like</span> <span class="token string">'%storage_engine%'</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>查看表的存储引擎</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">show</span> <span class="token keyword">table</span> <span class="token keyword">status</span> <span class="token operator">like</span> <span class="token string">&quot;table_name&quot;</span> <span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="_2-3-innodb四大特性"><a href="#_2-3-innodb四大特性" class="header-anchor">#</a> 2.3 InnoDB四大特性</h3> <p>参考</p> <blockquote><ul><li>https://www.cnblogs.com/zhs0/p/10528520.html</li></ul></blockquote> <ul><li>插入缓冲( insert buffer)</li> <li>二次写( double write)</li> <li>自适应哈希索引（hash）</li> <li>预读( read ahead  ）</li></ul> <h3 id="_2-4-myisam和innodb区别"><a href="#_2-4-myisam和innodb区别" class="header-anchor">#</a> 2.4 MyISAM和InnoDB区别</h3> <ol><li><strong>是否⽀持⾏级锁</strong> : MyISAM 只有表级锁(table-level locking)，⽽InnoDB ⽀持⾏级锁(rowlevel locking)和表级锁,默认为⾏级锁。</li> <li><strong>是否⽀持事务和崩溃后的安全恢复</strong>： MyISAM 强调的是性能，每次查询具有原⼦性,其执⾏速度 ⽐InnoDB类型更快，但是不提供事务⽀持。但是InnoDB 提供事务⽀持事务，外部键等⾼级数据 库功能。 具有<code>事务(commit)</code>、<code>回滚(rollback)</code>和<code>崩溃修复能⼒(crash recovery capabilities)</code> 的<code>事务安全(transaction-safe (ACID compliant))</code>型表。</li> <li><strong>是否⽀持外键</strong>： MyISAM不⽀持，⽽InnoDB⽀持。</li> <li><strong>索引区别</strong>：<code>InnoDB是聚集索引</code>，使用B+Tree作为索引结构，<code>数据文件是和（主键）索引绑在一起的</code>（表数据文件本身就是按B+Tree组织的一个索引结构），<strong>必须要有主键</strong>，通过主键索引效率很高。但是辅助索引需要两次查询，先查询到主键，然后再通过主键查询到数据。因此，主键不应该过大，因为主键太大，其他索引也都会很大。<code>MyISAM是非聚集索引</code>，也是使用B+Tree作为索引结构，<code>索引和数据文件是分离的</code>，索引保存的是数据文件的指针。主键索引和辅助索引是独立的。</li> <li><strong>表行数计算</strong>：InnoDB不保存表的具体行数，执行select count(*) from table时需要全表扫描。而MyISAM用一个变量保存了整个表的行数，执行上述语句时只需要读出该变量即可，速度很快（注意不能加有任何WHERE条件）；</li> <li><strong>是否⽀持MVCC</strong> ：仅 InnoDB ⽀持。应对⾼并发事务, MVCC⽐单纯的加锁更⾼效;MVCC只在 <code>READ COMMITTED</code> 和 <code>REPEATABLE READ</code> 两个隔离级别下⼯作;MVCC可以使⽤ <code>乐观 (optimistic)锁</code> 和 <code>悲观(pessimistic)锁</code>来实现;各数据库中MVCC实现并不统⼀</li></ol> <h3 id="_2-5-如何选择"><a href="#_2-5-如何选择" class="header-anchor">#</a> 2.5 如何选择</h3> <ol><li><p>是否要支持事务，如果要请选择innodb，如果不需要可以考虑MyISAM；</p></li> <li><p>如果表中绝大多数都只是读查询，可以考虑MyISAM，如果既有读也有写，请使用InnoDB。</p></li> <li><p>系统奔溃后，MyISAM恢复起来更困难，能否接受；</p></li></ol> <h2 id="_3-索引"><a href="#_3-索引" class="header-anchor">#</a> 3. 索引</h2> <p>MySQL索引的建立对于MySQL的高效运行是很重要的，索引可以大大提高MySQL的检索速度。</p> <p>打个比方，如果合理的设计且使用索引的MySQL是一辆兰博基尼的话，那么没有设计和使用索引的MySQL就是一个人力三轮车。</p> <p>拿汉语字典的目录页（索引）打比方，我们可以按拼音、笔画、偏旁部首等排序的目录（索引）快速查找到需要的字。</p> <p>索引分单列索引和组合索引。单列索引，即一个索引只包含单个列，一个表可以有多个单列索引，但这不是组合索引。组合索引，即一个索引包含多个列。</p> <p>创建索引时，你需要确保该索引是应用在 SQL 查询语句的条件(一般作为 WHERE 子句的条件)。</p> <p>实际上，索引也是一张表，该表保存了主键与索引字段，并指向实体表的记录。</p> <p>上面都在说使用索引的好处，但过多的使用索引将会造成滥用。因此索引也会有它的缺点：虽然索引大大提高了查询速度，同时却会降低更新表的速度，如对表进行INSERT、UPDATE和DELETE。因为更新表时，MySQL不仅要保存数据，还要保存一下索引文件。</p> <p>建立索引会占用磁盘空间的索引文件。</p> <h3 id="_3-1-缺点"><a href="#_3-1-缺点" class="header-anchor">#</a> 3.1 缺点</h3> <ul><li><strong>时间方面</strong>：创建索引和维护索引要耗费时间,具体地,当对表中的数据进行增加、删除和修改的时候,索引也要动态的维护,会降低增/改/删的执行效率</li> <li><strong>空间方面</strong>：索引需要占物理空间</li></ul> <h3 id="_3-2-种类"><a href="#_3-2-种类" class="header-anchor">#</a> 3.2 种类</h3> <table><thead><tr><th>名称</th> <th>描述</th></tr></thead> <tbody><tr><td>唯一索引</td> <td>不允许有俩行具有相同的值，允许空值</td></tr> <tr><td>主键索引</td> <td>为了保持数据库表与表之间的关系，不允许空值</td></tr> <tr><td>聚集索引</td> <td>索引文件和数据文件是<code>绑定</code>的，表中行的物理顺序与键值的逻辑(索引)顺序相同</td></tr> <tr><td>非聚集索引</td> <td>索引文件和数据文件是<code>分离</code>的，聚集索引和非聚集索引的根本区别是<strong>表记录的排列顺序和与索引的排列顺序是否一致</strong></td></tr> <tr><td>复合索引</td> <td>在创建索引时,并不是只能对一列进行创建索引,可以与主键样,讲多个组合为索引</td></tr> <tr><td>全文索引</td> <td>全文索引为在字符串数据中进行复杂的词搜索提供有效支持</td></tr></tbody></table> <h3 id="_3-3-主键索引与唯一索引区别"><a href="#_3-3-主键索引与唯一索引区别" class="header-anchor">#</a> 3.3 主键索引与唯一索引区别</h3> <p>回归到主键本身的特点</p> <ol><li>主键是一种约束,唯一索引是一种索引,两者在本质上是不同的</li> <li>主键创建后一定包含一个唯一性索引,唯一性索引并不一定就是主键。</li> <li>唯一性索引列允许空值,而主键列不允许为空值。</li> <li>主键列在创建时,已经默认为空值++唯一索引了。</li> <li>一个表最多只能创建一个主键,但可以创建多个唯一索引。</li> <li>主键更适合那些不容易更改的唯一标识,如自动递增列、身份证号等。</li> <li>主键可以被其他表引用为外键,而唯一索引不能</li></ol> <h3 id="_3-4-使用场景"><a href="#_3-4-使用场景" class="header-anchor">#</a> 3.4 使用场景</h3> <ol><li>当数据多且字段值有相同的值得时候用普通索引</li> <li>当字段多且字段值没有重复的时候用唯一索引</li> <li>当有多个字段名都经常被查询的话用复合索引</li> <li>普通索引不支持空值,唯一索引支持空值。</li> <li>但是,若是这张表增删改多而查询较少的话,就不要创建索引了,因为如果你绐一列创建了索引,那么对该列进行增删改的时候,都会先访问这一列的索引,</li> <li>若是增,则在这一列的索引内以新填入的这个字段名的值为名创建索引的子</li> <li>若是改,则会把原来的删掉,再添入一个以这个字段名的新值为名创建索引的子集</li> <li>若是删,则会把索引中以这个字段为名的索引的子集删掉</li> <li>所以,会对增删改的执行减缓速度</li> <li>所以,若是这张表增删改多而查询较少的话,就不要创建索引了。</li> <li>更新太频繁地字段不适合创建索引</li> <li>不会出现在 where条件中的字段不该建立索引</li></ol> <h3 id="_3-5-哈希索引"><a href="#_3-5-哈希索引" class="header-anchor">#</a> 3.5 哈希索引</h3> <p>MySQL索引使⽤的数据结构主要有<code>BTree索引</code> 和 <code>哈希索引</code> 。对于哈希索引来说，底层的数据结构就是 哈希表，因此在绝⼤多数需求为单条记录查询的时候，可以选择哈希索引，查询性能最快；其余⼤部分 场景，建议选择BTree索引。</p> <h3 id="_3-6-b-树"><a href="#_3-6-b-树" class="header-anchor">#</a> 3.6 B-树</h3> <p>参考</p> <blockquote><ul><li>https://blog.csdn.net/biggoodloong/article/details/90203301</li></ul></blockquote> <p><img src="/assets/img/B-tree.a54f49ae.png" alt="B-tree"></p> <p>一个节点大小限制在<code>16k</code></p> <h3 id="_3-7-b-树"><a href="#_3-7-b-树" class="header-anchor">#</a> 3.7 B+树</h3> <p><img src="/assets/img/B+tree.3857e7dd.png" alt="B+tree"></p> <h4 id="b-树特征"><a href="#b-树特征" class="header-anchor">#</a> B+树特征</h4> <blockquote><ol><li><p>有k个子树的中间节点包含有k个元素（B树中是k-1个元素），每个元素不保存数据，只用来索引，所有数据都保存在叶子节点。</p></li> <li><p>所有的叶子结点中包含了全部元素的信息，及指向含这些元素记录的指针，且叶子结点本身依关键字的大小自小而大顺序链接，方便区间查找。</p></li> <li><p>所有的中间节点元素都同时存在于子节点，在子节点元素中是最大（或最小）元素。</p></li></ol></blockquote> <h4 id="b-树优势"><a href="#b-树优势" class="header-anchor">#</a> B+树优势</h4> <blockquote><ol><li><p>单一节点存储更多的元素，使得查询的IO次数更少。</p></li> <li><p>所有查询都要查找到叶子节点，查询性能稳定。</p></li> <li><p>所有叶子节点形成有序链表，便于区间范围查询。</p></li></ol></blockquote> <p>MySQL的BTree索引使⽤的是B树中的B+Tree，但对于主要的两种存储引擎的实现⽅式是不同的。</p> <h3 id="_3-8-myisam实现方式-非聚簇索引"><a href="#_3-8-myisam实现方式-非聚簇索引" class="header-anchor">#</a> 3.8 MyISAM实现方式：非聚簇索引</h3> <p>B+Tree叶节点的data域存放的是<code>数据记录的地址</code>。在索引检索的时候，⾸先按照B+Tree 搜索算法搜索索引，如果指定的Key存在，则取出其 data 域的值，然后以 data 域的值为地址 读取相应的数据记录。这被称为“<code>⾮聚簇索引</code>”。</p> <p>MyISAM的索引文件仅仅保存<code>数据记录的地址</code>。在MyISAM中，<code>主键索引</code>和<code>辅助索引</code>在结构上没有任何区别，只是主索引要求key是唯一的，而辅助索引的key可以重复。</p> <p><img src="/assets/img/MyISAM_PrimaryKey_index.d49d260f.png" alt=""></p> <p>这里设表一共有三列，假设我们以Col1为主键，图myisam1是一个MyISAM表的主索引（Primary key）示意。可以看出MyISAM的索引文件仅仅保存<code>数据记录的地址</code>。</p> <h4 id="辅助索引"><a href="#辅助索引" class="header-anchor">#</a> 辅助索引：</h4> <p>在MyISAM中，主索引和辅助索引在结构上没有任何区别，只是主索引要求key是唯一的，而辅助索引的key可以重复。 如果我们在Col2上建立一个辅助索引，则此索引的结构如下图所示：</p> <p><img src="/assets/img/MyISAM_Auxiliary_index.2fb92240.png" alt=""></p> <h3 id="_3-9-innodb实现方式-聚簇索引"><a href="#_3-9-innodb实现方式-聚簇索引" class="header-anchor">#</a> 3.9 InnoDB实现方式：聚簇索引</h3> <p><code>其数据⽂件本身就是索引⽂件</code>。相⽐MyISAM的索引⽂件和数据⽂件是分离的，其<code>表数据⽂件本身就是按B+Tree组织的⼀个索引结构</code>，树的叶节点data域保存了完整的数据记录。这个索 引的key是数据表的主键，因此InnoDB表数据⽂件本身就是主索引。这被称为“聚簇索引（或聚集 索引）”。⽽其余的索引都作为辅助索引，辅助索引的data域存储相应记录<code>主键的值⽽不是地址</code>，这也是和MyISAM不同的地⽅。在根据主索引搜索时，直接找到key所在的节点即可取出数 据；在根据辅助索引查找时，则需要先取出主键索引的值，再⾛⼀遍主索引。 因此，在设计表的时 候，<code>不建议使⽤过⻓的字段作为主键，也不建议使⽤⾮单调的字段作为主键</code>，这样会造成<code>主索引频繁分裂</code>。 PS：整理⾃《Java⼯程师修炼之道》</p> <p><img src="/assets/img/InnoDB_PrimaryKey_index.09620bfa.png" alt=""></p> <p>以上是InnoDB主索引（同时也是数据文件）的示意图，可以看到叶节点包含了完整的数据记录。这种索引叫做<strong>聚集索引</strong>。因为InnoDB的数据文件本身要按主键聚集，所以InnoDB要求表必须有主键（MyISAM可以没有），如果没有显式指定，则MySQL系统会自动选择一个可以唯一标识数据记录的列作为主键，如果不存在这种列，则MySQL自动为InnoDB表生成一个隐含字段作为主键，这个字段长度为6个字节，类型为长整形。</p> <h4 id="辅助索引-2"><a href="#辅助索引-2" class="header-anchor">#</a> 辅助索引：</h4> <p>InnoDB的所有辅助索引都引用主键作为data域，在使用时会先找到主键索引，然后再根据主键索引再来找到叶子节点数据。例如，下图为定义在Col3上的一个辅助索引</p> <p><img src="/assets/img/InooDB_Auxiliary_index.9d4aa402.png" alt=""></p> <p><strong>InnoDB 表是基于聚簇索引建立的</strong>。因此InnoDB 的索引能提供一种非常快速的主键查找性能。不过，它的辅助索引（Secondary Index， 也就是非主键索引）也会包含主键列， <strong>所以，如果主键定义的比较大，其他索引也将很大。如果想在表上定义很多索引，则争取尽量把主键定义得小一些。</strong> InnoDB 不会压缩索引。</p> <h3 id="_3-10-索引使用注意点"><a href="#_3-10-索引使用注意点" class="header-anchor">#</a> 3.10 索引使用注意点</h3> <table><thead><tr><th>注意点</th> <th>描述</th></tr></thead> <tbody><tr><td>不建议使用过长的字段作为主键</td> <td>因为所有辅助索引都引用主索引，过长的主索引会令辅助索引变得过大</td></tr> <tr><td>不建议使用单调字段作为主键</td> <td>因为InnoDB数据文件本身是一颗B+Tree，非单调的主键会造成在插入新记录时数据文件为了维持B+Tree的特性而频繁的分裂调整，十分低效，而使用自增字段作为主键则是一个很好的选择</td></tr></tbody></table> <h3 id="_3-11-innodb索引和myisam索引的区别"><a href="#_3-11-innodb索引和myisam索引的区别" class="header-anchor">#</a> 3.11 <strong>InnoDB索引</strong>和<strong>MyISAM索引</strong>的区别</h3> <p>主索引的区别，InnoDB的数据文件本身就是索引文件(<code>聚簇索引</code>)。而MyISAM的索引和数据是分开的(<code>非聚簇索引</code>)。</p> <p>辅助索引的区别：InnoDB的辅助索引data域存储相应记录主键的值而不是地址。而MyISAM的辅助索引和主索引没有多大区别</p> <h2 id="_4-事务"><a href="#_4-事务" class="header-anchor">#</a> 4. 事务</h2> <p>事务是逻辑上的⼀组操作，要么都执⾏，要么都不执⾏。 事务最经典也经常被拿出来说例⼦就是转账了。假如⼩明要给⼩红转账1000元，这个转账会涉及到两个 关键操作就是：将⼩明的余额减少1000元，将⼩红的余额增加1000元。万⼀在这两个操作之间突然出现 错误⽐如银⾏系统崩溃，导致⼩明余额减少⽽⼩红的余额没有增加，这样就不对了。事务就是保证这两 个关键操作要么都成功，要么都要失败。</p> <h3 id="_4-1-什么时候要用到事务"><a href="#_4-1-什么时候要用到事务" class="header-anchor">#</a> 4.1 什么时候要用到事务</h3> <p>参考</p> <blockquote><ul><li><a href="https://blog.csdn.net/sfq_bluesky/article/details/103183535?utm_medium=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-1.channel_param&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-1.channel_param" target="_blank" rel="noopener noreferrer">什么时候要用到事务<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></blockquote> <p>当数据库需要处理操作量大、复杂度高的数据的时候需要用到事务。用事务是为了保证数据库的完整性，保证成批的 SQL 语句要么全部执行，要么全部不执行。</p> <p>一个数据库事务通常包含了一个序列的对数据库的读/写操作。它的存在包含有以下两个目的：</p> <blockquote><ul><li>为数据库操作序列提供了一个从失败中恢复到正常状态的方法，同时提供了数据库即使在异常状态下仍能保持一致性的方法。</li> <li>当多个应用程序在并发访问数据库时，可以在这些应用程序之间提供一个隔离方法，以防止彼此的操作互相干扰。</li></ul></blockquote> <p>当事务被提交给了数据库管理系统，则数据库管理系统需要确保该事务中的所有操作都成功完成且其结果被永久保存在数据库中，如果事务中有的操作没有成功完成，则事务中的所有操作都需要被回滚，回到事务执行前的状态;同时，该事务对数据库或者其他事务的执行无影响，所有的事务都好像在独立的运行。例如金融</p> <h3 id="_4-2-回滚注解-transactional"><a href="#_4-2-回滚注解-transactional" class="header-anchor">#</a> 4.2 回滚注解@Transactional</h3> <p>参考</p> <blockquote><ul><li>https://blog.csdn.net/jiangyu1013/article/details/84397366</li> <li>https://www.cnblogs.com/xd502djj/p/10940627.html</li></ul></blockquote> <h3 id="_4-3-四大特性"><a href="#_4-3-四大特性" class="header-anchor">#</a> 4.3 四大特性</h3> <p><img src="/assets/img/Affairs_feature.d687877f.jpg" alt=""></p> <blockquote><ul><li><strong>原⼦性（Atomicity）</strong>： 事务是最⼩的执⾏单位，不允许分割。事务的原⼦性确保动作要么全部 完成，要么完全不起作⽤；</li> <li><strong>⼀致性（Consistency）</strong>： 执⾏事务前后，数据保持⼀致，多个事务对同⼀个数据读取的结果是 相同的；</li> <li><strong>隔离性（Isolation）</strong>： 并发访问数据库时，⼀个⽤户的事务不被其他事务所⼲扰，各并发事务之间数据库是独⽴的；</li> <li><strong>持久性（Durability）</strong>： ⼀个事务被提交之后。它对数据库中数据的改变是持久的，即使数据库发⽣故障也不应该对其有任何影响。</li></ul></blockquote> <h3 id="_4-4-并发事务带来的问题"><a href="#_4-4-并发事务带来的问题" class="header-anchor">#</a> 4.4 并发事务带来的问题</h3> <ul><li><strong>脏读（Dirty read）</strong>: 当⼀个事务正在访问数据并且对数据进⾏了修改，⽽这种修改还没有提交 到数据库中，这时另外⼀个事务也访问了这个数据，然后使⽤了这个数据。因为这个数据是还没 有提交的数据，那么另外⼀个事务读到的这个数据是“脏数据”，依据“脏数据”所做的操作可能是 不正确的。</li> <li><strong>丢失修改（Lost to modify）</strong>: 指在⼀个事务读取⼀个数据时，另外⼀个事务也访问了该数据， 那么在第⼀个事务中修改了这个数据后，第⼆个事务也修改了这个数据。这样第⼀个事务内的修 改结果就被丢失，因此称为丢失修改。 例如：事务1读取某表中的数据A=20，事务2也读取 A=20，事务1修改A=A-1，事务2也修改A=A-1，最终结果A=19，事务1的修改被丢失。</li> <li><strong>不可重复读（Unrepeatableread</strong>）: 指在⼀个事务内多次读同⼀数据。在这个事务还没有结束 时，另⼀个事务也访问该数据。那么，在第⼀个事务中的两次读数据之间，由于第⼆个事务的修改导致第⼀个事务两次读取的数据可能不太⼀样。这就发⽣了在⼀个事务内两次读到的数据是不 ⼀样的情况，因此称为不可重复读。</li> <li><strong>幻读（Phantom read）</strong>: 幻读与不可重复读类似。它发⽣在⼀个事务（T1）读取了⼏⾏数据，接 着另⼀个并发事务（T2）插⼊了⼀些数据时。在随后的查询中，第⼀个事务（T1）就会发现多了 ⼀些原本不存在的记录，就好像发⽣了幻觉⼀样，所以称为幻读。</li></ul> <p>不可重复读和幻读区别：</p> <blockquote><p>不可重复读的重点是修改⽐如多次读取⼀条记录发现其中某些列的值被修改，幻读的重点在于新增或者 删除⽐如多次读取⼀条记录发现记录增多或减少了。</p></blockquote> <h3 id="_4-5-事务隔离级别"><a href="#_4-5-事务隔离级别" class="header-anchor">#</a> 4.5 事务隔离级别</h3> <p>SQL 标准定义了四个隔离级别：</p> <ul><li><strong>READ-UNCOMMITTED(读取未提交)</strong>： 最低的隔离级别，允许读取尚未提交的数据变更，可能会导 致脏读、幻读或不可重复读。</li> <li><strong>READ-COMMITTED(读取已提交)</strong>： 允许读取并发事务已经提交的数据，可以阻⽌脏读，但是幻读 或不可重复读仍有可能发⽣。</li> <li><strong>REPEATABLE-READ(可重复读)</strong>： 对同⼀字段的多次读取结果都是⼀致的，除⾮数据是被本身事务 ⾃⼰所修改，可以阻⽌脏读和不可重复读，但幻读仍有可能发⽣。</li> <li><strong>SERIALIZABLE(可串⾏化)</strong>： 最⾼的隔离级别，完全服从ACID的隔离级别。所有的事务依次逐个 执⾏，这样事务之间就完全不可能产⽣⼲扰，也就是说，该级别可以防⽌脏读、不可重复读以及 幻读。</li></ul> <table><thead><tr><th>隔离级别</th> <th>脏读</th> <th>不可重复读</th> <th>幻读</th></tr></thead> <tbody><tr><td><strong>READ-UNCOMMITTED</strong></td> <td>√</td> <td>√</td> <td>√</td></tr> <tr><td><strong>READ-COMMITTED</strong></td> <td>×</td> <td>√</td> <td>√</td></tr> <tr><td><strong>REPEATABLE-READ</strong></td> <td>×</td> <td>×</td> <td>√</td></tr> <tr><td><strong>SERIALIZABLE</strong></td> <td>×</td> <td>×</td> <td>×</td></tr></tbody></table> <p>MySQL InnoDB 存储引擎的默认⽀持的隔离级别是 <code>REPEATABLE-READ（可重读）</code>。</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> @<span class="token variable">@tx_isolation</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>这⾥需要注意的是：与 SQL 标准不同的地⽅在于 InnoDB 存储引擎在 <code>REPEATABLE-READ（可重读）</code> 事 务隔离级别下使⽤的是<code>Next-Key Lock</code> 锁算法，<code>因此可以避免幻读的产⽣</code>，这与其他数据库系统(如 SQL Server) 是不同的。所以说InnoDB 存储引擎的默认⽀持的隔离级别是 REPEATABLE-READ（可重 读） 已经可以完全保证事务的隔离性要求，即达到了 SQL标准的 SERIALIZABLE(可串⾏化) 隔离级 别。因为<code>隔离级别越低，事务请求的锁越少</code>，所以⼤部分数据库系统的隔离级别都是 <code>READCOMMITTED(读取提交内容)</code> ，但是你要知道的是InnoDB 存储引擎默认使⽤ REPEATABLE-READ（可重 读） 并不会有任何性能损失。 InnoDB 存储引擎在 <code>分布式事务</code> 的情况下⼀般会⽤到 <code>SERIALIZABLE(可串⾏化)</code> 隔离级别。</p> <h3 id="_4-6-mvcc"><a href="#_4-6-mvcc" class="header-anchor">#</a> 4.6 MVCC</h3> <p>::: tips 参考</p> <ul><li>https://blog.csdn.net/SnailMann/article/details/94724197</li></ul> <p>:::</p> <h2 id="_5-三大范式"><a href="#_5-三大范式" class="header-anchor">#</a> 5. 三大范式</h2> <p>参考</p> <blockquote><ul><li>https://www.cnblogs.com/linjiqin/archive/2012/04/01/2428695.html</li> <li>https://blog.csdn.net/qq_43079376/article/details/93647335</li></ul></blockquote> <table><thead><tr><th>名称</th> <th>描述</th></tr></thead> <tbody><tr><td><strong>第一范式</strong></td> <td>据库表中的所有字段值都是不可分解的原子值</td></tr> <tr><td><strong>第二范式</strong></td> <td>满足第一范式且确保表中的每列都和主键相关，属性完全依赖于主键</td></tr> <tr><td><strong>第三范式</strong></td> <td>满足第二范式且确保每列都和主键列直接相关，而不是间接相关。非主键外的所有字段必须互不依赖</td></tr></tbody></table> <h3 id="_5-1-第一范式"><a href="#_5-1-第一范式" class="header-anchor">#</a> 5.1 第一范式</h3> <p>所谓的第一范式就是数据库中的每一列都是不可分割的基本数据项，同一列中不能有多个值，即实体中的某个属性不能有多个值或者不能有重复的属性，如果出现重复的属性则需要重新构建实体，新的实体由重复的属性构成。</p> <p>第一范式的合理遵循需要根据系统的实际需求来定。比如某些数据库系统中需要用到“地址”这个属性，本来直接将“地址”属性设计成一个数据库表的字段就行。但是如果系统经常会访问“地址”属性中的“城市”部分，那么就非要将“地址”这个属性重新拆分为省份、城市、详细地址等多个部分进行存储，这样在对地址中某一部分操作的时候将非常方便。这样设计才算满足了数据库的第一范式，如下表所示。</p> <p><img src="data:image/png;base64,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" alt=""></p> <h3 id="_5-2-第二范式"><a href="#_5-2-第二范式" class="header-anchor">#</a> 5.2 第二范式</h3> <p>第二范式在第一范式的基础之上更进一层。第二范式需要确保数据库表中的每一列都和主键相关，而不能只与主键的某一部分相关（主要针对联合主键而言）。也就是说在一个数据库表中，一个表中只能保存一种数据，不可以把多种数据保存在同一张数据库表中。所以有时候需要<code>中间映射表</code></p> <p>比如要设计一个订单信息表，因为订单中可能会有多种商品，所以要将订单编号和商品编号作为数据库表的联合主键，如下表所示。</p> <p><img src="data:image/png;base64,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" alt="第二范式1"></p> <p>这样就产生一个问题：这个表中是以订单编号和商品编号作为联合主键。<strong>这样在该表中商品名称、单位、商品价格等信息不与该表的主键相关，而仅仅是与商品编号相关</strong>。所以在这里违反了第二范式的设计原则。</p> <p>而如果把这个订单信息表进行拆分，把商品信息分离到另一个表中，把订单项目表也分离到另一个表中，就非常完美了。如下所示。</p> <p><img src="/assets/img/Second_normal_form_2.5e6a0a58.png" alt="第二范式2"></p> <h3 id="_5-3-第三范式"><a href="#_5-3-第三范式" class="header-anchor">#</a> 5.3 第三范式</h3> <p>第三范式需要确保数据表中的每一列数据都和主键直接相关，而不能间接相关。</p> <p>比如在设计一个订单数据表的时候，可以将客户编号作为一个外键和订单表建立相应的关系。而不可以在订单表中添加关于客户其它信息（比如姓名、所属公司等）的字段。如下面这两个表所示的设计就是一个满足第三范式的数据库表。</p> <p><img src="data:image/png;base64,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" alt="第三范式"></p> <p>再例如，学生选课表，不能把课程的具体信息列放在此表中，应该多开一个表为课程信息表，然后两个表通过课程id映射。</p> <h2 id="_6-锁"><a href="#_6-锁" class="header-anchor">#</a> 6. 锁</h2> <h2 id="_7-mysql的树"><a href="#_7-mysql的树" class="header-anchor">#</a> 7. Mysql的树</h2> <h3 id="_7-1-字典树-前缀树"><a href="#_7-1-字典树-前缀树" class="header-anchor">#</a> 7.1 字典树(前缀树)</h3> <p>参考</p> <blockquote><ul><li>https://www.jianshu.com/p/e431bd41d676</li> <li>https://www.jianshu.com/p/bbfe4874f66f</li></ul></blockquote> <h4 id="性质"><a href="#性质" class="header-anchor">#</a> 性质</h4> <p>字典树，一般称为trie树，trie树常用于搜索提示。如当输入一个网址，可以自动搜索出可能的选择。当没有完全匹配的搜索结果，可以返回前缀最相似的可能。</p> <p>一个保存了8个键的trie结构，&quot;A&quot;, &quot;to&quot;, &quot;tea&quot;, &quot;ted&quot;, &quot;ten&quot;, &quot;i&quot;, &quot;in&quot;, and &quot;inn&quot;.</p> <p><img src="/assets/img/Dictionary_tree.6d02a24d.jpg" alt="字典树"></p> <blockquote><ul><li>根节点不包含字符，除根节点外每个节点都只包含一个字符</li> <li>从根节点到某一节点，路径上经过的字符连接起来，为该节点对应的字符串</li> <li>每个节点的所有子节点包含的字符都不相同</li></ul></blockquote> <h4 id="应用场景"><a href="#应用场景" class="header-anchor">#</a> 应用场景</h4> <p>典型应用是用于统计和排序大量的字符串（但不仅限于字符串），所以经常被搜索引擎系统用于文本词频统计。它的优点是：最大限度地减少无谓的字符串比较，查询效率比哈希表高。</p> <h4 id="优缺点"><a href="#优缺点" class="header-anchor">#</a> 优缺点</h4> <blockquote><ul><li>优点：Trie的核心思想是<strong>空间换时间</strong>。利用字符串的<strong>公共前缀</strong>来降低查询时间的开销以达到提高效率的目的。</li> <li>缺点：Trie树也有它的缺点,Trie树的内存消耗非常大.当然,或许用左儿子右兄弟的方法建树的话,可能会好点.</li></ul></blockquote> <h4 id="插入操作"><a href="#插入操作" class="header-anchor">#</a> 插入操作</h4> <p>Trie.insert(W)：第一个操作是插入操作，就是将一个字符串W加入到集合中。</p> <p>参考</p> <blockquote><ul><li>https://blog.csdn.net/weixin_39778570/article/details/81990417</li></ul></blockquote> <h4 id="查找操作"><a href="#查找操作" class="header-anchor">#</a> 查找操作</h4> <p>Trie.search(S)：第二个操作是查询操作，就是查询一个字符串S是不是在集合中。</p> <h3 id="_7-2-二叉排序树"><a href="#_7-2-二叉排序树" class="header-anchor">#</a> 7.2 二叉排序树</h3> <h2 id="_8-mysql优化"><a href="#_8-mysql优化" class="header-anchor">#</a> 8. Mysql优化</h2> <p>参考</p> <blockquote><ul><li>https://blog.csdn.net/qq_35642036/article/details/82820129</li> <li><a href="https://mp.weixin.qq.com/s?__biz=Mzg2OTA0Njk0OA==&amp;mid=2247485097&amp;idx=1&amp;sn=84c89da477b1338bdf3e9fcd65514ac1&amp;chksm=cea24962f9d5c074d8d3ff1ab04ee8f0d6486e3d015cfd783503685986485c11738ccb542ba7&amp;token=79317275&amp;lang=zh_CN%23rd" target="_blank" rel="noopener noreferrer">一条SQL语句在MySQL中如何执行的<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://mp.weixin.qq.com/s?__biz=Mzg2OTA0Njk0OA==&amp;mid=2247485117&amp;idx=1&amp;sn=92361755b7c3de488b415ec4c5f46d73&amp;chksm=cea24976f9d5c060babe50c3747616cce63df5d50947903a262704988143c2eeb4069ae45420&amp;token=79317275&amp;lang=zh_CN%23rd" target="_blank" rel="noopener noreferrer">MySQL高性能优化规范建议<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://mp.weixin.qq.com/s?__biz=Mzg2OTA0Njk0OA==&amp;mid=2247485185&amp;idx=1&amp;sn=66ef08b4ab6af5757792223a83fc0d45&amp;chksm=cea248caf9d5c1dc72ec8a281ec16aa3ec3e8066dbb252e27362438a26c33fbe842b0e0adf47&amp;token=79317275&amp;lang=zh_CN%23rd" target="_blank" rel="noopener noreferrer">一条SQL语句执行得很慢的原因有哪些？<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://blog.csdn.net/qq_35642036/article/details/82820129" target="_blank" rel="noopener noreferrer">实践中如何优化MySQL（精）<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://segmentfault.com/a/1190000006158186" target="_blank" rel="noopener noreferrer">Mysql大表优化<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></blockquote> <p>可以用<code>explain</code>放在语句前面查看这个语句的执行条件，包括是全表扫描还是走索引</p> <h3 id="索引-使数据库放弃索引的情况"><a href="#索引-使数据库放弃索引的情况" class="header-anchor">#</a> 索引/使数据库放弃索引的情况</h3> <div class="custom-block tip"><p class="custom-block-title">参考</p> <ul><li><a href="https://segmentfault.com/a/1190000021464570" target="_blank" rel="noopener noreferrer">一张图搞懂MySQL的索引失效<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div> <p>需要优化的是有些查询会使索引失效</p> <p><img src="https://segmentfault.com/img/remote/1460000021464574" alt="索引失效的情况"></p> <h2 id="sql注入"><a href="#sql注入" class="header-anchor">#</a> SQL注入</h2> <div class="custom-block tip"><p class="custom-block-title">Tips</p> <ul><li>https://blog.csdn.net/weixin_40300139/article/details/107855645</li></ul></div></div> <!----> <div class="content__content-bottom"></div> <footer class="page-meta"><div class="edit-link"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon edit-icon"><path d="M117.953 696.992 64.306 959.696l265.931-49.336 450.204-452.505-212.284-213.376-450.204 452.513zm496.384-296.326L219.039 797.993l-46.108-46.34L568.233 354.33l46.104 46.335zm345.357-122.99-114.45 115.04-212.288-213.377 114.45-115.035 212.288 213.371zm0 0" fill="currentColor"></path></svg> <a href="https://github.com/LifeAlsoIsGG/edit/main/database/mysql/Mysql_theory_note.md" target="_blank" rel="noopener noreferrer">Edit this page</a></div> <div class="meta-item update-time"><span class="label">Last update:</span> <span class="info">February 18, 2022 15:45</span></div> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev"><a href="/database/" class="prev router-link-active"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon prev-icon"><path d="M906.783 588.79c-.02 8.499-6.882 15.36-15.38 15.37l-443.7-.01 75.704 191.682c2.52 6.42.482 13.763-5.038 17.91-5.52 4.168-13.138 4.147-18.616-.092L123.228 524.175a15.362 15.362 0 0 1-6-12.165c0-4.782 2.222-9.277 6-12.185L499.753 210.35a15.388 15.388 0 0 1 9.38-3.195c3.236 0 6.502 1.034 9.236 3.103 5.52 4.147 7.578 11.49 5.038 17.91L447.683 419.84l443.72-.01c8.498.01 15.36 6.881 15.36 15.36l.02 153.6z" fill="currentColor"></path></svg>
        数据库学习目录
      </a></span> <span class="next"><a href="/database/mysql/SQL_note/">
        SQL学习笔记
        <svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon next-icon"><path d="M906.772 512c0 4.772-2.211 9.267-5.99 12.175L524.257 813.66a15.37 15.37 0 0 1-18.616.092 15.368 15.368 0 0 1-5.038-17.91l75.714-191.672h-443.73c-8.488 0-15.36-6.881-15.36-15.36v-153.6c0-8.489 6.872-15.36 15.36-15.36h443.73l-75.714-191.682a15.358 15.358 0 0 1 5.048-17.91c5.51-4.158 13.128-4.137 18.606.092l376.525 289.485a15.323 15.323 0 0 1 5.99 12.165z" fill="currentColor"></path></svg></a></span></p></div> <div class="comments-wrapper"><div class="waline-wrapper"><div id="waline-comment"></div></div></div> <!----> <div class="content__page-bottom"></div></main> <footer class="footer-wrapper"><div class="media-links-wrapper"><a href="https://github.com/LifeAlsoIsGG" rel="noopener noreferrer" target="_blank" aria-label="Github" data-balloon-pos="up" class="media-link"><span class="sr-only">Github</span> <svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon icon-github"><circle cx="512" cy="512" r="512" fill="#171515"></circle> <path d="M509.423 146.442c-200.317 0-362.756 162.42-362.756 362.8 0 160.266 103.936 296.24 248.109 344.217 18.139 3.327 24.76-7.872 24.76-17.486 0-8.613-.313-31.427-.49-61.702-100.912 21.923-122.205-48.63-122.205-48.63-16.495-41.91-40.28-53.067-40.28-53.067-32.937-22.51 2.492-22.053 2.492-22.053 36.407 2.566 55.568 37.386 55.568 37.386 32.362 55.438 84.907 39.43 105.58 30.143 3.296-23.444 12.667-39.43 23.032-48.498-80.557-9.156-165.246-40.28-165.246-179.297 0-39.604 14.135-71.988 37.342-97.348-3.731-9.178-16.18-46.063 3.556-96.009 0 0 30.46-9.754 99.76 37.19 28.937-8.048 59.97-12.071 90.823-12.211 30.807.14 61.843 4.165 90.822 12.21 69.26-46.944 99.663-37.189 99.663-37.189 19.792 49.946 7.34 86.831 3.61 96.01 23.25 25.359 37.29 57.742 37.29 97.347 0 139.366-84.82 170.033-165.637 179.013 13.026 11.2 24.628 33.342 24.628 67.182 0 48.498-.445 87.627-.445 99.521 0 9.702 6.535 20.988 24.945 17.444 144.03-48.067 247.881-183.95 247.881-344.175 0-200.378-162.442-362.798-362.802-362.798z" fill="#FFF"></path></svg></a><a href="https://twitter.com/LifeAlsoIsGG" rel="noopener noreferrer" target="_blank" aria-label="Twitter" data-balloon-pos="up" class="media-link"><span class="sr-only">Twitter</span> <svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon icon-twitter"><circle cx="512" cy="512" r="512" fill="#5EAADE"></circle> <path d="M749.737 364.631c-17.594 7.805-36.513 13.088-56.371 15.459 20.269-12.148 35.836-31.387 43.156-54.312A196.233 196.233 0 0 1 674.2 349.6c-17.894-19.083-43.406-30.997-71.636-30.997-54.2 0-98.137 43.944-98.137 98.157 0 7.695.861 15.19 2.544 22.373-81.57-4.092-153.876-43.174-202.284-102.558-8.443 14.498-13.285 31.356-13.285 49.348 0 34.05 17.326 64.096 43.656 81.697a97.69 97.69 0 0 1-44.447-12.277c-.01.41-.01.82-.01 1.24 0 47.558 33.822 87.23 78.72 96.249a98.285 98.285 0 0 1-25.852 3.448 97.491 97.491 0 0 1-18.465-1.768c12.483 39.002 48.725 67.38 91.672 68.17-33.582 26.334-75.897 42.024-121.884 42.024-7.924 0-15.736-.46-23.408-1.37 43.434 27.844 95.014 44.104 150.443 44.104 180.505 0 279.221-149.576 279.221-279.294 0-4.263-.09-8.494-.278-12.708 19.178-13.835 35.813-31.115 48.967-50.807z" fill="#FFF"></path></svg></a><a href="http://localhost:8083/blog-vuepress/tencent:/AddContact/?fromId=50&amp;fromSubId=1&amp;subcmd=all&amp;uin=1138312802.html" rel="noopener noreferrer" target="_blank" aria-label="QQ" data-balloon-pos="up" class="media-link"><span class="sr-only">QQ</span> <svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon icon-qq"><circle cx="512" cy="512" r="512" fill="#5EAADE"></circle> <path d="M729.46 627.3c-3.157-39.628-24.045-83.747-32.624-105.91l-22.084-57.047c-.702-23.73 6.312-78.322-30.511-146.61s-110.82-74.446-124.497-75.147c-13.677-.701-99.248-1.403-141.331 72.945-42.084 74.347-30.745 148.812-30.745 148.812l-23.523 57.478c-.001.002-10.962 26.223-20.43 58.135-9.469 31.914-18.938 82.064-9.469 92.234 9.47 10.17 43.837-46.643 46.993-51.903 0 0 2.456 27.18 8.943 41.383l.81 1.776.33.723.38.826.3.652.444.96.203.436a281.465 281.465 0 0 0 1.917 4.025l.189.386c.231.473.468.953.711 1.442l.146.292c6.886 13.807 18.61 33.823 37.443 50.42l.018.016-1.184.387c-10.667 3.516-31.694 11.21-40.625 19.82-1.717 1.655-2.987 3.344-3.65 5.045-5.376 13.794 4.208 15.43 20.575 16.366 16.366.934 94.923 3.04 132.564-2.221.407-.056.787-.114 1.17-.171 2.711.094 5.324.142 7.83.16l.151.002c.836.005 1.663.008 2.475.008.496 0 1.015-.002 1.542-.006l.21-.001a222.593 222.593 0 0 0 5.462-.107c.26.038.508.076.778.114 37.642 5.26 116.198 3.156 132.564 2.22 16.366-.934 25.951-2.571 20.574-16.365-4.302-11.037-34.175-21.62-45.956-25.413a141.388 141.388 0 0 0 7.958-7.645l.237-.245a142.494 142.494 0 0 0 2.53-2.702c42.435-46.643 38.928-76.101 40.682-92.935 0 0 35.775 51.553 43.488 53.306 7.713 1.754 10.169-6.31 7.012-45.94z" fill="#FFF"></path></svg></a></div> <div class="footer">粤ICP备19126168号</div> <div class="copyright">Copyright © 2022 Draco</div></footer></div><div class="global-ui"><!----><!----><div id="pwa-install"><!----> <div id="install-modal-wrapper" style="display:none;"><div class="background"></div> <div class="install-modal"><div class="header"><button aria-label="Close" class="close-button"><svg width="23" height="22" xmlns="http://www.w3.org/2000/svg" class="icon close-icon"><path fill-rule="evenodd" clip-rule="evenodd" d="M1.12.358a1.224 1.224 0 011.729 0l8.92 8.914L20.686.358a1.224 1.224 0 011.73 1.728L13.497 11l8.92 8.913a1.222 1.222 0 11-1.73 1.729l-8.919-8.913-8.92 8.913a1.224 1.224 0 01-1.729-1.729L10.04 11l-8.92-8.914a1.222 1.222 0 010-1.728z" fill="currentColor"></path></svg></button> <div class="logo"><!----> <div class="title"><h1></h1> <p class="desc">This app can be installed on your PC or mobile device.  This will allow this web app to look and behave like any other installed app.  You will find it in your app lists and be able to pin it to your home screen, start menus or task bars.  This installed web app will also be able to safely interact with other apps and your operating system. </p></div></div></div> <div class="content"><div class="highlight"><!----> <!----></div> <div class="description"><h3>Description</h3> <p></p></div></div> <div class="button-wrapper"><button class="install-button">
        Install <span></span></button> <button class="cancel-button">
        Cancel
      </button></div></div></div></div><div tabindex="-1" role="dialog" aria-hidden="true" class="pswp"><div class="pswp__bg"></div> <div class="pswp__scroll-wrap"><div class="pswp__container"><div class="pswp__item"></div> <div class="pswp__item"></div> <div class="pswp__item"></div></div> <div class="pswp__ui pswp__ui--hidden"><div class="pswp__top-bar"><div class="pswp__counter"></div> <button class="pswp__button pswp__button--close"></button> <button class="pswp__button pswp__button--share"></button> <button class="pswp__button pswp__button--fs"></button> <button class="pswp__button pswp__button--zoom"></button> <div class="pswp__preloader"><div class="pswp__preloader__icn"><div class="pswp__preloader__cut"><div class="pswp__preloader__donut"></div></div></div></div></div> <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class="pswp__share-tooltip"></div></div> <button class="pswp__button pswp__button--arrow--left"></button> <button class="pswp__button pswp__button--arrow--right"></button> <div class="pswp__caption"><div class="pswp__caption__center"></div></div></div></div></div></div></div>
    <script src="/assets/js/app.1833a1c6.js" defer></script><script src="/assets/js/vendors~layout-Layout.9a3e8ac5.js" defer></script><script src="/assets/js/vendors~layout-Blog~layout-Layout~layout-NotFound.17f5562a.js" defer></script><script src="/assets/js/page-Mysql理论学习笔记.49c17beb.js" defer></script><script src="/assets/js/vendors~layout-Blog~layout-Layout~layout-NotFound~layout-Slide.30f611ca.js" defer></script>
  </body>
</html>
