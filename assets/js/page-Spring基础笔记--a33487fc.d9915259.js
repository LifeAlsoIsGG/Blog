(window.webpackJsonp=window.webpackJsonp||[]).push([[79],{686:function(t,a,s){t.exports=s.p+"assets/img/Spring_Framework_Runtime.b7aca915.jpg"},687:function(t,a,s){t.exports=s.p+"assets/img/singleton_scope.9abe0154.png"},688:function(t,a,s){t.exports=s.p+"assets/img/Singleton_result.88b90972.png"},689:function(t,a,s){t.exports=s.p+"assets/img/prototype_scope.a101b454.png"},690:function(t,a,s){t.exports=s.p+"assets/img/AOP_operational_principle.af889c82.jpg"},906:function(t,a,s){"use strict";s.r(a);var n=s(2),e=Object(n.a)({},(function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h2",{attrs:{id:"参考"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#参考"}},[t._v("#")]),t._v(" 参考")]),t._v(" "),n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"custom-block-title"},[t._v("提示")]),t._v(" "),n("ul",[n("li",[n("a",{attrs:{href:"https://www.processon.com/mindmap/60abc60407912906fbcf50ba",target:"_blank",rel:"noopener noreferrer"}},[t._v("脑图参考"),n("OutboundLink")],1)]),t._v(" "),n("li",[n("a",{attrs:{href:"https://my.oschina.net/u/3080373/blog/891918",target:"_blank",rel:"noopener noreferrer"}},[t._v("脑图参考"),n("OutboundLink")],1)]),t._v(" "),n("li",[n("a",{attrs:{href:"https://blog.csdn.net/weixin_47872288/article/details/117921644?spm=1001.2014.3001.5501",target:"_blank",rel:"noopener noreferrer"}},[t._v("尚硅谷笔记"),n("OutboundLink")],1)])])]),t._v(" "),n("p",[t._v("什么是 Spring 框架? Spring 是⼀种轻量级开发框架，旨在提⾼开发⼈员的开发效率以及系统的可维护性。")]),t._v(" "),n("p",[t._v("Spring 官⽹：https://spring.io/。")]),t._v(" "),n("p",[t._v("我们⼀般说 Spring 框架指的都是 Spring Framework，它是很多模块的集合，使⽤这些模块可以很⽅ 便地协助我们进⾏开发。这些模块是：核⼼容器、数据访问/集成,、Web、AOP（⾯向切⾯编程）、⼯ 具、消息和测试模块。⽐如：Core Container 中的 Core 组件是Spring 所有组件的核⼼，Beans 组件 和 Context 组件是实现IOC和依赖注⼊的基础，AOP组件⽤来实现⾯向切⾯编程。")]),t._v(" "),n("h2",{attrs:{id:"spring特征"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#spring特征"}},[t._v("#")]),t._v(" Spring特征")]),t._v(" "),n("p",[t._v("Spring 官⽹列出的 Spring 的 6 个特征:")]),t._v(" "),n("div",{staticClass:"custom-block info"},[n("p",{staticClass:"custom-block-title"},[t._v("Spring 的 6 个特征")]),t._v(" "),n("ul",[n("li",[n("strong",[t._v("核心技术")]),t._v(" ：依赖注⼊(DI)，AOP，事件(events)，资源，i18n，验证，数据绑定，类型转换， SpEL。")]),t._v(" "),n("li",[n("strong",[t._v("测试")]),t._v(" ：模拟对象，TestContext框架，Spring MVC 测试，WebTestClient。")]),t._v(" "),n("li",[n("strong",[t._v("数据访问")]),t._v(" ：事务，DAO⽀持，JDBC，ORM，编组XML。")]),t._v(" "),n("li",[n("strong",[t._v("Web⽀持")]),t._v(" : Spring MVC和Spring WebFlux Web框架。")]),t._v(" "),n("li",[n("strong",[t._v("集成")]),t._v(" ：远程处理，JMS，JCA，JMX，电⼦邮件，任务，调度，缓存。")]),t._v(" "),n("li",[n("strong",[t._v("语⾔")]),t._v(" ：Kotlin，Groovy，动态语⾔。")])])]),t._v(" "),n("h2",{attrs:{id:"spring优点"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#spring优点"}},[t._v("#")]),t._v(" Spring优点")]),t._v(" "),n("ul",[n("li",[t._v("IOC方便解耦，简便开发")]),t._v(" "),n("li",[t._v("AOP不改变源代码，增加其功能")]),t._v(" "),n("li",[t._v("方便程序测试")]),t._v(" "),n("li",[t._v("方便其他程序的整合")]),t._v(" "),n("li",[t._v("降低API的开发难度")])]),t._v(" "),n("h2",{attrs:{id:"spring七大模块"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#spring七大模块"}},[t._v("#")]),t._v(" Spring七大模块")]),t._v(" "),n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"custom-block-title"},[t._v("参考")]),t._v(" "),n("blockquote",[n("ul",[n("li",[t._v("https://www.cnblogs.com/lukelook/p/9604609.html")]),t._v(" "),n("li",[t._v("https://www.cnblogs.com/xiaobaizhiqian/p/7616453.html")])])])]),t._v(" "),n("p",[n("img",{attrs:{src:s(686),alt:""}})]),t._v(" "),n("p",[n("img",{attrs:{src:"https://image-1300566513.cos.ap-guangzhou.myqcloud.com/upload/images/20191227/206d8714bd3f0cf904af3c58ef8cd1a9.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240",alt:"2、常用模块.png"}})]),t._v(" "),n("h2",{attrs:{id:"ioc-控制反转"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ioc-控制反转"}},[t._v("#")]),t._v(" IOC（控制反转）")]),t._v(" "),n("p",[t._v("所需依赖")]),t._v(" "),n("ul",[n("li",[t._v("beans")]),t._v(" "),n("li",[t._v("context")]),t._v(" "),n("li",[t._v("core")]),t._v(" "),n("li",[t._v("expression")])]),t._v(" "),n("h3",{attrs:{id:"概念"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#概念"}},[t._v("#")]),t._v(" 概念")]),t._v(" "),n("p",[t._v("IOC（Inverse of Control:控制反转）是依赖倒置原则⼀种设计思想，就是把原先在代码里面需要实现的对象创建、对象之间的依赖，通过抽象交由给IOC容器来管理。IOC容器实际上就是个Map（key，value）,Map 中存放的是各种对象。")]),t._v(" "),n("ul",[n("li",[t._v("将对象之间的相互依赖关系交给 IoC 容器来管理，并由 IoC 容器完成对象的注⼊。这样可以很⼤程度 上简化应用的开发，把应⽤从复杂的依赖关系中解放出来。")]),t._v(" "),n("li",[t._v("IoC 容器就像是⼀个工厂⼀样，当我们需 要创建⼀个对象的时候，只需要配置好配置⽂件/注解即可，完全不⽤考虑对象是如何被创建出来的。")]),t._v(" "),n("li",[t._v("在实际项⽬中⼀个 Service 类可能有⼏百甚⾄上千个类作为它的底层，假如我们需要实例化这个 Service，你可能要每次都要搞清这个 Service 所有底层类的构造函数，这可能会把⼈逼疯。如果利⽤ IoC 的话，你只需要配置好，然后在需要的地⽅引⽤就⾏了，这⼤⼤增加了项⽬的可维护性且降低了开 发难度。")])]),t._v(" "),n("p",[t._v("Spinrg中通过下面来实现")]),t._v(" "),n("ul",[n("li",[t._v("xml配置")]),t._v(" "),n("li",[t._v("工厂模式")]),t._v(" "),n("li",[t._v("反射")])]),t._v(" "),n("h3",{attrs:{id:"好处"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#好处"}},[t._v("#")]),t._v(" 好处")]),t._v(" "),n("ul",[n("li",[t._v("它将最小化应用程序中的代码量。")]),t._v(" "),n("li",[t._v("它将使您的应用程序易于测试，因为它不需要单元测试用例中的任何单例或 JNDI 查找机制。")]),t._v(" "),n("li",[t._v("它以最小的影响和最少的侵入机制促进松耦合。")]),t._v(" "),n("li",[t._v("它支持即时的实例化和延迟加载服务。")]),t._v(" "),n("li",[t._v("集中管理，实现类的可配置和易管理。")]),t._v(" "),n("li",[t._v("降低了类与类之间的耦合度。")])]),t._v(" "),n("h3",{attrs:{id:"ioc容器接口"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ioc容器接口"}},[t._v("#")]),t._v(" IOC容器接口")]),t._v(" "),n("ul",[n("li",[t._v("BeanFactory：Spring内部使用接口，不提供给开发人员。"),n("code",[t._v("懒加载")]),t._v("，加载配置xml解析不会创建对象，只有getBean才会创建对象")]),t._v(" "),n("li",[t._v("ApplicationContext：是BeanFactory"),n("code",[t._v("子接口")]),t._v("，功能强大，开发人员可使用，加载配置就会创建对象\n"),n("ul",[n("li",[t._v("ClassPathXmlApplicationContext：相对路径，src下")]),t._v(" "),n("li",[t._v("FileSystemXmlApplicationContext：绝对路径，src下")])])])]),t._v(" "),n("h4",{attrs:{id:"beanfactory-applicationcontext对比"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#beanfactory-applicationcontext对比"}},[t._v("#")]),t._v(" BeanFactory | ApplicationContext对比")]),t._v(" "),n("p",[n("strong",[t._v("功能上区别")])]),t._v(" "),n("p",[n("code",[t._v("BeanFactory")]),t._v("是Spring里面最底层的接口，包含了各种Bean的定义，读取bean配置文档，管理bean的加载、实例化，控制bean的生命周期，维护bean之间的依赖关系。")]),t._v(" "),n("p",[n("code",[t._v("ApplicationContext")]),t._v("接口作为"),n("code",[t._v("BeanFactory")]),t._v("的派生，是应用上下文，除了提供BeanFactory所具有的功能外，还提供了更完整的框架功能：")]),t._v(" "),n("blockquote",[n("ul",[n("li",[t._v("国际化（MessageSource）")]),t._v(" "),n("li",[t._v("访问资源，如URL和文件（ResourceLoader）")]),t._v(" "),n("li",[t._v("载入多个（有继承关系）上下文 ，使得每一个上下文都专注于一个特定的层次，比如应用的web层")]),t._v(" "),n("li",[t._v("消息发送、响应机制（ApplicationEventPublisher）")]),t._v(" "),n("li",[t._v("AOP（拦截器）")])])]),t._v(" "),n("p",[n("strong",[t._v("两者装载bean的区别")])]),t._v(" "),n("blockquote",[n("ul",[n("li",[n("mark",[t._v("BeanFactory")]),t._v("：BeanFactory在启动的时候不会去实例化Bean，只有从容器中拿Bean的时候才会去实例化")]),t._v(" "),n("li",[n("mark",[t._v("ApplicationContext")]),t._v("：ApplicationContext在启动的时候就把所有的Bean全部实例化了。它还可以为Bean配置"),n("code",[t._v("lazy-init=true")]),t._v("来让Bean延迟实例化")])])]),t._v(" "),n("p",[n("strong",[t._v("占用内存空间区别")])]),t._v(" "),n("p",[t._v("相对于基本的"),n("code",[t._v("BeanFactory")]),t._v("，"),n("code",[t._v("ApplicationContext")]),t._v(" 唯一的不足是占用内存空间。当应用程序配置Bean较多时，程序启动较慢。")]),t._v(" "),n("p",[n("strong",[t._v("创建方式区别")])]),t._v(" "),n("p",[n("code",[t._v("BeanFactory")]),t._v("通常以"),n("code",[t._v("编程的方式")]),t._v("被创建，"),n("code",[t._v("ApplicationContext")]),t._v("还能以"),n("code",[t._v("声明的方式")]),t._v("创建，如使用ContextLoader。")]),t._v(" "),n("p",[n("strong",[t._v("我们该用BeanFactory还是ApplicationContent")])]),t._v(" "),n("blockquote",[n("ul",[n("li",[n("p",[n("mark",[t._v("延迟实例化的优点BeanFactory")]),t._v("：应用启动的时候占用资源很少；对资源要求较高的应用，比较有优势")])]),t._v(" "),n("li",[n("p",[n("mark",[t._v("不延迟实例化的优点ApplicationContent")]),t._v("：")]),t._v(" "),n("blockquote",[n("ul",[n("li",[t._v("所有的Bean在启动的时候都加载，系统运行的速度快；")]),t._v(" "),n("li",[t._v("在启动的时候所有的Bean都加载了，我们就能在系统启动的时候，尽早的发现系统中的"),n("code",[t._v("配置问题")])]),t._v(" "),n("li",[t._v("建议web应用，在启动的时候就把所有的Bean都加载了。（把费时的操作放到系统启动中完成）")])])])])])]),t._v(" "),n("h3",{attrs:{id:"bean生命周期管理-基于xml"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#bean生命周期管理-基于xml"}},[t._v("#")]),t._v(" Bean生命周期管理（基于xml)")]),t._v(" "),n("p",[t._v("参考")]),t._v(" "),n("ul",[n("li",[n("a",{attrs:{href:"https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-factory-metadata",target:"_blank",rel:"noopener noreferrer"}},[t._v("xml官方文档"),n("OutboundLink")],1)])]),t._v(" "),n("h4",{attrs:{id:"对象创建"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#对象创建"}},[t._v("#")]),t._v(" 对象创建")]),t._v(" "),n("div",{staticClass:"language-xml line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-xml"}},[n("code",[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("bean")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("id")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("userService"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("class")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("com.atguigu.spring5.service.UserService"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br")])]),n("div",{staticClass:"language-java line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//1 加载spring配置文件")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ApplicationContext")]),t._v(" context "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ClassPathXmlApplicationContext")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"bean2.xml"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//2 获取配置创建的对象")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("UserService")]),t._v(" userService "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" context"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getBean")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"userService"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("UserService")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br")])]),n("p",[t._v("默认调用的是"),n("code",[t._v("无参构造函数")]),t._v("完成对象创建")]),t._v(" "),n("h4",{attrs:{id:"属性注入"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#属性注入"}},[t._v("#")]),t._v(" 属性注入")]),t._v(" "),n("ul",[n("li",[t._v("使用set方式")]),t._v(" "),n("li",[t._v("使用有参构造函数")]),t._v(" "),n("li",[t._v("使用xml注入属性")])]),t._v(" "),n("p",[t._v("使用xml注入属性")]),t._v(" "),n("div",{staticClass:"language-XML line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-xml"}},[n("code",[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("bean")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("id")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("book"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("class")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("com.atguigu.spring5.Book"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("property")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("name")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("码农研究僧"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("value")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("99999"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("property")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("bean")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br")])]),n("p",[t._v("使用有参构造函数")]),t._v(" "),n("div",{staticClass:"language-xml line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-xml"}},[n("code",[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("bean")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("id")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("orders"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("class")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("com.atguigu.spring5.Orders"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("constructor-arg")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("name")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("oname"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("value")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("电脑"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("constructor-arg")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("constructor-arg")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("name")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("address"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("value")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("China"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("constructor-arg")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("bean")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br")])]),n("h4",{attrs:{id:"自动装配"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#自动装配"}},[t._v("#")]),t._v(" 自动装配")]),t._v(" "),n("p",[t._v("参考："),n("a",{attrs:{href:"https://www.cnblogs.com/bear7/p/12531016.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://www.cnblogs.com/bear7/p/12531016.html"),n("OutboundLink")],1)]),t._v(" "),n("h3",{attrs:{id:"基于注解-声明为bean"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#基于注解-声明为bean"}},[t._v("#")]),t._v(" 基于注解：声明为bean")]),t._v(" "),n("p",[t._v("我们⼀般使⽤ "),n("code",[t._v("@Autowired")]),t._v(" 注解⾃动装配 bean，要想把类标识成可⽤于 "),n("code",[t._v("@Autowired")]),t._v(" 注解⾃动装 配的 bean 的类,采⽤以下注解可实现：")]),t._v(" "),n("ul",[n("li",[t._v("@Component ：通⽤的注解，可标注任意类为 Spring 组件。如果⼀个Bean不知道属于哪个 层，可以使⽤ @Component 注解标注。")]),t._v(" "),n("li",[t._v("@Repository : 对应持久层即 Dao 层，主要⽤于数据库相关操作。")]),t._v(" "),n("li",[t._v("@Service : 对应服务层，主要涉及⼀些复杂的逻辑，需要⽤到 Dao层。")]),t._v(" "),n("li",[t._v("@Controller : 对应 Spring MVC 控制层，主要⽤户接受⽤户请求并调⽤ Service 层返回数 据给前端页面，也可用@RestController")])]),t._v(" "),n("h3",{attrs:{id:"基于注解-属性注入-autowired和-qualifier"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#基于注解-属性注入-autowired和-qualifier"}},[t._v("#")]),t._v(" 基于注解：属性注入@Autowired和@Qualifier")]),t._v(" "),n("h2",{attrs:{id:"spring-bean"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#spring-bean"}},[t._v("#")]),t._v(" Spring Bean")]),t._v(" "),n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"custom-block-title"},[t._v("参考")]),t._v(" "),n("ul",[n("li",[t._v("https://www.awaimai.com/2596.html")]),t._v(" "),n("li",[t._v("https://blog.csdn.net/qq_39411208/article/details/88395875")]),t._v(" "),n("li",[n("a",{attrs:{href:"https://blog.csdn.net/qq_43709204/article/details/109991097",target:"_blank",rel:"noopener noreferrer"}},[t._v("Spring IOC中Bean的作⽤域与⽣命周期"),n("OutboundLink")],1)]),t._v(" "),n("li",[t._v("https://blog.csdn.net/kongmin_123/article/details/82048392")])])]),t._v(" "),n("h3",{attrs:{id:"什么是bean"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#什么是bean"}},[t._v("#")]),t._v(" 什么是bean")]),t._v(" "),n("p",[t._v("Spring 官方文档对 Bean 的解释是：")]),t._v(" "),n("blockquote",[n("p",[t._v("In Spring, the objects that form the backbone of your application and that are managed by the Spring IoC container are called beans. A bean is an object that is instantiated, assembled, and otherwise managed by a Spring IoC container.")])]),t._v(" "),n("p",[t._v("翻译过来就是：")]),t._v(" "),n("blockquote",[n("p",[t._v("在 Spring 中，构成应用程序"),n("code",[t._v("主干")]),t._v("并由"),n("code",[t._v("Spring IoC容器")]),t._v("管理的"),n("code",[t._v("对象")]),t._v("称为"),n("code",[t._v("bean")]),t._v("。bean是一个由"),n("code",[t._v("Spring IoC")]),t._v("容器实例化、组装和管理的对象。")])]),t._v(" "),n("p",[t._v("Bean也是基于用户提供容器的配置元数据创建")]),t._v(" "),n("h3",{attrs:{id:"bean生命周期"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#bean生命周期"}},[t._v("#")]),t._v(" Bean生命周期")]),t._v(" "),n("p",[t._v("参考")]),t._v(" "),n("ul",[n("li",[n("a",{attrs:{href:"https://www.cnblogs.com/javazhiyin/p/10905294.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://www.cnblogs.com/javazhiyin/p/10905294.html"),n("OutboundLink")],1)])]),t._v(" "),n("p",[n("img",{attrs:{src:"https://blog-1300186248.cos.ap-shanghai.myqcloud.com/Spring/bean%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F.png",alt:"image-20211120194324042"}})]),t._v(" "),n("p",[t._v("具体过程")]),t._v(" "),n("p",[n("img",{attrs:{src:"https://blog-1300186248.cos.ap-shanghai.myqcloud.com/Spring-Interview/spring%20bean%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F2.jpg",alt:"Spring bean 的生命周期2"}})]),t._v(" "),n("p",[n("img",{attrs:{src:"https://blog-1300186248.cos.ap-shanghai.myqcloud.com/Spring-Interview/spring%20bean%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F3.jpg",alt:"Spring bean 的生命周期"}})]),t._v(" "),n("ul",[n("li",[t._v("如果实现InstantiationAwareBeanPostProcessor接口，那么会调用postProcessBeforeInstantiation方法，如果该方法返回非null则不会走后续流程")]),t._v(" "),n("li",[t._v("Spring对bean通过构造器进行实例化，构造器的推断可以使用@Autowired注解，如果有多个自定义构造方法，那么根据可注入性，顺序性来注入")]),t._v(" "),n("li",[t._v("Spring将值和bean的引用注入到bean对应的属性中；")]),t._v(" "),n("li",[t._v("如果bean实现了BeanNameAware接口，Spring将bean的ID传递给 setBean-Name()方法；")]),t._v(" "),n("li",[t._v("如果bean实现了BeanFactoryAware接口，Spring将调用 setBeanFactory()方法，将BeanFactory容器实例传入；")]),t._v(" "),n("li",[t._v("如果bean实现了ApplicationContextAware接口，Spring将调用 setApplicationContext()方法，将bean所在的应用上下文的引用 传入进来；")]),t._v(" "),n("li",[t._v("如果bean实现了BeanPostProcessor接口，Spring将调用它们的 post-ProcessBeforeInitialization()方法；")]),t._v(" "),n("li",[t._v("如果bean实现了InitializingBean接口，Spring将调用它们的 after-PropertiesSet()方法。")]),t._v(" "),n("li",[t._v("调用bean标签指定的属性init-Method初始化方法")]),t._v(" "),n("li",[t._v("如果bean实现了BeanPostProcessor接口，Spring将调用它们的 post-ProcessAfterInitialization()方法；")]),t._v(" "),n("li",[t._v("此时，bean已经准备就绪，可以被应用程序使用了，它们将一直驻留在应用上下文中，直到该应用上下文被销毁；")]),t._v(" "),n("li",[t._v("如果bean实现了DisposableBean接口，Spring将调用它的 destroy()接口方法。同样，如果bean使用destroy-method声明了 销毁方法，该方法也会被调用。")]),t._v(" "),n("li",[t._v("调用bean标签指定的属性detroy-Method毁灭方法")])]),t._v(" "),n("h4",{attrs:{id:"各种接口方法分类"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#各种接口方法分类"}},[t._v("#")]),t._v(" 各种接口方法分类")]),t._v(" "),n("p",[t._v("Bean的完整生命周期经历了各种方法调用，这些方法可以划分为以下几类：")]),t._v(" "),n("div",{staticClass:"custom-block info"},[n("p",{staticClass:"custom-block-title"},[t._v("相关信息")]),t._v(" "),n("ul",[n("li",[t._v("Bean自身的方法：这个包括了Bean本身调用的方法和通过配置文件中<bean>的"),n("code",[t._v("init-method")]),t._v("和"),n("code",[t._v("destroy-method")]),t._v("指定的方法")]),t._v(" "),n("li",[t._v("Bean级生命周期接口方法：这个包括了BeanNameAware、BeanFactoryAware、InitializingBean和DiposableBean这些接口的方法")]),t._v(" "),n("li",[t._v("容器级生命周期接口方法：这个包括了InstantiationAwareBeanPostProcessor 和 BeanPostProcessor 这两个接口实现，一般称它们的实现类为“后处理器”。")]),t._v(" "),n("li",[t._v("工厂后处理器接口方法：这个包括了AspectJWeavingEnabler, ConfigurationClassPostProcessor, CustomAutowireConfigurer等等非常有用的工厂后处理器接口的方法。工厂后处理器也是容器级的。在应用上下文装配配置文件之后立即调用。")])])]),t._v(" "),n("h3",{attrs:{id:"spring-bean中五种作用域"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#spring-bean中五种作用域"}},[t._v("#")]),t._v(" Spring bean中五种作用域?")]),t._v(" "),n("table",[n("thead",[n("tr",[n("th",[t._v("作用域")]),t._v(" "),n("th",[t._v("描述")])])]),t._v(" "),n("tbody",[n("tr",[n("td",[t._v("singleton")]),t._v(" "),n("td",[t._v("在spring IoC容器仅存在一个Bean实例，Bean以单例方式存在，bean作用域范围的"),n("code",[t._v("默认值")]),t._v("。")])]),t._v(" "),n("tr",[n("td",[t._v("prototype")]),t._v(" "),n("td",[t._v("每次从容器中调用Bean时，都返回一个新的实例，即每次调用getBean()时，相当于执行newXxxBean()。")])]),t._v(" "),n("tr",[n("td",[t._v("request")]),t._v(" "),n("td",[t._v("每次HTTP请求都会创建一个新的Bean，该作用域仅适用于web的Spring WebApplicationContext环境。")])]),t._v(" "),n("tr",[n("td",[t._v("session")]),t._v(" "),n("td",[t._v("同一个HTTP Session共享一个Bean，不同Session使用不同的Bean。该作用域仅适用于web的Spring WebApplicationContext环境。")])]),t._v(" "),n("tr",[n("td",[t._v("application")]),t._v(" "),n("td",[t._v("限定一个Bean的作用域为"),n("code",[t._v("ServletContext")]),t._v("的生命周期。该作用域仅适用于web的Spring WebApplicationContext环境。")])])])]),t._v(" "),n("h4",{attrs:{id:"singleton-作用域"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#singleton-作用域"}},[t._v("#")]),t._v(" singleton 作用域")]),t._v(" "),n("p",[n("img",{attrs:{src:s(687),alt:"singleton 作⽤域"}})]),t._v(" "),n("div",{staticClass:"custom-block warning"},[n("p",{staticClass:"custom-block-title"},[t._v("关于lazy-init")]),t._v(" "),n("p",[t._v("lazy-init是懒加载, 如果等于true时作⽤是指Spring容器启动的时候不会去实例化这个bean,⽽是在程序调⽤时才去实例化. 默认是false即Spring容器启动时实例化.")])]),t._v(" "),n("p",[t._v("实例")]),t._v(" "),n("p",[t._v("创建一个bean:")]),t._v(" "),n("div",{staticClass:"custom-block info"},[n("p",{staticClass:"custom-block-title"},[t._v("SingletonBean.java")]),t._v(" "),n("div",{staticClass:"language-java line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("package")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("com"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("spring"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("demo")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v("  "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SingletonBean")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n   "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" message"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n   "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("setMessage")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" message"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("message  "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" message"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n   "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n   "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getMessage")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("out"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Your Message : "')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" message"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n   "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br"),n("span",{staticClass:"line-number"},[t._v("8")]),n("br"),n("span",{staticClass:"line-number"},[t._v("9")]),n("br"),n("span",{staticClass:"line-number"},[t._v("10")]),n("br")])])]),t._v(" "),n("p",[t._v("在Spring的配置文件中配置该bean:")]),t._v(" "),n("div",{staticClass:"custom-block info"},[n("p",{staticClass:"custom-block-title"},[t._v("Bean.xml")]),t._v(" "),n("div",{staticClass:"language-xml line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-xml"}},[n("code",[n("span",{pre:!0,attrs:{class:"token prolog"}},[t._v('<?xml version="1.0" encoding="UTF-8"?>')]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("beans")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("xmlns")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("http://www.springframework.org/schema/beans"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("\n       "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[n("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("xmlns:")]),t._v("xsi")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("http://www.w3.org/2001/XMLSchema-instance"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("\n       "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[n("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("xsi:")]),t._v("schemaLocation")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("\n        http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n \n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("bean")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("id")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("SingletonBean"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("class")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("com.spring.demo.SingletonBean"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("scope")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("singleton"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("bean")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- 或者 --\x3e")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('\x3c!--  <bean id="SingletonBean" class="com.spring.demo.SingletonBean" ></bean> --\x3e')]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("beans")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br"),n("span",{staticClass:"line-number"},[t._v("8")]),n("br"),n("span",{staticClass:"line-number"},[t._v("9")]),n("br"),n("span",{staticClass:"line-number"},[t._v("10")]),n("br")])])]),t._v(" "),n("p",[t._v("测试该Bean是否为单例的:")]),t._v(" "),n("div",{staticClass:"custom-block info"},[n("p",{staticClass:"custom-block-title"},[t._v("TestBean.java")]),t._v(" "),n("div",{staticClass:"language-java line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("package")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("com"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("spring"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("demo")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n \n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("org"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("springframework"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("context"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")])]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ApplicationContext")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("org"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("springframework"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("context"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("support"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")])]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ClassPathXmlApplicationContext")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("org"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("junit"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")])]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Test")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n \n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("TestBean")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n \n    "),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Test")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("textUser")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//1.获取spring文件")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ApplicationContext")]),t._v(" context "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ClassPathXmlApplicationContext")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Bean.xml"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//2.由配置文件返回对象")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SingletonBean")]),t._v(" singletonBeanA "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SingletonBean")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("context"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getBean")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"SingletonBean"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        singletonBeanA"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("setMessage")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"I\'m object A"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        singletonBeanA"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getMessage")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SingletonBean")]),t._v(" singletonBeanB "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SingletonBean")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("context"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getBean")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"SingletonBean"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        singletonBeanB"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getMessage")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n \n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br"),n("span",{staticClass:"line-number"},[t._v("8")]),n("br"),n("span",{staticClass:"line-number"},[t._v("9")]),n("br"),n("span",{staticClass:"line-number"},[t._v("10")]),n("br"),n("span",{staticClass:"line-number"},[t._v("11")]),n("br"),n("span",{staticClass:"line-number"},[t._v("12")]),n("br"),n("span",{staticClass:"line-number"},[t._v("13")]),n("br"),n("span",{staticClass:"line-number"},[t._v("14")]),n("br"),n("span",{staticClass:"line-number"},[t._v("15")]),n("br"),n("span",{staticClass:"line-number"},[t._v("16")]),n("br"),n("span",{staticClass:"line-number"},[t._v("17")]),n("br"),n("span",{staticClass:"line-number"},[t._v("18")]),n("br"),n("span",{staticClass:"line-number"},[t._v("19")]),n("br"),n("span",{staticClass:"line-number"},[t._v("20")]),n("br"),n("span",{staticClass:"line-number"},[t._v("21")]),n("br"),n("span",{staticClass:"line-number"},[t._v("22")]),n("br")])])]),t._v(" "),n("p",[t._v("运行结果:")]),t._v(" "),n("div",{staticClass:"custom-block info"},[n("p",{staticClass:"custom-block-title"},[t._v("运行结果")]),t._v(" "),n("p",[n("img",{attrs:{src:s(688),alt:"singleton运行结果"}})])]),t._v(" "),n("p",[n("code",[t._v("lazy-init")]),t._v("设置为"),n("code",[t._v("false")]),t._v("的好处")]),t._v(" "),n("div",{staticClass:"custom-block info"},[n("p",{staticClass:"custom-block-title"},[t._v("好处")]),t._v(" "),n("p",[t._v("可以提前发现潜在的配置问题")]),t._v(" "),n("p",[t._v("Bean 对象存在于缓存中，使⽤时不⽤再去实例化bean，加快程序运⾏效率")])]),t._v(" "),n("p",[t._v("适合作为单例的对象")]),t._v(" "),n("div",{staticClass:"custom-block info"},[n("p",{staticClass:"custom-block-title"},[t._v("适合作为单例的对象")]),t._v(" "),n("p",[t._v("就是作为适合创建bean例的类，⼀般来说对于⽆状态或状态不可改变的对象适合使⽤单例模式。（不存在会改变对象状态的成员变量）")]),t._v(" "),n("p",[t._v("比如：user类定义的是各种属性，但有的时候我们需要的只是user属性的一小部分，所以user就不适合作为单例，而controller层、service层、dao层里面的类似固定的操作固定的属性，不会发生什么变动，所以适合作为单例。")])]),t._v(" "),n("h4",{attrs:{id:"prototype-作用域"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#prototype-作用域"}},[t._v("#")]),t._v(" prototype 作⽤域")]),t._v(" "),n("p",[n("img",{attrs:{src:s(689),alt:"singleton 作⽤域"}})]),t._v(" "),n("p",[t._v("当一个bean的作用域为"),n("code",[t._v("prototype")]),t._v("，表示一个bean定义对应多个对象实例。声明为prototype作用域的bean会导致在每次对该bean请求（将其注入到另一个bean中，或者以程序的方式调用容器的getBean()方法）时都会创建一个新的bean实例。prototype是原型类型，它在我们创建容器的时候并没有实例化，而是当我们获取bean的时候才会去创建一个对象，而且我们每次获取到的对象都不是同一个对象。")]),t._v(" "),n("p",[t._v("根据经验，对"),n("code",[t._v("有状态的bean")]),t._v("应该使用"),n("code",[t._v("prototype")]),t._v("作用域，而对"),n("code",[t._v("无状态的bean")]),t._v("则应该使用"),n("code",[t._v("singleton")]),t._v("作用域。")]),t._v(" "),n("h4",{attrs:{id:"request-请求作用域"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#request-请求作用域"}},[t._v("#")]),t._v(" request 请求作用域")]),t._v(" "),n("p",[t._v("Spring容器会在每次用到"),n("code",[t._v("loginAction")]),t._v("来处理每个HTTP请求的时候都会创建一个新的"),n("code",[t._v("LoginAction")]),t._v("实例。也就是说，"),n("code",[t._v("loginAction")]),t._v("Bean的作用域是HTTP "),n("code",[t._v("Request")]),t._v("级别的。")]),t._v(" "),n("p",[t._v("当http请求调用作用域为request的bean的时候，每增加一个HTTP请求，Spring就会创建一个新的bean，在请求处理完成之后便及时销毁这个bean。开发者可以随意改变实例的状态，因为通过"),n("code",[t._v("loginAction")]),t._v("请求来创建的其他实例根本看不到开发者改变的实例状态，所有创建的Bean实例都是根据独立的请求来的。")]),t._v(" "),n("h4",{attrs:{id:"session-会话作用域"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#session-会话作用域"}},[t._v("#")]),t._v(" session 会话作用域")]),t._v(" "),n("p",[t._v("Spring容器会在每次调用到"),n("code",[t._v("userPreferences时，")]),t._v("在一个单独的HTTP会话周期来创建一个新的"),n("code",[t._v("UserPreferences")]),t._v("实例。换言之"),n("code",[t._v("userPreferences")]),t._v("Bean的作用域是HTTP "),n("code",[t._v("Session")]),t._v("级别的。")]),t._v(" "),n("p",[t._v("Session中所有http请求共享同一个请求的bean实例。Session结束后就销毁bean。 在"),n("code",[t._v("request-scoped")]),t._v("作用域的Bean上，开发者可以随意的更改实例的状态。同样，使用从同一个userPreferences bean定义创建的其他HTTP Session实例在看不到不是自己的内部状态的修改，因为他们是单个的HTTP会话。每个Session请求都会创建新的"),n("code",[t._v("userPreferences")]),t._v("实例，所以开发者更改一个Bean的状态，对于其他的Bean仍然是不可见的。")]),t._v(" "),n("h4",{attrs:{id:"application-全局作用域"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#application-全局作用域"}},[t._v("#")]),t._v(" application 全局作用域")]),t._v(" "),n("p",[t._v("Spring容器会在整个web应用范围使用到"),n("code",[t._v("appPreferences")]),t._v("的时候创建一个新的"),n("code",[t._v("AppPreferences")]),t._v("的实例。也就是说，"),n("code",[t._v("appPreferences")]),t._v("Bean是在"),n("code",[t._v("ServletContext")]),t._v("级别的，作为常规的ServletContext属性。这种作用域在一些程度上来说和Spring的单例作用域相似，但是也有如下不同之处：")]),t._v(" "),n("ul",[n("li",[n("code",[t._v("application")]),t._v("作用域是每个"),n("code",[t._v("ServletContext")]),t._v("中包含一个，而不是每个Spring"),n("code",[t._v("ApplicationContext")]),t._v("之中包含一个（某些应用中可能包含不止一个"),n("code",[t._v("ApplicationContext")]),t._v("）。")]),t._v(" "),n("li",[n("code",[t._v("application")]),t._v("作用域仅仅作为"),n("code",[t._v("ServletContext")]),t._v("的属性可见，单例Bean是"),n("code",[t._v("ApplicationContext")]),t._v("可见。")])]),t._v(" "),n("p",[t._v("接下来再来简单的学习下在Spring当中如何自定义作用域：")]),t._v(" "),n("p",[t._v("在Spring 2.0中，Spring的Bean作用域机制是可以扩展的，这意味着，你不仅可以使用Spring提供的预定义Bean作用域，还可以定义自己的作用域，甚至重新定义现有的作用域（不提倡这么做，而且你不能覆盖内置的singleton和prototype作用域）")]),t._v(" "),n("h3",{attrs:{id:"beandefinition"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#beandefinition"}},[t._v("#")]),t._v(" BeanDefinition")]),t._v(" "),n("p",[n("code",[t._v("BeanDefinition")]),t._v("表示Bean定义，Spring根据"),n("code",[t._v("BeanDfinition")]),t._v("来创建Bean对象，"),n("code",[t._v("BeanDfinition")]),t._v("有很多属性用来描述Bean。")]),t._v(" "),n("table",[n("thead",[n("tr",[n("th",[t._v("属性")]),t._v(" "),n("th",[t._v("描述")])])]),t._v(" "),n("tbody",[n("tr",[n("td",[t._v("beanClass")]),t._v(" "),n("td",[t._v("表示一个bean类型。Spring在创建bean过程根据此属性来实例化得到对象")])]),t._v(" "),n("tr",[n("td",[t._v("scope")]),t._v(" "),n("td",[t._v("作用域")])]),t._v(" "),n("tr",[n("td",[t._v("isLazy")]),t._v(" "),n("td",[t._v("是否懒加载。表示一个bean是不是需要懒加载,原型bean的 isLazy属性不起作用, 懒加载的单例bean,会在第一次 getBean的时候生成该bean,非懒加 载的单例bean,则会在 Spring启动过程中直接生成好。")])]),t._v(" "),n("tr",[n("td",[t._v("dependsOn")]),t._v(" "),n("td",[t._v("表示一个bean在创建之前所依赖的其他bean,在一个bean创建之前,它所依赖的这些bean得先全部创建好。")])]),t._v(" "),n("tr",[n("td",[t._v("primary")]),t._v(" "),n("td",[t._v("表示一个bean是主bean。在Spng中一个类型可以有多个bean对象, 在进行依赖注入时,如果根据类型找到了多个bean,此时会判断这些 bean中是否存在一个主bean,如果存在,则直接将这个bean注入给属性")])]),t._v(" "),n("tr",[n("td",[t._v("initMethodName")]),t._v(" "),n("td",[t._v("表示一个bean的初始化方法。一个bean的生命周期过程中有一个步骤叫初始化,Spng会在这个步骤中去调用bean的初始化方法,初始化逻辑由程序员自己控制,表示程序员可以自定义逻辑对bean进行加")])])])]),t._v(" "),n("h3",{attrs:{id:"beanfactory"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#beanfactory"}},[t._v("#")]),t._v(" BeanFactory")]),t._v(" "),n("p",[n("code",[t._v("BeanFactory")]),t._v("是创建Bean的Spring容器。")]),t._v(" "),n("p",[n("code",[t._v("BeanFactory")]),t._v("利用"),n("code",[t._v("BeanDefinition")]),t._v("作为模板来生成Bean对象")]),t._v(" "),n("h3",{attrs:{id:"spring提供了哪些bean配置方式"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#spring提供了哪些bean配置方式"}},[t._v("#")]),t._v(" Spring提供了哪些bean配置方式")]),t._v(" "),n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"custom-block-title"},[t._v("参考")]),t._v(" "),n("ul",[n("li",[t._v("https://blog.csdn.net/qq_35744081/article/details/94986758")])])]),t._v(" "),n("div",{staticClass:"custom-block info"},[n("p",{staticClass:"custom-block-title"},[t._v("三种配置方式")]),t._v(" "),n("ul",[n("li",[t._v("基于xml的配置")]),t._v(" "),n("li",[t._v("基于注解的配置")]),t._v(" "),n("li",[t._v("基于Java的配置")])])]),t._v(" "),n("h3",{attrs:{id:"bean循环依赖问题"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#bean循环依赖问题"}},[t._v("#")]),t._v(" bean循环依赖问题")]),t._v(" "),n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"custom-block-title"},[t._v("参考")]),t._v(" "),n("ul",[n("li",[n("a",{attrs:{href:"https://www.cnblogs.com/yanggb/p/13125998.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("spring bean循环依赖的解决方法"),n("OutboundLink")],1)]),t._v(" "),n("li",[n("a",{attrs:{href:"https://blog.csdn.net/u010853261/article/details/77940767",target:"_blank",rel:"noopener noreferrer"}},[t._v("Spring-bean的循环依赖以及解决方式"),n("OutboundLink")],1)])])]),t._v(" "),n("h2",{attrs:{id:"aop-aspect-oriented-programming-面向切面编程"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#aop-aspect-oriented-programming-面向切面编程"}},[t._v("#")]),t._v(" AOP（Aspect-Oriented Programming）：面向切面编程")]),t._v(" "),n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"custom-block-title"},[t._v("参考")]),t._v(" "),n("ul",[n("li",[t._v("https://www.cnblogs.com/joy99/p/10941543.html")]),t._v(" "),n("li",[n("a",{attrs:{href:"https://blog.csdn.net/u010890358/article/details/80640433",target:"_blank",rel:"noopener noreferrer"}},[t._v("SpringAOP详细配置与使用"),n("OutboundLink")],1)]),t._v(" "),n("li",[t._v("https://www.jianshu.com/p/78ba8bafb90a")])])]),t._v(" "),n("p",[n("code",[t._v("OOP")]),t._v("面向对象，允许开发者定义纵向的关系，但并适用于定义横向的关系，导致了大量代码的重复，而不利于各个模块的重用。")]),t._v(" "),n("p",[n("code",[t._v("AOP(Aspect-Oriented Programming)")]),t._v(":⾯向切⾯编程)能够将那些与业务⽆关，却为业务模块所共同调⽤的逻辑或责任（例如"),n("code",[t._v("事务处理")]),t._v("、"),n("code",[t._v("⽇志管理")]),t._v("、"),n("code",[t._v("权限控制")]),t._v("等）封装起来，便于减少系统的重复代码，降低模块间的耦合度，并有利于未来的可拓展性和可维护性。")]),t._v(" "),n("h3",{attrs:{id:"使用aop的好处"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#使用aop的好处"}},[t._v("#")]),t._v(" 使用AOP的好处")]),t._v(" "),n("div",{staticClass:"custom-block info"},[n("p",{staticClass:"custom-block-title"},[t._v("好处")]),t._v(" "),n("ul",[n("li",[t._v("降低模块的耦合度")]),t._v(" "),n("li",[t._v("使系统容易扩展")]),t._v(" "),n("li",[t._v("提高代码复用性")])])]),t._v(" "),n("h3",{attrs:{id:"aop的基本概念"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#aop的基本概念"}},[t._v("#")]),t._v(" AOP的基本概念")]),t._v(" "),n("div",{staticClass:"custom-block info"},[n("p",{staticClass:"custom-block-title"},[t._v("AOP基本概念")]),t._v(" "),n("table",[n("thead",[n("tr",[n("th",[t._v("名称")]),t._v(" "),n("th",[t._v("作用")])])]),t._v(" "),n("tbody",[n("tr",[n("td",[t._v("连接点（JoinPoint）")]),t._v(" "),n("td",[t._v("需要在程序中插入横切关注点的点，连接点可能是在类初始化、方法调用、字段调用或处理异常等等。Spring中只支持方法执行连接点，通俗来说就是可以被增强的方法")])]),t._v(" "),n("tr",[n("td",[t._v("切入点（Pointcut）")]),t._v(" "),n("td",[t._v("一组相关连接点的集合，通俗来说就是实际被增强的方法")])]),t._v(" "),n("tr",[n("td",[t._v("通知（Advice）")]),t._v(" "),n("td",[t._v("在连接点上执行的增强行为逻辑，增强提供了在AOP中需要在切入点所选择的连接点处进行扩展现有行为的手段。包括前置通知、后置通知 、环绕通知、异常通知、最终通知")])]),t._v(" "),n("tr",[n("td",[t._v("切面（Aspect）")]),t._v(" "),n("td",[t._v("通知和切入点的结合，吧通知应用到切入点的过程")])]),t._v(" "),n("tr",[n("td",[t._v("织入（Weaving）")]),t._v(" "),n("td",[t._v("织入是一个过程，是将切面应用到目标对象从而创建出AOP代理对象的过程。")])]),t._v(" "),n("tr",[n("td",[t._v("代理（Proxy）")]),t._v(" "),n("td",[t._v("通过代理方式来对目标对象应用切面。AOP代理可以用JDK动态代理或CGLIB代理实现。")])]),t._v(" "),n("tr",[n("td",[t._v("目标对象（Target）")]),t._v(" "),n("td",[t._v("需要被织入关注点的对象。即被代理的对象。")])])])])]),t._v(" "),n("h3",{attrs:{id:"aop运行原理-设计模式"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#aop运行原理-设计模式"}},[t._v("#")]),t._v(" AOP运行原理/设计模式")]),t._v(" "),n("p",[n("img",{attrs:{src:s(690),alt:"七大模块"}})]),t._v(" "),n("p",[t._v("实现AOP的主要设计模式就是动态代理。\nSpring的动态代理有两种：一是"),n("code",[t._v("JDK的动态代理")]),t._v("；另一个是"),n("code",[t._v("cglib动态代理")]),t._v("。")]),t._v(" "),n("h4",{attrs:{id:"使用场景"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#使用场景"}},[t._v("#")]),t._v(" 使用场景")]),t._v(" "),n("ol",[n("li",[t._v("如果目标对象实现了接口，默认情况下会采用JDK的动态代理实现AOP ，可以强制使用CGLIB实现AOP")]),t._v(" "),n("li",[t._v("如果目标对象没有实现了接口，必须采用CGLIB库，spring会自动在JDK动态代理和CGLIB之间转换")])]),t._v(" "),n("p",[t._v("如何强制使用CGLIB实现AOP？")]),t._v(" "),n("ul",[n("li",[t._v("添加CGLIB库，SPRING_HOME/cglib/*.jar")]),t._v(" "),n("li",[t._v('在spring配置文件中加入<aop:aspectj-autoproxy proxy-target-class="true"/>')])]),t._v(" "),n("h4",{attrs:{id:"区别"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#区别"}},[t._v("#")]),t._v(" 区别")]),t._v(" "),n("ul",[n("li",[t._v("JDK动态代理只能对实现了接口的类生成代理，而不能针对类")]),t._v(" "),n("li",[t._v("CGLIB是针对类实现代理，主要是对指定的类生成一个子类，覆盖其中的方法因为是继承，所以该类或方法最好不要声明成final")])]),t._v(" "),n("h3",{attrs:{id:"aspectj"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#aspectj"}},[t._v("#")]),t._v(" AspectJ")]),t._v(" "),n("ul",[n("li",[t._v("在@Configuration标记的类上加@EnableAspectJAutoProxy注解")]),t._v(" "),n("li",[t._v("在代理类中加@Component和@AspectJ并自定义通知方法")])]),t._v(" "),n("p",[t._v("示例")]),t._v(" "),n("div",{staticClass:"language-java line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Component")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Aspect")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("UserDaoProxy")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//切入点抽取")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Pointcut")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"execution(* com.longchen.spring5.web.dao.UserDao.add(..))"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("pointCut")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//前置通知")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Before")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"pointCut()"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("before")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("out"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"before"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//环绕通知，其中的前置处理比前置通知顺序优先")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Around")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"pointCut()"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("around")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ProceedingJoinPoint")]),t._v(" proceedingJoinPoint"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("out"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"around before"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//方法执行")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("try")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            proceedingJoinPoint"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("proceed")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("catch")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Throwable")]),t._v(" e"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            e"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("printStackTrace")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("out"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"around after"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//非异常时返回通知")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@AfterReturning")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"pointCut()"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("afterReturning")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("out"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"afterReturning"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//异常时通知")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@AfterThrowing")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"pointCut()"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("afterThrowing")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("out"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"afterThrowing"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//最终通知")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@After")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"pointCut()"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("after")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("out"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"after"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br"),n("span",{staticClass:"line-number"},[t._v("8")]),n("br"),n("span",{staticClass:"line-number"},[t._v("9")]),n("br"),n("span",{staticClass:"line-number"},[t._v("10")]),n("br"),n("span",{staticClass:"line-number"},[t._v("11")]),n("br"),n("span",{staticClass:"line-number"},[t._v("12")]),n("br"),n("span",{staticClass:"line-number"},[t._v("13")]),n("br"),n("span",{staticClass:"line-number"},[t._v("14")]),n("br"),n("span",{staticClass:"line-number"},[t._v("15")]),n("br"),n("span",{staticClass:"line-number"},[t._v("16")]),n("br"),n("span",{staticClass:"line-number"},[t._v("17")]),n("br"),n("span",{staticClass:"line-number"},[t._v("18")]),n("br"),n("span",{staticClass:"line-number"},[t._v("19")]),n("br"),n("span",{staticClass:"line-number"},[t._v("20")]),n("br"),n("span",{staticClass:"line-number"},[t._v("21")]),n("br"),n("span",{staticClass:"line-number"},[t._v("22")]),n("br"),n("span",{staticClass:"line-number"},[t._v("23")]),n("br"),n("span",{staticClass:"line-number"},[t._v("24")]),n("br"),n("span",{staticClass:"line-number"},[t._v("25")]),n("br"),n("span",{staticClass:"line-number"},[t._v("26")]),n("br"),n("span",{staticClass:"line-number"},[t._v("27")]),n("br"),n("span",{staticClass:"line-number"},[t._v("28")]),n("br"),n("span",{staticClass:"line-number"},[t._v("29")]),n("br"),n("span",{staticClass:"line-number"},[t._v("30")]),n("br"),n("span",{staticClass:"line-number"},[t._v("31")]),n("br"),n("span",{staticClass:"line-number"},[t._v("32")]),n("br"),n("span",{staticClass:"line-number"},[t._v("33")]),n("br"),n("span",{staticClass:"line-number"},[t._v("34")]),n("br"),n("span",{staticClass:"line-number"},[t._v("35")]),n("br"),n("span",{staticClass:"line-number"},[t._v("36")]),n("br"),n("span",{staticClass:"line-number"},[t._v("37")]),n("br"),n("span",{staticClass:"line-number"},[t._v("38")]),n("br"),n("span",{staticClass:"line-number"},[t._v("39")]),n("br"),n("span",{staticClass:"line-number"},[t._v("40")]),n("br"),n("span",{staticClass:"line-number"},[t._v("41")]),n("br"),n("span",{staticClass:"line-number"},[t._v("42")]),n("br"),n("span",{staticClass:"line-number"},[t._v("43")]),n("br"),n("span",{staticClass:"line-number"},[t._v("44")]),n("br"),n("span",{staticClass:"line-number"},[t._v("45")]),n("br"),n("span",{staticClass:"line-number"},[t._v("46")]),n("br")])]),n("h3",{attrs:{id:"spring-aop-和-aspectj-aop-有什么区别"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#spring-aop-和-aspectj-aop-有什么区别"}},[t._v("#")]),t._v(" Spring AOP 和 AspectJ AOP 有什么区别？")]),t._v(" "),n("p",[t._v("Spring AOP 属于运⾏时增强，⽽ AspectJ 是编译时增强。 Spring AOP 基于代理(Proxying)，⽽ AspectJ 基于字节码操作(Bytecode Manipulation)。")]),t._v(" "),n("p",[t._v("Spring AOP 已经集成了 AspectJ ，AspectJ 应该算的上是 Java ⽣态系统中最完整的 AOP 框架了。 AspectJ 相⽐于 Spring AOP 功能更加强⼤，但是 Spring AOP 相对来说更简单。")]),t._v(" "),n("p",[t._v("如果我们的切⾯少，那么两者性能差异不⼤。但是，当切⾯太多的话，最好选择 AspectJ ，它⽐ Spring AOP 快很多。")]),t._v(" "),n("h2",{attrs:{id:"jdbc"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#jdbc"}},[t._v("#")]),t._v(" JDBC")])])}),[],!1,null,null,null);a.default=e.exports}}]);