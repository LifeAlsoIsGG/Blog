<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>设计模式之创建型设计模式 | Draco&#39;s Blog</title>
    <meta name="generator" content="VuePress 1.9.7">
    <script src="https://cdn.jsdelivr.net/npm/react/umd/react.production.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/react-dom/umd/react-dom.production.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@babel/standalone/babel.min.js"></script>
    <link rel="icon" href="/favicon.ico">
    <link rel="icon" href="/assets/icon/chrome-mask-512.png" type="image/png" sizes="512x512">
    <link rel="icon" href="/assets/icon/chrome-mask-192.png" type="image/png" sizes="192x192">
    <link rel="icon" href="/assets/icon/chrome-512.png" type="image/png" sizes="512x512">
    <link rel="icon" href="/assets/icon/chrome-192.png" type="image/png" sizes="192x192">
    <link rel="manifest" href="/manifest.webmanifest" crossorigin="use-credentials">
    <link rel="apple-touch-icon" href="/assets/icon/apple-icon-152.png">
    <meta name="description" content="美丽新世界">
    <meta property="og:url" content="https://vuepress-theme-hope-demo.mrhope.site/java/java-DesignPatterns/Java-DesignPatterns-CreationalPatterns.html">
    <meta property="og:site_name" content="Draco&#39;s Blog">
    <meta property="og:title" content="设计模式之创建型设计模式">
    <meta property="og:type" content="article">
    <meta property="og:locale" content="en-US">
    <meta property="og:locale:alternate" content="zh-CN">
    <meta property="article:author" content="Draco">
    <meta property="article:tag" content="Java">
    <meta property="article:published_time" content="2020-08-09T23:20:52.000Z">
    <meta name="theme-color" content="#46bd87">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileImage" content="/assets/icon/ms-icon-144.png">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    
    <link rel="preload" href="/assets/css/0.styles.66747f18.css" as="style"><link rel="preload" href="/assets/js/app.5d478f4d.js" as="script"><link rel="preload" href="/assets/js/vendors~layout-Layout.df1685e0.js" as="script"><link rel="preload" href="/assets/js/vendors~layout-Blog~layout-Layout~layout-NotFound.9dd70d26.js" as="script"><link rel="preload" href="/assets/js/page-设计模式之创建型设计模式.76e32733.js" as="script"><link rel="preload" href="/assets/js/vendors~layout-Blog~layout-Layout.2ab8e312.js" as="script"><link rel="prefetch" href="/assets/js/125.8131a161.js"><link rel="prefetch" href="/assets/js/126.79d1f1dd.js"><link rel="prefetch" href="/assets/js/127.ab777c20.js"><link rel="prefetch" href="/assets/js/128.288d6e2a.js"><link rel="prefetch" href="/assets/js/129.23d295cf.js"><link rel="prefetch" href="/assets/js/130.ad1e9759.js"><link rel="prefetch" href="/assets/js/131.4e46fb61.js"><link rel="prefetch" href="/assets/js/layout-Blog.15024dbf.js"><link rel="prefetch" href="/assets/js/layout-Layout.e7c6637c.js"><link rel="prefetch" href="/assets/js/layout-NotFound.1ff18383.js"><link rel="prefetch" href="/assets/js/layout-Slide.469c1fb5.js"><link rel="prefetch" href="/assets/js/page-About.2eba257c.js"><link rel="prefetch" href="/assets/js/page-BlogHome.947c3eaa.js"><link rel="prefetch" href="/assets/js/page-Componentdisabled.62818d0f.js"><link rel="prefetch" href="/assets/js/page-DockerInstallsoftware.3e3163ff.js"><link rel="prefetch" href="/assets/js/page-Dockerdeployment.178715e4.js"><link rel="prefetch" href="/assets/js/page-Docker学习笔记.10666261.js"><link rel="prefetch" href="/assets/js/page-Dubbo笔记.1bbe6c77.js"><link rel="prefetch" href="/assets/js/page-EasyExcel导入导出Excel.a6b373cc.js"><link rel="prefetch" href="/assets/js/page-ElasticSearch笔记.b11479f9.js"><link rel="prefetch" href="/assets/js/page-ElasticSearch面试.c07ec91b.js"><link rel="prefetch" href="/assets/js/page-Encryptionarticle.27a932f7.js"><link rel="prefetch" href="/assets/js/page-Git笔记.eda5390d.js"><link rel="prefetch" href="/assets/js/page-Golang-介绍和使用.ad44e7de.js"><link rel="prefetch" href="/assets/js/page-Golang-语法基础.a9358b44.js"><link rel="prefetch" href="/assets/js/page-GoogleCloudSpanner.da8cf95a.js"><link rel="prefetch" href="/assets/js/page-Guides.7cb8ee35.js"><link rel="prefetch" href="/assets/js/page-Hadoop伪分布式配置.9d528440.js"><link rel="prefetch" href="/assets/js/page-HttpServletrequest与HttpServletResponse.987522c9.js"><link rel="prefetch" href="/assets/js/page-IDEA初始化SpringBoot项目+逆向工程+配置.d468c0d3.js"><link rel="prefetch" href="/assets/js/page-JVM-类加载子系统.7b1d61c9.js"><link rel="prefetch" href="/assets/js/page-JVM-运行时数据区.511a5902.js"><link rel="prefetch" href="/assets/js/page-JVM.8a56fec7.js"><link rel="prefetch" href="/assets/js/page-JWT认证原理(更新中).dbcb6d9d.js"><link rel="prefetch" href="/assets/js/page-Java-IO.4619baa5.js"><link rel="prefetch" href="/assets/js/page-Java-String.1cc1ec73.js"><link rel="prefetch" href="/assets/js/page-Java-UML类图.840ae621.js"><link rel="prefetch" href="/assets/js/page-Java-基础知识笔记.e28e3633.js"><link rel="prefetch" href="/assets/js/page-Java-基础面试题.a231dadc.js"><link rel="prefetch" href="/assets/js/page-Java-多线程并发.62e442d9.js"><link rel="prefetch" href="/assets/js/page-Java-常用方法汇总.179f289c.js"><link rel="prefetch" href="/assets/js/page-Java-新特性.771be546.js"><link rel="prefetch" href="/assets/js/page-Java-注解和反射.6ef2d074.js"><link rel="prefetch" href="/assets/js/page-Java-设计模式.2546a518.js"><link rel="prefetch" href="/assets/js/page-Java-集合容器.f24ce96a.js"><link rel="prefetch" href="/assets/js/page-JavaScript面试题.4c2e59d4.js"><link rel="prefetch" href="/assets/js/page-JavaSwing-超市系统.7ecc417f.js"><link rel="prefetch" href="/assets/js/page-Javaweb大学活动管理系统.2c004c1b.js"><link rel="prefetch" href="/assets/js/page-Java多线程-1.c7330928.js"><link rel="prefetch" href="/assets/js/page-Java多线程-2.f60ee83f.js"><link rel="prefetch" href="/assets/js/page-Java多线程-JUC使用.33a829d8.js"><link rel="prefetch" href="/assets/js/page-Java多线程-关键字锁.c96985d5.js"><link rel="prefetch" href="/assets/js/page-Java学习目录.831c435c.js"><link rel="prefetch" href="/assets/js/page-Java面试整理.e431a384.js"><link rel="prefetch" href="/assets/js/page-Linux常用命令.f7475474.js"><link rel="prefetch" href="/assets/js/page-Linux技巧.5d92d846.js"><link rel="prefetch" href="/assets/js/page-MarkdownEnhance.74675d79.js"><link rel="prefetch" href="/assets/js/page-Markdown增强.97200da1.js"><link rel="prefetch" href="/assets/js/page-Maven笔记.e8bd2d5f.js"><link rel="prefetch" href="/assets/js/page-MyProject.d86ced6f.js"><link rel="prefetch" href="/assets/js/page-Mybatis-Plus基础笔记.e7e02299.js"><link rel="prefetch" href="/assets/js/page-Mybatis基础笔记.cbcf5179.js"><link rel="prefetch" href="/assets/js/page-Mybatis语法笔记.5abd9474.js"><link rel="prefetch" href="/assets/js/page-Mybatis逆向工程Example类使用.715fecd1.js"><link rel="prefetch" href="/assets/js/page-Mysql理论学习笔记.896cd9ba.js"><link rel="prefetch" href="/assets/js/page-Nginx-动静分离.ab899ff6.js"><link rel="prefetch" href="/assets/js/page-Nginx-反向代理.a992685d.js"><link rel="prefetch" href="/assets/js/page-Nginx-负载均衡.84beeda6.js"><link rel="prefetch" href="/assets/js/page-Nginx基础笔记和安装配置.ef8bdca2.js"><link rel="prefetch" href="/assets/js/page-Nginx学习目录.3eb23960.js"><link rel="prefetch" href="/assets/js/page-Promise异步调用.d04ebda2.js"><link rel="prefetch" href="/assets/js/page-RabbitMQ.50dfe249.js"><link rel="prefetch" href="/assets/js/page-RabbitMQ面试题.5a1346ce.js"><link rel="prefetch" href="/assets/js/page-Redis应用场景.3f1ff728.js"><link rel="prefetch" href="/assets/js/page-Redis理论学习笔记.7cea7686.js"><link rel="prefetch" href="/assets/js/page-Redis部署与基本使用.ebeabc90.js"><link rel="prefetch" href="/assets/js/page-Redis集群和哨兵.e1a63bd1.js"><link rel="prefetch" href="/assets/js/page-SQL学习笔记.fde2dea2.js"><link rel="prefetch" href="/assets/js/page-SSH.8a33bed2.js"><link rel="prefetch" href="/assets/js/page-Slidepage.6b5a227e.js"><link rel="prefetch" href="/assets/js/page-Spring-RestTemplate.5861ab3e.js"><link rel="prefetch" href="/assets/js/page-SpringBootVue项目搭建(持续更新).e47d408a.js"><link rel="prefetch" href="/assets/js/page-SpringSecurity.c6eae605.js"><link rel="prefetch" href="/assets/js/page-Spring基础笔记.ab4f8b4f.js"><link rel="prefetch" href="/assets/js/page-Spring注解.c29b96f0.js"><link rel="prefetch" href="/assets/js/page-Spring错误坑记录.f7f3a71f.js"><link rel="prefetch" href="/assets/js/page-Spring错误笔记.6f64e83b.js"><link rel="prefetch" href="/assets/js/page-Spring面试题.14e48b86.js"><link rel="prefetch" href="/assets/js/page-Swagger使用.b0ebbac0.js"><link rel="prefetch" href="/assets/js/page-pageconfig.36744f88.js"><link rel="prefetch" href="/assets/js/page-主要功能与配置演示.96cf373b.js"><link rel="prefetch" href="/assets/js/page-修改Host以访问Github.74163b42.js"><link rel="prefetch" href="/assets/js/page-前端学习目录.588bdcb3.js"><link rel="prefetch" href="/assets/js/page-字节测开面经.f3bc3e25.js"><link rel="prefetch" href="/assets/js/page-学习路线.a814f0d8.js"><link rel="prefetch" href="/assets/js/page-实验室出入管理小程序.8ffdf958.js"><link rel="prefetch" href="/assets/js/page-密码加密的文章.c5ec864b.js"><link rel="prefetch" href="/assets/js/page-幻灯片页.944ec447.js"><link rel="prefetch" href="/assets/js/page-操作系统.2cb64f1e.js"><link rel="prefetch" href="/assets/js/page-数据库学习目录.9f00f7dc.js"><link rel="prefetch" href="/assets/js/page-数据结构.53cfa286.js"><link rel="prefetch" href="/assets/js/page-数据结构算法学习目录.58edbfcf.js"><link rel="prefetch" href="/assets/js/page-数据结构算法题目合集.a3bed156.js"><link rel="prefetch" href="/assets/js/page-服务器上部署SpringBoot.b88860ec.js"><link rel="prefetch" href="/assets/js/page-概述参考.206b5851.js"><link rel="prefetch" href="/assets/js/page-算法.14fb75a4.js"><link rel="prefetch" href="/assets/js/page-组件禁用.0eb89b16.js"><link rel="prefetch" href="/assets/js/page-腾讯云学习笔记.1ec350be.js"><link rel="prefetch" href="/assets/js/page-自定义布局.27ab6602.js"><link rel="prefetch" href="/assets/js/page-计算机知识.0905d0c2.js"><link rel="prefetch" href="/assets/js/page-计算机网络.91b67f6f.js"><link rel="prefetch" href="/assets/js/page-认识SpringCloud.5f7b1059.js"><link rel="prefetch" href="/assets/js/page-设计模式七大原则.1ebf6c77.js"><link rel="prefetch" href="/assets/js/page-设计模式之J2EE设计模式.b018e36f.js"><link rel="prefetch" href="/assets/js/page-设计模式之结构型设计模式.ef490b42.js"><link rel="prefetch" href="/assets/js/page-设计模式之行为型设计模式.b9dbbcf8.js"><link rel="prefetch" href="/assets/js/page-面试大纲.d37d9455.js"><link rel="prefetch" href="/assets/js/page-音频批量识别平台.ae7e7376.js"><link rel="prefetch" href="/assets/js/page-页面配置.44fe4e14.js"><link rel="prefetch" href="/assets/js/page-项目主页.ac0efa4e.js"><link rel="prefetch" href="/assets/js/vendors~chart.1269e3a3.js"><link rel="prefetch" href="/assets/js/vendors~flowchart.68e9675e.js"><link rel="prefetch" href="/assets/js/vendors~mermaid.e827c069.js"><link rel="prefetch" href="/assets/js/vendors~photo-swipe.77c79458.js"><link rel="prefetch" href="/assets/js/vendors~reveal.de804941.js"><link rel="prefetch" href="/assets/js/vendors~waline.43334e0c.js">
    <link rel="stylesheet" href="/assets/css/0.styles.66747f18.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container has-navbar has-sidebar has-anchor"><header class="navbar"><!----> <div class="content__navbar-start"></div> <button title="Sidebar Button" class="sidebar-button"><span class="icon"></span></button> <a href="/" class="home-link router-link-active"><img src="https://blog-1300186248.cos.ap-shanghai.myqcloud.com/avatar.png" alt="Draco's Blog" class="logo"> <!----> <span class="site-name can-hide">Draco's Blog</span></a> <!----> <div class="content__navbar-center"></div> <div class="links"><button tabindex="-1" aria-hidden="true" class="color-button"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="skin-icon"><path d="M224 800c0 9.6 3.2 44.8 6.4 54.4 6.4 48-48 76.8-48 76.8s80 41.6 147.2 0 134.4-134.4
        38.4-195.2c-22.4-12.8-41.6-19.2-57.6-19.2C259.2 716.8 227.2 761.6 224 800zM560 675.2l-32
        51.2c-51.2 51.2-83.2 32-83.2 32 25.6 67.2 0 112-12.8 128 25.6 6.4 51.2 9.6 80 9.6 54.4 0
        102.4-9.6 150.4-32l0 0c3.2 0 3.2-3.2 3.2-3.2 22.4-16 12.8-35.2
        6.4-44.8-9.6-12.8-12.8-25.6-12.8-41.6 0-54.4 60.8-99.2 137.6-99.2 6.4 0 12.8 0 22.4
        0 12.8 0 38.4 9.6 48-25.6 0-3.2 0-3.2 3.2-6.4 0-3.2 3.2-6.4 3.2-6.4 6.4-16 6.4-16 6.4-19.2
        9.6-35.2 16-73.6 16-115.2 0-105.6-41.6-198.4-108.8-268.8C704 396.8 560 675.2 560 675.2zM224
        419.2c0-28.8 22.4-51.2 51.2-51.2 28.8 0 51.2 22.4 51.2 51.2 0 28.8-22.4 51.2-51.2 51.2C246.4
        470.4 224 448 224 419.2zM320 284.8c0-22.4 19.2-41.6 41.6-41.6 22.4 0 41.6 19.2 41.6 41.6 0
        22.4-19.2 41.6-41.6 41.6C339.2 326.4 320 307.2 320 284.8zM457.6 208c0-12.8 12.8-25.6 25.6-25.6
        12.8 0 25.6 12.8 25.6 25.6 0 12.8-12.8 25.6-25.6 25.6C470.4 233.6 457.6 220.8 457.6 208zM128
        505.6C128 592 153.6 672 201.6 736c28.8-60.8 112-60.8 124.8-60.8-16-51.2 16-99.2
        16-99.2l316.8-422.4c-48-19.2-99.2-32-150.4-32C297.6 118.4 128 291.2 128 505.6zM764.8
        86.4c-22.4 19.2-390.4 518.4-390.4 518.4-22.4 28.8-12.8 76.8 22.4 99.2l9.6 6.4c35.2 22.4
        80 12.8 99.2-25.6 0 0 6.4-12.8 9.6-19.2 54.4-105.6 275.2-524.8 288-553.6
        6.4-19.2-3.2-32-19.2-32C777.6 76.8 771.2 80 764.8 86.4z"></path></svg> <div class="color-picker-menu" style="display:none;"><div class="theme-options"><ul class="themecolor-select"><label for="themecolor-select">Theme Color:</label> <li><span class="default-theme"></span></li> </ul> <div class="darkmode-toggle"><label for="darkmode-toggle" class="desc">Theme Mode:</label> <div class="darkmode-switch"><div class="item day"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon light-icon"><path d="M512 256a42.667 42.667 0 0 0 42.667-42.667V128a42.667 42.667 0 0 0-85.334 0v85.333A42.667 42.667 0 0 0 512 256zm384 213.333h-85.333a42.667 42.667 0 0 0 0 85.334H896a42.667 42.667 0 0 0 0-85.334zM256 512a42.667 42.667 0 0 0-42.667-42.667H128a42.667 42.667 0 0 0 0 85.334h85.333A42.667 42.667 0 0 0 256 512zm9.387-298.667a42.667 42.667 0 0 0-59.307 62.72l61.44 59.307a42.667 42.667 0 0 0 31.147 11.947 42.667 42.667 0 0 0 30.72-13.227 42.667 42.667 0 0 0 0-60.16zm459.946 133.974a42.667 42.667 0 0 0 29.44-11.947l61.44-59.307a42.667 42.667 0 0 0-57.6-62.72l-61.44 60.587a42.667 42.667 0 0 0 0 60.16 42.667 42.667 0 0 0 28.16 13.227zM512 768a42.667 42.667 0 0 0-42.667 42.667V896a42.667 42.667 0 0 0 85.334 0v-85.333A42.667 42.667 0 0 0 512 768zm244.48-79.36a42.667 42.667 0 0 0-59.307 61.44l61.44 60.587a42.667 42.667 0 0 0 29.44 11.946 42.667 42.667 0 0 0 30.72-12.8 42.667 42.667 0 0 0 0-60.586zm-488.96 0-61.44 59.307a42.667 42.667 0 0 0 0 60.586 42.667 42.667 0 0 0 30.72 12.8 42.667 42.667 0 0 0 28.587-10.666l61.44-59.307a42.667 42.667 0 0 0-59.307-61.44zM512 341.333A170.667 170.667 0 1 0 682.667 512 170.667 170.667 0 0 0 512 341.333z" fill="currentColor"></path></svg></div> <div class="item auto active"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon auto-icon"><path d="M460.864 539.072H564.8L510.592 376l-49.728 163.072zM872 362.368V149.504H659.648L510.528 0l-149.12 149.504H149.12v212.928L0 511.872l149.12 149.504v212.928h212.352l149.12 149.504 149.12-149.504h212.352V661.376l149.12-149.504L872 362.368zM614.464 693.12l-31.616-90.624H438.272l-31.616 90.624h-85.888l144.576-407.68h90.368l144.576 407.68h-85.824zm0 0" fill="currentColor"></path></svg></div> <div class="item night"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon dark-icon"><path d="M935.539 630.402c-11.43-11.432-28.674-14.739-43.531-8.354-46.734 20.103-96.363 30.297-147.508 30.297-99.59 0-193.221-38.784-263.64-109.203-108.637-108.637-139.61-270.022-78.908-411.148a39.497 39.497 0 0 0-51.886-51.887c-52.637 22.64-100.017 54.81-140.826 95.616-85.346 85.346-132.346 198.821-132.346 319.52 0 120.7 47.001 234.172 132.347 319.519S408.063 947.11 528.76 947.11c120.7 0 234.172-47.003 319.52-132.351 40.809-40.81 72.978-88.19 95.616-140.826a39.497 39.497 0 0 0-8.356-43.532z" fill="currentColor"></path></svg></div></div> <!----></div></div></div></button> <div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/category/" class="nav-link"><i class="iconfont icon-note"></i>
  Category
</a></div><div class="nav-item"><a href="/project/" class="nav-link"><i class="iconfont icon-note"></i>
  My Project
</a></div><div class="nav-item"><a href="/guide/" class="nav-link"><i class="iconfont icon-creative"></i>
  Guide
</a></div><div class="nav-item"><a href="/about/" class="nav-link"><i class="iconfont icon-info"></i>
  About
</a></div></nav> <div class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Select language" class="dropdown-title"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon i18n-icon" style="width:1rem;height:1rem;vertical-align:middle;margin-left:1rem;"><path d="M639.981 344.075c14.805 44.45 34.542 79.023 69.084 113.596 29.603-29.634 49.34-69.146 64.145-113.596H639.981zM314.33 591.024h128.29l-64.145-172.865-64.145 172.865z" fill="currentColor"></path> <path d="M807.746 116.882H215.643c-54.274 0-98.681 44.45-98.681 98.78v592.677c0 54.329 44.407 98.78 98.68 98.78h592.104c54.273 0 98.681-44.451 98.681-98.78V215.66c0-54.329-39.475-98.78-98.68-98.78zM565.971 754.01c-9.866 9.878-19.738 9.878-29.603 9.878-4.94 0-14.805 0-19.738-4.939-4.939-4.939-9.872 0-9.872-4.939s-4.932-9.878-9.865-19.756c-4.94-9.878-4.94-14.817-9.872-24.695L467.29 655.23H294.592l-19.737 54.33c-9.866 19.755-14.805 34.572-19.738 44.45-4.939 9.878-14.804 9.878-29.603 9.878-9.871 0-19.737-4.939-29.609-9.878-9.865-9.878-14.798-14.817-14.798-24.695 0-4.939 0-9.878 4.933-19.756 4.939-9.878 4.939-14.817 9.865-24.695l108.553-276.583c4.939-9.878 4.939-19.756 9.872-29.633 4.932-9.878 9.865-19.756 14.798-24.695 4.939-4.94 9.872-14.817 19.737-19.756 9.872-4.94 19.738-4.94 29.61-4.94 9.865 0 19.73 0 29.603 4.94 9.865 4.939 14.804 9.878 19.737 19.756 4.933 4.939 9.866 14.817 14.798 24.695 4.94 9.877 9.872 19.755 14.805 34.572l108.553 271.644c9.865 19.756 14.804 34.573 14.804 44.451-4.939 4.94-9.872 14.817-14.804 24.695zm271.378-192.62c-54.273-19.756-93.748-44.451-128.29-74.085-34.536 34.573-78.943 59.268-133.223 74.085l-14.798-24.695c54.273-14.817 98.68-34.573 133.223-69.146-34.542-34.573-64.145-79.024-74.017-128.413h-49.34V319.38h133.228c-9.877-14.817-19.743-34.573-29.609-49.39l14.799-4.94c9.871 14.818 24.676 34.574 34.542 54.33h123.35v24.695h-49.34c-14.798 49.39-39.468 93.84-69.077 123.474 34.541 29.634 74.01 54.329 128.29 69.146l-19.738 24.695z" fill="currentColor"></path></svg> <span class="arrow"></span></button> <ul class="nav-dropdown"><li class="dropdown-item"><a href="/java/java-DesignPatterns/Java-DesignPatterns-CreationalPatterns/" aria-current="page" class="nav-link router-link-exact-active router-link-active active"><!---->
  English
</a></li><li class="dropdown-item"><a href="/zh/" class="nav-link"><!---->
  简体中文
</a></li></ul></div></div></div> <a rel="noopener noreferrer" href="https://github.com/LifeAlsoIsGG" target="_blank" class="repo-link can-hide">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <!----> <div class="content__navbar-end"></div></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><div vocab="https://schema.org/" typeof="Person" class="blogger-info mobile"><div data-balloon-pos="down" role="navigation" class="blogger hasIntro"><img property="image" alt="Blogger Avatar" src="https://blog-1300186248.cos.ap-shanghai.myqcloud.com/avatar.png" class="avatar round"> <div property="name" class="name">Draco</div> <meta property="url" content="/about/"></div> <div class="num-wrapper"><div><div class="num">110</div> <div>Articles</div></div> <div><div class="num">34</div> <div>Category</div></div> <div><div class="num">58</div> <div>Tags</div></div> <div><div class="num">110</div> <div>Timeline</div></div></div> <div class="media-links-wrapper"><a href="https://github.com/LifeAlsoIsGG" rel="noopener noreferrer" target="_blank" aria-label="Github" data-balloon-pos="up" class="media-link"><span class="sr-only">Github</span> <svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon icon-github"><circle cx="512" cy="512" r="512" fill="#171515"></circle> <path d="M509.423 146.442c-200.317 0-362.756 162.42-362.756 362.8 0 160.266 103.936 296.24 248.109 344.217 18.139 3.327 24.76-7.872 24.76-17.486 0-8.613-.313-31.427-.49-61.702-100.912 21.923-122.205-48.63-122.205-48.63-16.495-41.91-40.28-53.067-40.28-53.067-32.937-22.51 2.492-22.053 2.492-22.053 36.407 2.566 55.568 37.386 55.568 37.386 32.362 55.438 84.907 39.43 105.58 30.143 3.296-23.444 12.667-39.43 23.032-48.498-80.557-9.156-165.246-40.28-165.246-179.297 0-39.604 14.135-71.988 37.342-97.348-3.731-9.178-16.18-46.063 3.556-96.009 0 0 30.46-9.754 99.76 37.19 28.937-8.048 59.97-12.071 90.823-12.211 30.807.14 61.843 4.165 90.822 12.21 69.26-46.944 99.663-37.189 99.663-37.189 19.792 49.946 7.34 86.831 3.61 96.01 23.25 25.359 37.29 57.742 37.29 97.347 0 139.366-84.82 170.033-165.637 179.013 13.026 11.2 24.628 33.342 24.628 67.182 0 48.498-.445 87.627-.445 99.521 0 9.702 6.535 20.988 24.945 17.444 144.03-48.067 247.881-183.95 247.881-344.175 0-200.378-162.442-362.798-362.802-362.798z" fill="#FFF"></path></svg></a><a href="https://twitter.com/LifeAlsoIsGG" rel="noopener noreferrer" target="_blank" aria-label="Twitter" data-balloon-pos="up" class="media-link"><span class="sr-only">Twitter</span> <svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon icon-twitter"><circle cx="512" cy="512" r="512" fill="#5EAADE"></circle> <path d="M749.737 364.631c-17.594 7.805-36.513 13.088-56.371 15.459 20.269-12.148 35.836-31.387 43.156-54.312A196.233 196.233 0 0 1 674.2 349.6c-17.894-19.083-43.406-30.997-71.636-30.997-54.2 0-98.137 43.944-98.137 98.157 0 7.695.861 15.19 2.544 22.373-81.57-4.092-153.876-43.174-202.284-102.558-8.443 14.498-13.285 31.356-13.285 49.348 0 34.05 17.326 64.096 43.656 81.697a97.69 97.69 0 0 1-44.447-12.277c-.01.41-.01.82-.01 1.24 0 47.558 33.822 87.23 78.72 96.249a98.285 98.285 0 0 1-25.852 3.448 97.491 97.491 0 0 1-18.465-1.768c12.483 39.002 48.725 67.38 91.672 68.17-33.582 26.334-75.897 42.024-121.884 42.024-7.924 0-15.736-.46-23.408-1.37 43.434 27.844 95.014 44.104 150.443 44.104 180.505 0 279.221-149.576 279.221-279.294 0-4.263-.09-8.494-.278-12.708 19.178-13.835 35.813-31.115 48.967-50.807z" fill="#FFF"></path></svg></a><a href="http://localhost:8083/blog-vuepress/tencent:/AddContact/?fromId=50&amp;fromSubId=1&amp;subcmd=all&amp;uin=1138312802.html" rel="noopener noreferrer" target="_blank" aria-label="QQ" data-balloon-pos="up" class="media-link"><span class="sr-only">QQ</span> <svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon icon-qq"><circle cx="512" cy="512" r="512" fill="#5EAADE"></circle> <path d="M729.46 627.3c-3.157-39.628-24.045-83.747-32.624-105.91l-22.084-57.047c-.702-23.73 6.312-78.322-30.511-146.61s-110.82-74.446-124.497-75.147c-13.677-.701-99.248-1.403-141.331 72.945-42.084 74.347-30.745 148.812-30.745 148.812l-23.523 57.478c-.001.002-10.962 26.223-20.43 58.135-9.469 31.914-18.938 82.064-9.469 92.234 9.47 10.17 43.837-46.643 46.993-51.903 0 0 2.456 27.18 8.943 41.383l.81 1.776.33.723.38.826.3.652.444.96.203.436a281.465 281.465 0 0 0 1.917 4.025l.189.386c.231.473.468.953.711 1.442l.146.292c6.886 13.807 18.61 33.823 37.443 50.42l.018.016-1.184.387c-10.667 3.516-31.694 11.21-40.625 19.82-1.717 1.655-2.987 3.344-3.65 5.045-5.376 13.794 4.208 15.43 20.575 16.366 16.366.934 94.923 3.04 132.564-2.221.407-.056.787-.114 1.17-.171 2.711.094 5.324.142 7.83.16l.151.002c.836.005 1.663.008 2.475.008.496 0 1.015-.002 1.542-.006l.21-.001a222.593 222.593 0 0 0 5.462-.107c.26.038.508.076.778.114 37.642 5.26 116.198 3.156 132.564 2.22 16.366-.934 25.951-2.571 20.574-16.365-4.302-11.037-34.175-21.62-45.956-25.413a141.388 141.388 0 0 0 7.958-7.645l.237-.245a142.494 142.494 0 0 0 2.53-2.702c42.435-46.643 38.928-76.101 40.682-92.935 0 0 35.775 51.553 43.488 53.306 7.713 1.754 10.169-6.31 7.012-45.94z" fill="#FFF"></path></svg></a></div></div> <hr> <!----> <div class="content__sidebar-top"></div> <nav class="sidebar-nav-links"><div class="nav-item"><a href="/category/" class="nav-link"><i class="iconfont icon-note"></i>
  Category
</a></div><div class="nav-item"><a href="/project/" class="nav-link"><i class="iconfont icon-note"></i>
  My Project
</a></div><div class="nav-item"><a href="/guide/" class="nav-link"><i class="iconfont icon-creative"></i>
  Guide
</a></div><div class="nav-item"><a href="/about/" class="nav-link"><i class="iconfont icon-info"></i>
  About
</a></div> <a rel="noopener noreferrer" href="https://github.com/LifeAlsoIsGG" target="_blank" class="repo-link">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav> <!----> <div class="content__sidebar-center"></div> <ul class="sidebar-links"><li><a href="/study-line/" class="sidebar-link"><i class="iconfont icon-info"></i>学习路线</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading clickable"><!----> <span class="title">My Project</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading clickable"><!----> <span class="title">Interview</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading clickable open"><i class="iconfont icon-code"></i> <span class="title">java</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/java/" aria-current="page" class="sidebar-link">Java学习目录</a></li><li><a href="/java/Java-BasicNotes/" class="sidebar-link">Java-基础知识笔记</a></li><li><a href="/java/Java-Interview/" class="sidebar-link">Java-基础面试题</a></li><li><a href="/java/Java-Methods/" class="sidebar-link">Java-常用方法汇总</a></li><li><a href="/java/Java-Collections/" class="sidebar-link">Java-集合容器</a></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading clickable"><!----> <span class="title">Java-Thread</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading clickable"><!----> <span class="title">Java-JVM</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading clickable open"><!----> <span class="title">Java-DesignPattern</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/java/java-DesignPatterns/" aria-current="page" class="sidebar-link">Java-设计模式</a></li><li><a href="/java/java-DesignPatterns/Java-DesignPatterns-SevenPrinciple/" class="sidebar-link">设计模式七大原则</a></li><li><a href="/java/java-DesignPatterns/Java-DesignPatterns-CreationalPatterns/" aria-current="page" class="active sidebar-link">设计模式之创建型设计模式</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/java/java-DesignPatterns/Java-DesignPatterns-CreationalPatterns/#参考" class="sidebar-link">参考</a></li><li class="sidebar-sub-header"><a href="/java/java-DesignPatterns/Java-DesignPatterns-CreationalPatterns/#_1-单例模式-创建型模式" class="sidebar-link">1. 单例模式（创建型模式）</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/java/java-DesignPatterns/Java-DesignPatterns-CreationalPatterns/#实现点" class="sidebar-link heading3">实现点</a></li><li class="sidebar-sub-header"><a href="/java/java-DesignPatterns/Java-DesignPatterns-CreationalPatterns/#_1-1-步骤" class="sidebar-link heading3">1.1 步骤</a></li><li class="sidebar-sub-header"><a href="/java/java-DesignPatterns/Java-DesignPatterns-CreationalPatterns/#_1-2-懒汉式-线程不安全" class="sidebar-link heading3">1.2 懒汉式，线程不安全</a></li><li class="sidebar-sub-header"><a href="/java/java-DesignPatterns/Java-DesignPatterns-CreationalPatterns/#_1-3-懒汉式-线程安全" class="sidebar-link heading3">1.3 懒汉式，线程安全</a></li><li class="sidebar-sub-header"><a href="/java/java-DesignPatterns/Java-DesignPatterns-CreationalPatterns/#_1-4-饿汉式" class="sidebar-link heading3">1.4 饿汉式</a></li><li class="sidebar-sub-header"><a href="/java/java-DesignPatterns/Java-DesignPatterns-CreationalPatterns/#_1-5-双重校验锁懒汉式-dcl-即-double-checked-locking" class="sidebar-link heading3">1.5 双重校验锁懒汉式（DCL，即 double-checked locking）</a></li><li class="sidebar-sub-header"><a href="/java/java-DesignPatterns/Java-DesignPatterns-CreationalPatterns/#_1-6-静态内部类" class="sidebar-link heading3">1.6 静态内部类</a></li><li class="sidebar-sub-header"><a href="/java/java-DesignPatterns/Java-DesignPatterns-CreationalPatterns/#_1-7-枚举式-拒绝反射构造" class="sidebar-link heading3">1.7 枚举式（拒绝反射构造）</a></li></ul></li><li class="sidebar-sub-header"><a href="/java/java-DesignPatterns/Java-DesignPatterns-CreationalPatterns/#_2-工厂模式-创建型模式" class="sidebar-link">2. 工厂模式（创建型模式）</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/java/java-DesignPatterns/Java-DesignPatterns-CreationalPatterns/#简单工厂-静态工厂" class="sidebar-link heading3">简单工厂（静态工厂）</a></li><li class="sidebar-sub-header"><a href="/java/java-DesignPatterns/Java-DesignPatterns-CreationalPatterns/#延迟初始化" class="sidebar-link heading3">延迟初始化</a></li></ul></li><li class="sidebar-sub-header"><a href="/java/java-DesignPatterns/Java-DesignPatterns-CreationalPatterns/#抽象工厂模式" class="sidebar-link">抽象工厂模式</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/java/java-DesignPatterns/Java-DesignPatterns-CreationalPatterns/#缺点" class="sidebar-link heading3">缺点</a></li><li class="sidebar-sub-header"><a href="/java/java-DesignPatterns/Java-DesignPatterns-CreationalPatterns/#使用场景" class="sidebar-link heading3">使用场景</a></li><li class="sidebar-sub-header"><a href="/java/java-DesignPatterns/Java-DesignPatterns-CreationalPatterns/#最佳实践" class="sidebar-link heading3">最佳实践</a></li></ul></li><li class="sidebar-sub-header"><a href="/java/java-DesignPatterns/Java-DesignPatterns-CreationalPatterns/#_3-建造者模式-创建型模式" class="sidebar-link">3. 建造者模式（创建型模式）</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/java/java-DesignPatterns/Java-DesignPatterns-CreationalPatterns/#_3-1-介绍" class="sidebar-link heading3">3.1 介绍</a></li><li class="sidebar-sub-header"><a href="/java/java-DesignPatterns/Java-DesignPatterns-CreationalPatterns/#_3-2-原理" class="sidebar-link heading3">3.2 原理</a></li><li class="sidebar-sub-header"><a href="/java/java-DesignPatterns/Java-DesignPatterns-CreationalPatterns/#_3-3-案例" class="sidebar-link heading3">3.3 案例</a></li><li class="sidebar-sub-header"><a href="/java/java-DesignPatterns/Java-DesignPatterns-CreationalPatterns/#使用场景-2" class="sidebar-link heading3">使用场景</a></li><li class="sidebar-sub-header"><a href="/java/java-DesignPatterns/Java-DesignPatterns-CreationalPatterns/#_3-4-使用静态内部类build" class="sidebar-link heading3">3.4 使用静态内部类Build</a></li><li class="sidebar-sub-header"><a href="/java/java-DesignPatterns/Java-DesignPatterns-CreationalPatterns/#_3-5-建造者模式与抽象工厂模式的比较" class="sidebar-link heading3">3.5 建造者模式与抽象工厂模式的比较</a></li></ul></li><li class="sidebar-sub-header"><a href="/java/java-DesignPatterns/Java-DesignPatterns-CreationalPatterns/#_4-原型模式-创建型模式" class="sidebar-link">4. 原型模式（创建型模式）</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/java/java-DesignPatterns/Java-DesignPatterns-CreationalPatterns/#_4-1-介绍" class="sidebar-link heading3">4.1 介绍</a></li><li class="sidebar-sub-header"><a href="/java/java-DesignPatterns/Java-DesignPatterns-CreationalPatterns/#_4-2-优缺点" class="sidebar-link heading3">4.2 优缺点</a></li><li class="sidebar-sub-header"><a href="/java/java-DesignPatterns/Java-DesignPatterns-CreationalPatterns/#_4-3-使用场景" class="sidebar-link heading3">4.3 使用场景</a></li><li class="sidebar-sub-header"><a href="/java/java-DesignPatterns/Java-DesignPatterns-CreationalPatterns/#浅拷贝和深拷贝" class="sidebar-link heading3">浅拷贝和深拷贝</a></li></ul></li></ul></li><li><a href="/java/java-DesignPatterns/Java-DesignPatterns-BehavioralPatterns/" class="sidebar-link">设计模式之行为型设计模式</a></li><li><a href="/java/java-DesignPatterns/Java-DesignPatterns-StructuralPatterns/" class="sidebar-link">设计模式之结构型设计模式</a></li><li><a href="/java/java-DesignPatterns/Java-DesignPatterns-J2eePattern/" class="sidebar-link">设计模式之J2EE设计模式</a></li></ul></section></li><li><a href="/java/Java-String/" class="sidebar-link">Java-String</a></li><li><a href="/java/Java-annotation&amp;reflection/" class="sidebar-link">Java-注解和反射</a></li><li><a href="/java/Java-IO/" class="sidebar-link">Java-IO</a></li><li><!----></li><li><a href="/java/Java-UML-ClassDiagram/" class="sidebar-link">Java-UML类图</a></li><li><a href="/java/Java-NewFeature/" class="sidebar-link">Java-新特性</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading clickable"><!----> <span class="title">Golang</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading clickable"><!----> <span class="title">Database</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading clickable"><!----> <span class="title">Spring</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading clickable"><!----> <span class="title">Mybatis</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading clickable"><!----> <span class="title">DataStructure</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading clickable"><!----> <span class="title">Linux</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading clickable"><!----> <span class="title">ElasticSearch</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading clickable"><!----> <span class="title">Docker</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading clickable"><!----> <span class="title">Nginx</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading clickable"><!----> <span class="title">MessageQueue</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading clickable"><!----> <span class="title">Development</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading clickable"><!----> <span class="title">Computer Knowledge</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading clickable"><!----> <span class="title">ErrorNote</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading clickable"><!----> <span class="title">Git</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading clickable"><!----> <span class="title">Frontend</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading clickable"><!----> <span class="title">Guide</span> <span class="arrow right"></span></p> <!----></section></li><li><a href="/about/" class="sidebar-link"><i class="iconfont icon-info"></i>About</a></li></ul> <!----> <div class="content__sidebar-bottom"></div> <!----></aside> <main class="page"><nav class="breadcrumb"><ol vocab="https://schema.org/" typeof="BreadcrumbList"><li property="itemListElement" typeof="ListItem"><a href="/java/" property="item" typeof="WebPage" class="router-link-active"><!----> <span property="name">Java学习目录</span></a> <meta property="position" content="1"></li><li property="itemListElement" typeof="ListItem"><a href="/java/java-DesignPatterns/" property="item" typeof="WebPage" class="router-link-active"><!----> <span property="name">Java-设计模式</span></a> <meta property="position" content="2"></li><li property="itemListElement" typeof="ListItem" class="is-active"><a href="/java/java-DesignPatterns/Java-DesignPatterns-CreationalPatterns/" aria-current="page" property="item" typeof="WebPage" class="router-link-exact-active router-link-active"><!----> <span property="name">设计模式之创建型设计模式</span></a> <meta property="position" content="3"></li></ol></nav> <!----> <div class="content__page-top"></div> <div vocab="https://schema.org/" typeof="Article" class="page-title"><h1><!----> <span property="headline">设计模式之创建型设计模式</span></h1> <div class="page-info"><!----> <span aria-label="Author🖊" data-balloon-pos="down" categoryPath="/category/$category/" tagPath="/tag/$tag/"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon author-icon"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z" fill="currentColor"></path></svg> <span property="author">Draco</span></span><span aria-label="Page views🔢" data-balloon-pos="down" defaultAuthor="Draco" categoryPath="/category/$category/" tagPath="/tag/$tag/" class="visitor-info"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon eye-icon"><path d="M992 512.096c0-5.76-.992-10.592-1.28-11.136-.192-2.88-1.152-8.064-2.08-10.816-.256-.672-.544-1.376-.832-2.08-.48-1.568-1.024-3.104-1.6-4.32C897.664 290.112 707.104 160 512 160c-195.072 0-385.632 130.016-473.76 322.592-1.056 2.112-1.792 4.096-2.272 5.856a55.512 55.512 0 0 0-.64 1.6c-1.76 5.088-1.792 8.64-1.632 7.744-.832 3.744-1.568 11.168-1.568 11.168-.224 2.272-.224 4.032.032 6.304 0 0 .736 6.464 1.088 7.808.128 1.824.576 4.512 1.12 6.976h-.032c.448 2.08 1.12 4.096 1.984 6.08.48 1.536.992 2.976 1.472 4.032C126.432 733.856 316.992 864 512 864c195.136 0 385.696-130.048 473.216-321.696 1.376-2.496 2.24-4.832 2.848-6.912.256-.608.48-1.184.672-1.728 1.536-4.48 1.856-8.32 1.728-8.32l-.032.032c.608-3.104 1.568-7.744 1.568-13.28zM512 672c-88.224 0-160-71.776-160-160s71.776-160 160-160 160 71.776 160 160-71.776 160-160 160z" fill="currentColor"></path></svg> <span id="/java/java-DesignPatterns/Java-DesignPatterns-CreationalPatterns/" data-flag-title="设计模式之创建型设计模式" class="leancloud_visitors waline-visitor-count"><span class="leancloud-visitors-count">...</span></span></span><span aria-label="Writing Date📅" data-balloon-pos="down" defaultAuthor="Draco" categoryPath="/category/$category/" tagPath="/tag/$tag/" class="time-info"><svg viewBox="0 0 1030 1024" xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 0 1-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 0 1-33.473-33.473V143.657H180.6A134.314 134.314 0 0 0 46.66 277.595v535.756A134.314 134.314 0 0 0 180.6 947.289h669.74a134.36 134.36 0 0 0 133.94-133.938V277.595a134.314 134.314 0 0 0-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 0 1-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 0 1-33.472 33.473z" fill="currentColor"></path></svg> <span property="datePublished">2020-08-09 23:20:52</span></span><!----><span aria-label="Tags🏷" data-balloon-pos="down" defaultAuthor="Draco" categoryPath="/category/$category/"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon tag-icon"><path d="M939.902 458.563 910.17 144.567c-1.507-16.272-14.465-29.13-30.737-30.737L565.438 84.098h-.402c-3.215 0-5.726 1.005-7.634 2.913l-470.39 470.39a10.004 10.004 0 0 0 0 14.164l365.423 365.424c1.909 1.908 4.42 2.913 7.132 2.913s5.223-1.005 7.132-2.913l470.39-470.39c2.01-2.11 3.014-5.023 2.813-8.036zm-240.067-72.121c-35.458 0-64.286-28.828-64.286-64.286s28.828-64.285 64.286-64.285 64.286 28.828 64.286 64.285-28.829 64.286-64.286 64.286z" fill="currentColor"></path></svg> <ul class="tags-wrapper"><li class="tag clickable tag0"><span role="navigation">Java</span></li><li class="tag clickable tag1"><span role="navigation">Java设计模式</span></li></ul> <meta property="keywords" content="Java,Java设计模式"></span><span aria-label="Reading Time⌛" data-balloon-pos="down" defaultAuthor="Draco" categoryPath="/category/$category/" tagPath="/tag/$tag/" class="reading-time-info"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon timer-icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z" fill="currentColor"></path></svg> <span>About 26 min</span> <meta property="timeRequired" content="PT26M"></span></div> <!----> <hr></div> <div class="anchor-place-holder"><aside id="anchor"><div class="anchor-wrapper"><ul class="anchor-list"><li class="anchor"><a href="/java/java-DesignPatterns/Java-DesignPatterns-CreationalPatterns/#参考" class="anchor-link heading2"><div>参考</div></a></li><li class="anchor"><a href="/java/java-DesignPatterns/Java-DesignPatterns-CreationalPatterns/#_1-单例模式-创建型模式" class="anchor-link heading2"><div>1. 单例模式（创建型模式）</div></a></li><li class="anchor"><a href="/java/java-DesignPatterns/Java-DesignPatterns-CreationalPatterns/#实现点" class="anchor-link heading3"><div>实现点</div></a></li><li class="anchor"><a href="/java/java-DesignPatterns/Java-DesignPatterns-CreationalPatterns/#_1-1-步骤" class="anchor-link heading3"><div>1.1 步骤</div></a></li><li class="anchor"><a href="/java/java-DesignPatterns/Java-DesignPatterns-CreationalPatterns/#_1-2-懒汉式-线程不安全" class="anchor-link heading3"><div>1.2 懒汉式，线程不安全</div></a></li><li class="anchor"><a href="/java/java-DesignPatterns/Java-DesignPatterns-CreationalPatterns/#_1-3-懒汉式-线程安全" class="anchor-link heading3"><div>1.3 懒汉式，线程安全</div></a></li><li class="anchor"><a href="/java/java-DesignPatterns/Java-DesignPatterns-CreationalPatterns/#_1-4-饿汉式" class="anchor-link heading3"><div>1.4 饿汉式</div></a></li><li class="anchor"><a href="/java/java-DesignPatterns/Java-DesignPatterns-CreationalPatterns/#_1-5-双重校验锁懒汉式-dcl-即-double-checked-locking" class="anchor-link heading3"><div>1.5 双重校验锁懒汉式（DCL，即 double-checked locking）</div></a></li><li class="anchor"><a href="/java/java-DesignPatterns/Java-DesignPatterns-CreationalPatterns/#_1-6-静态内部类" class="anchor-link heading3"><div>1.6 静态内部类</div></a></li><li class="anchor"><a href="/java/java-DesignPatterns/Java-DesignPatterns-CreationalPatterns/#_1-7-枚举式-拒绝反射构造" class="anchor-link heading3"><div>1.7 枚举式（拒绝反射构造）</div></a></li><li class="anchor"><a href="/java/java-DesignPatterns/Java-DesignPatterns-CreationalPatterns/#_2-工厂模式-创建型模式" class="anchor-link heading2"><div>2. 工厂模式（创建型模式）</div></a></li><li class="anchor"><a href="/java/java-DesignPatterns/Java-DesignPatterns-CreationalPatterns/#简单工厂-静态工厂" class="anchor-link heading3"><div>简单工厂（静态工厂）</div></a></li><li class="anchor"><a href="/java/java-DesignPatterns/Java-DesignPatterns-CreationalPatterns/#延迟初始化" class="anchor-link heading3"><div>延迟初始化</div></a></li><li class="anchor"><a href="/java/java-DesignPatterns/Java-DesignPatterns-CreationalPatterns/#抽象工厂模式" class="anchor-link heading2"><div>抽象工厂模式</div></a></li><li class="anchor"><a href="/java/java-DesignPatterns/Java-DesignPatterns-CreationalPatterns/#缺点" class="anchor-link heading3"><div>缺点</div></a></li><li class="anchor"><a href="/java/java-DesignPatterns/Java-DesignPatterns-CreationalPatterns/#使用场景" class="anchor-link heading3"><div>使用场景</div></a></li><li class="anchor"><a href="/java/java-DesignPatterns/Java-DesignPatterns-CreationalPatterns/#最佳实践" class="anchor-link heading3"><div>最佳实践</div></a></li><li class="anchor"><a href="/java/java-DesignPatterns/Java-DesignPatterns-CreationalPatterns/#_3-建造者模式-创建型模式" class="anchor-link heading2"><div>3. 建造者模式（创建型模式）</div></a></li><li class="anchor"><a href="/java/java-DesignPatterns/Java-DesignPatterns-CreationalPatterns/#_3-1-介绍" class="anchor-link heading3"><div>3.1 介绍</div></a></li><li class="anchor"><a href="/java/java-DesignPatterns/Java-DesignPatterns-CreationalPatterns/#_3-2-原理" class="anchor-link heading3"><div>3.2 原理</div></a></li><li class="anchor"><a href="/java/java-DesignPatterns/Java-DesignPatterns-CreationalPatterns/#_3-3-案例" class="anchor-link heading3"><div>3.3 案例</div></a></li><li class="anchor"><a href="/java/java-DesignPatterns/Java-DesignPatterns-CreationalPatterns/#使用场景-2" class="anchor-link heading3"><div>使用场景</div></a></li><li class="anchor"><a href="/java/java-DesignPatterns/Java-DesignPatterns-CreationalPatterns/#_3-4-使用静态内部类build" class="anchor-link heading3"><div>3.4 使用静态内部类Build</div></a></li><li class="anchor"><a href="/java/java-DesignPatterns/Java-DesignPatterns-CreationalPatterns/#_3-5-建造者模式与抽象工厂模式的比较" class="anchor-link heading3"><div>3.5 建造者模式与抽象工厂模式的比较</div></a></li><li class="anchor"><a href="/java/java-DesignPatterns/Java-DesignPatterns-CreationalPatterns/#_4-原型模式-创建型模式" class="anchor-link heading2"><div>4. 原型模式（创建型模式）</div></a></li><li class="anchor"><a href="/java/java-DesignPatterns/Java-DesignPatterns-CreationalPatterns/#_4-1-介绍" class="anchor-link heading3"><div>4.1 介绍</div></a></li><li class="anchor"><a href="/java/java-DesignPatterns/Java-DesignPatterns-CreationalPatterns/#_4-2-优缺点" class="anchor-link heading3"><div>4.2 优缺点</div></a></li><li class="anchor"><a href="/java/java-DesignPatterns/Java-DesignPatterns-CreationalPatterns/#_4-3-使用场景" class="anchor-link heading3"><div>4.3 使用场景</div></a></li><li class="anchor"><a href="/java/java-DesignPatterns/Java-DesignPatterns-CreationalPatterns/#浅拷贝和深拷贝" class="anchor-link heading3"><div>浅拷贝和深拷贝</div></a></li></ul></div></aside></div> <!----> <div class="content__content-top"></div> <div class="theme-default-content content__default"><h2 id="参考"><a href="#参考" class="header-anchor">#</a> 参考</h2> <div class="custom-block tip"><p class="custom-block-title">参考</p> <ul><li>https://www.runoob.com/design-pattern/design-pattern-intro.html</li> <li>http://c.biancheng.net/view/1317.html</li> <li><a href="TheZen0fDesignPattern_2.pdf">设计模式之禅</a></li></ul></div> <h2 id="_1-单例模式-创建型模式"><a href="#_1-单例模式-创建型模式" class="header-anchor">#</a> 1. 单例模式（创建型模式）</h2> <p><code>创建型模式</code></p> <p>参考</p> <blockquote><ul><li>https://www.runoob.com/design-pattern/singleton-pattern.html</li></ul></blockquote> <p>单例模式（Singleton Pattern）是 Java 中最简单的设计模式之一。这种类型的设计模式属于创建型模式，它提供了一种创建对象的最佳方式。</p> <p>这种模式涉及到一个单一的类，该类负责创建自己的对象，同时确保只有单个对象被创建。这个类提供了一种访问其唯一的对象的方式，可以直接访问，不需要实例化该类的对象。</p> <p>单例模式保证了系统内存中只存在一个对象，节省了系统资源,对于一些需要<code>频繁创建销毁</code>的对象,使用单例模式可以提高系统性能。当想实例化一个单例类的时候,必须要记住使用相应的获取对象的方法,而不是使用new</p> <p>单例模式使用的场景:</p> <blockquote><p>需要频繁的进行创建和销毁的对象，创建对象时耗时过多或耗费资源过多(即:重量级对象),但又经常用到的对象、工具类对象、频繁访问数据库或文件的对象(比如数据源、 session工厂等)</p></blockquote> <ul><li>1、单例类只能有一个实例。</li> <li>2、单例类必须自己创建自己的唯一实例。</li> <li>3、单例类必须给所有其他对象提供这一实例。</li></ul> <h3 id="实现点"><a href="#实现点" class="header-anchor">#</a> 实现点</h3> <ul><li>是否线程安全</li> <li>是否懒加载</li> <li>是否反射可破坏</li></ul> <h3 id="_1-1-步骤"><a href="#_1-1-步骤" class="header-anchor">#</a> 1.1 步骤</h3> <h4 id="步骤-1-创建一个-singleton-类"><a href="#步骤-1-创建一个-singleton-类" class="header-anchor">#</a> 步骤 1：创建一个 <code>Singleton</code> 类</h4> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SingleObject</span> <span class="token punctuation">{</span>
 
   <span class="token comment">//创建 SingleObject 的一个对象</span>
   <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">SingleObject</span> instance <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SingleObject</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 
   <span class="token comment">//让构造函数为 private，这样该类就不会被实例化</span>
   <span class="token keyword">private</span> <span class="token class-name">SingleObject</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
 
   <span class="token comment">//获取唯一可用的对象</span>
   <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">SingleObject</span> <span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token keyword">return</span> instance<span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
 
   <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">showMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Hello World!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h4 id="步骤-2-从-singleton-类获取唯一的对象"><a href="#步骤-2-从-singleton-类获取唯一的对象" class="header-anchor">#</a> 步骤 2：从 <code>singleton</code> 类获取唯一的对象</h4> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SingletonPatternDemo</span> <span class="token punctuation">{</span>
   <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
 
      <span class="token comment">//不合法的构造函数</span>
      <span class="token comment">//编译时错误：构造函数 SingleObject() 是不可见的</span>
      <span class="token comment">//SingleObject object = new SingleObject();</span>
 
      <span class="token comment">//获取唯一可用的对象</span>
      <span class="token class-name">SingleObject</span> object <span class="token operator">=</span> <span class="token class-name">SingleObject</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 
      <span class="token comment">//显示消息</span>
      object<span class="token punctuation">.</span><span class="token function">showMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h3 id="_1-2-懒汉式-线程不安全"><a href="#_1-2-懒汉式-线程不安全" class="header-anchor">#</a> 1.2 懒汉式，线程不安全</h3> <table><thead><tr><th>名称</th> <th>描述</th></tr></thead> <tbody><tr><td>是否 Lazy 初始化</td> <td>是</td></tr> <tr><td>是否多线程安全</td> <td>否</td></tr> <tr><td>实现难度</td> <td>易</td></tr></tbody></table> <p>描述</p> <blockquote><p>这种方式是最基本的实现方式，这种实现最大的问题就是不支持多线程。因为没有加锁 <code>synchronized</code>，所以严格意义上它并不算单例模式。这种方式 lazy loading 很明显，不要求线程安全，在多线程不能正常工作。<strong>实际不推荐使用</strong></p></blockquote> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Singleton</span> <span class="token punctuation">{</span>  
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Singleton</span> instance<span class="token punctuation">;</span>  
    <span class="token keyword">private</span> <span class="token class-name">Singleton</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>  
  
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">Singleton</span> <span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
    <span class="token keyword">if</span> <span class="token punctuation">(</span>instance <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
        instance <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Singleton</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    <span class="token punctuation">}</span>  
    <span class="token keyword">return</span> instance<span class="token punctuation">;</span>  
    <span class="token punctuation">}</span>  
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h3 id="_1-3-懒汉式-线程安全"><a href="#_1-3-懒汉式-线程安全" class="header-anchor">#</a> 1.3 懒汉式，线程安全</h3> <table><thead><tr><th>名称</th> <th>描述</th></tr></thead> <tbody><tr><td>是否 Lazy 初始化</td> <td>是</td></tr> <tr><td>是否多线程安全</td> <td>是</td></tr> <tr><td>实现难度</td> <td>易</td></tr></tbody></table> <p>描述</p> <blockquote><p>这种方式具备很好的 lazy loading，能够在多线程中很好的工作，但是，效率很低，只有第一次创建的时候需要同步，99% 情况下不需要同步。优点：第一次调用才初始化，避免内存浪费。缺点：必须加锁 <code>synchronized</code> 才能保证单例，但加锁会影响效率。getInstance() 的性能对应用程序不是很关键（该方法使用不太频繁）。<strong>实际不推荐使用</strong></p></blockquote> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Singleton</span> <span class="token punctuation">{</span>  
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Singleton</span> instance<span class="token punctuation">;</span>  
    <span class="token keyword">private</span> <span class="token class-name">Singleton</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>  
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">synchronized</span> <span class="token class-name">Singleton</span> <span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
    <span class="token keyword">if</span> <span class="token punctuation">(</span>instance <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
        instance <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Singleton</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    <span class="token punctuation">}</span>  
    <span class="token keyword">return</span> instance<span class="token punctuation">;</span>  
    <span class="token punctuation">}</span>  
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h3 id="_1-4-饿汉式"><a href="#_1-4-饿汉式" class="header-anchor">#</a> 1.4 饿汉式</h3> <table><thead><tr><th>名称</th> <th>描述</th></tr></thead> <tbody><tr><td>是否 Lazy 初始化</td> <td>否</td></tr> <tr><td>是否多线程安全</td> <td>是</td></tr> <tr><td>实现难度</td> <td>易</td></tr></tbody></table> <p>描述</p> <blockquote><p>这种方式比较常用，但容易产生垃圾对象。它基于 classloader 机制避免了多线程的同步问题，不过，instance 在类装载时就实例化，虽然导致类装载的原因有很多种，在单例模式中大多数都是调用 getInstance 方法， 但是也不能确定有其他的方式（或者其他的静态方法）导致类装载，这时候初始化 instance 显然没有达到 lazy loading 的效果。</p> <p>优点：没有加锁，执行效率会提高。</p> <p>缺点：类加载时就初始化，浪费内存。</p></blockquote> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Singleton</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Singleton</span> instance <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Singleton</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    <span class="token keyword">private</span> <span class="token class-name">Singleton</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>  
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">Singleton</span> <span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
    <span class="token keyword">return</span> instance<span class="token punctuation">;</span>  
    <span class="token punctuation">}</span>  
<span class="token punctuation">}</span>


</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>静态代码块写法</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Singleton_Hungry</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Singleton_Hungry</span> instance<span class="token punctuation">;</span>
    <span class="token keyword">static</span> <span class="token punctuation">{</span>
        instance <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Singleton_Hungry</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">private</span> <span class="token class-name">Singleton_Hungry</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">Singleton_Hungry</span> <span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> instance<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h3 id="_1-5-双重校验锁懒汉式-dcl-即-double-checked-locking"><a href="#_1-5-双重校验锁懒汉式-dcl-即-double-checked-locking" class="header-anchor">#</a> 1.5 双重校验锁懒汉式（DCL，即 double-checked locking）</h3> <table><thead><tr><th>名称</th> <th>描述</th></tr></thead> <tbody><tr><td>是否 Lazy 初始化</td> <td>是</td></tr> <tr><td>是否多线程安全</td> <td>是</td></tr> <tr><td>实现难度</td> <td>较复杂</td></tr></tbody></table> <p>描述</p> <blockquote><p>JDK1.5 起。这种方式采用双锁机制，安全且在多线程情况下能保持高性能。<code>getInstance()</code> 的性能对应用程序很关键。推荐使用</p></blockquote> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Singleton</span> <span class="token punctuation">{</span>  
    <span class="token keyword">private</span> <span class="token keyword">volatile</span> <span class="token keyword">static</span> <span class="token class-name">Singleton</span> singleton<span class="token punctuation">;</span>  
    <span class="token keyword">private</span> <span class="token class-name">Singleton</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>  
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">Singleton</span> <span class="token function">getSingleton</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
        <span class="token keyword">if</span> <span class="token punctuation">(</span>singleton <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
            <span class="token keyword">synchronized</span> <span class="token punctuation">(</span><span class="token class-name">Singleton</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
                <span class="token keyword">if</span> <span class="token punctuation">(</span>singleton <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
                    singleton <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Singleton</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
                <span class="token punctuation">}</span>  
            <span class="token punctuation">}</span>  
        <span class="token punctuation">}</span>  
        <span class="token keyword">return</span> singleton<span class="token punctuation">;</span>  
    <span class="token punctuation">}</span>  
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>另外，需要注意 uniqueInstance 采⽤ <code>volatile</code> 关键字修饰也是很有必要。<code>volatile</code>作用是防止在new实例的时候,还没初始化完,有其他线程进来,实例此时已经不为空.多线程拿到的实例数据就不一致,加了该关键字后,先初始化完成后在赋值给实例。 uniqueInstance = new Singleton(); 这段代码其实是分为三步执⾏：</p> <ol><li>为 uniqueInstance 分配内存空间</li> <li>初始化 uniqueInstance</li> <li>将 uniqueInstance 指向分配的内存地址</li></ol> <p>但是由于 JVM 具有指令重排的特性，执⾏顺序有可能变成 1&gt;3&gt;2。指令重排在单线程环境下不会出 现问题，但是在多线程环境下会导致⼀个线程获得还没有初始化的实例。例如，线程 T1 执⾏了 1 和 3，此时 T2 调⽤ getUniqueInstance() 后发现 uniqueInstance 不为空，因此返回 uniqueInstance，但此时 uniqueInstance 还未被初始化。 使⽤ volatile 可以禁⽌ JVM 的指令重排，保证在多线程环境下也能正常运⾏。</p> <h3 id="_1-6-静态内部类"><a href="#_1-6-静态内部类" class="header-anchor">#</a> 1.6 静态内部类</h3> <p>参考</p> <blockquote><ul><li>https://blog.csdn.net/mnb65482/article/details/80458571</li></ul></blockquote> <table><thead><tr><th>名称</th> <th>描述</th></tr></thead> <tbody><tr><td>是否 Lazy 初始化</td> <td>是</td></tr> <tr><td>是否多线程安全</td> <td>是</td></tr> <tr><td>实现难度</td> <td>较复杂</td></tr></tbody></table> <p>描述</p> <blockquote><p>静态内部类的优点是：上升为顶级类，外部类加载时并不需要立即加载内部类，内部类不被加载则不去初始化<code>INSTANCE</code>，故而不占内存。即当<code>SingleTon</code>第一次被加载时，并不需要去加载<code>SingletonInstance</code>，只有当<code>getInstance()</code>方法第一次被调用时，才会去初始化<code>INSTANCE</code>,第一次调用<code>getInstance()</code>方法会导致虚拟机加载<code>SingleTonHoler</code>类，这种方法不仅能确保线程安全，也能保证单例的唯一性，同时也延迟了单例的实例化。</p> <p>这种方式采用了类装载的机制来保证初始化实例时只有一个线程。静态内部类方式在 <code>Singleton</code>类被装载时并不会立即<code>实例化</code>,而是在需要实例化时,调用 <code>getInstance</code>方法,才会装载 <code>Singletoninstance</code>类,从而完成 <code>Singleton</code>的实例化。类的静态属性只会在第一次加载类的时候初始化,所以在这里,帮助我们保证了线程的安全性,在类进行初始化时,别的线程是无法进入的。优点:避免了线程不安全,利用静态内部类特点实现延迟加载,效率高。结论:推荐使用</p></blockquote> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Singleton</span><span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">Singleton</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">SingletonInstance</span><span class="token punctuation">{</span>
        <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">Singleton</span> INSTANCE <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Singleton</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>


    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">Singleton</span> <span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token class-name">SingletonInstance</span><span class="token punctuation">.</span>INSTANCE<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><blockquote><p>我们再回头看下getInstance()方法，调用的是SingleTonHoler.INSTANCE，取的是SingleTonHoler里的INSTANCE对象，跟上面那个DCL方法不同的是，getInstance()方法并没有多次去new对象，故不管多少个线程去调用getInstance()方法，取的都是同一个INSTANCE对象，而不用去重新创建。当getInstance()方法被调用时，SingleTonHoler才在SingleTon的运行时常量池里，把符号引用替换为直接引用，这时静态对象INSTANCE也真正被创建，然后再被getInstance()方法返回出去，这点同饿汉模式。那么INSTANCE在创建过程中又是如何保证线程安全的呢？在《深入理解JAVA虚拟机》中，有这么一句话:</p> <p>虚拟机会保证一个类的&lt;\clinit&gt;()方法在多线程环境中被正确地加锁、同步，如果多个线程同时去初始化一个类，那么只会有一个线程去执行这个类的&lt;\clinit&gt;()方法，其他线程都需要阻塞等待，直到活动线程执行&lt;\clinit&gt;()方法完毕。如果在一个类的&lt;\clinit&gt;()方法中有耗时很长的操作，就可能造成多个进程阻塞(需要注意的是，其他线程虽然会被阻塞，但如果执行&lt;\clinit&gt;()方法后，其他线程唤醒之后不会再次进入&lt;\clinit&gt;()方法。同一个加载器下，一个类型只会初始化一次。)，在实际应用中，这种阻塞往往是很隐蔽的。</p> <p>故而，可以看出INSTANCE在创建过程中是线程安全的，所以说静态内部类形式的单例可保证线程安全，也能保证单例的唯一性，同时也延迟了单例的实例化。</p> <p>那么，是不是可以说静态内部类单例就是最完美的单例模式了呢？其实不然，静态内部类也有着一个致命的缺点，就是传参的问题，由于是静态内部类的形式去创建单例的，故外部无法传递参数进去，例如Context这种参数，所以，我们创建单例时，可以在静态内部类与DCL模式里自己斟酌。</p></blockquote> <h3 id="_1-7-枚举式-拒绝反射构造"><a href="#_1-7-枚举式-拒绝反射构造" class="header-anchor">#</a> 1.7 枚举式（拒绝反射构造）</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">enum</span> <span class="token class-name">SingleTon</span><span class="token punctuation">{</span>
  INSTANCE<span class="token punctuation">;</span>
        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">method</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token comment">//TODO</span>
     <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token class-name">SingleTon</span><span class="token punctuation">.</span>INSTANCE
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>描述</p> <blockquote><p>枚举在java中与普通类一样，都能拥有字段与方法，而且枚举实例创建是线程安全的，在任何情况下，它都是一个单例。还能防止反序列化重新创建新的对象</p></blockquote> <h2 id="_2-工厂模式-创建型模式"><a href="#_2-工厂模式-创建型模式" class="header-anchor">#</a> 2. 工厂模式（创建型模式）</h2> <p><code>创建型模式</code></p> <p>工厂模式（Factory Pattern）是 Java 中最常用的设计模式之一。这种类型的设计模式属于创建型模式，它提供了一种创建对象的最佳方式。</p> <p>在工厂模式中，我们在创建对象时不会对客户端暴露创建逻辑，并且是通过使用一个共同的接口来指向新创建的对象。</p> <p>工厂方法模式是典型的解耦框架。</p> <ul><li>迪米特法则：高层模块值需要知道产品的抽象类，其他的实现类都不用关心，符合迪米特法则，</li> <li>依赖倒置原则：我不需要的就不要去交流；也符合依赖倒置原则，只依赖产品类的抽象；</li> <li>里氏替换原则：当然也符合里氏替换原则，使用产品子类替换产品父类，没问题！</li></ul> <p><img src="https://blog-1300186248.cos.ap-shanghai.myqcloud.com/Java-DesignPatterns-CreationalPatterns/工厂方法通用图.png" alt="image-20211024164737188" loading="lazy"></p> <p>参考</p> <blockquote><ul><li>https://www.runoob.com/design-pattern/factory-pattern.html</li> <li>反射在工厂模式的使用：https://www.cnblogs.com/ssrs-wanghao/articles/8993338.html</li></ul></blockquote> <p>用反射的工厂</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span> <span class="token keyword">extends</span> <span class="token class-name">Shape</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">T</span> <span class="token function">getShape</span><span class="token punctuation">(</span><span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> clz<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">T</span> t <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            t <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">T</span><span class="token punctuation">)</span> <span class="token class-name">Class</span><span class="token punctuation">.</span><span class="token function">forName</span><span class="token punctuation">(</span>clz<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">newInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> t<span class="token punctuation">;</span>

    <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h3 id="简单工厂-静态工厂"><a href="#简单工厂-静态工厂" class="header-anchor">#</a> 简单工厂（静态工厂）</h3> <p>没有抽象工厂类，而是工厂类使用静态方法来创建实体，也被称为静态工厂类，不符合开闭原则但是简单</p> <h3 id="延迟初始化"><a href="#延迟初始化" class="header-anchor">#</a> 延迟初始化</h3> <p>一个对象被消费完毕后，并不立刻释放，工厂类 保持其初始状态，等待再次被使用。延迟初始化是工厂方法模式的一个扩展应用。通常使用一个Map来缓存，并可指定存在系统中的实例化数量。</p> <h2 id="抽象工厂模式"><a href="#抽象工厂模式" class="header-anchor">#</a> 抽象工厂模式</h2> <p>相对于工厂模式只有一个工厂，抽象工厂模式定义一个工厂抽象类并实现多个工厂类</p> <h3 id="缺点"><a href="#缺点" class="header-anchor">#</a> 缺点</h3> <p>抽象工厂本身违反开闭原则，当增加产品时抽象工厂要增加方法，实现类也要实现方法。</p> <blockquote><p>在抽象工厂模式的缺点中，我们提到抽象工厂模式的产品族扩展比较困难，但是一定要 清楚，是产品族扩展困难，而不是产品等级。在该模式下，产品等级是非常容易扩展的，增 加一个产品等级，只要增加一个工厂类负责新增加出来的产品生产任务即可。也就是说横向 扩展容易，纵向扩展困难。以人类为例子，产品等级中只有男、女两个性别，现实世界还有 一种性别：双性人，既是男人也是女人（俗语就是阴阳人），那我们要扩展这个产品等级也 是非常容易的，增加三个产品类，分别对应不同的肤色，然后再创建一个工厂类，专门负责 不同肤色人的双性人的创建任务，完全通过扩展来实现需求的变更，从这一点上看，抽象工 厂模式是符合开闭原则的</p></blockquote> <h3 id="使用场景"><a href="#使用场景" class="header-anchor">#</a> 使用场景</h3> <p>抽象工厂模式的使用场景定义非常简单：一个对象族（或是一组没有任何关系的对象） 都有相同的约束，则可以使用抽象工厂模式。</p> <h3 id="最佳实践"><a href="#最佳实践" class="header-anchor">#</a> 最佳实践</h3> <p>涉及不同操作系统的时候， 都可以考虑使用抽象工厂模式，例如一个应用，需要在三个不同平台（Windows、Linux、 Android（Google发布的智能终端操作系统））上运行，你会怎么设计？分别设计三套不同 的应用？非也，通过抽象工厂模式屏蔽掉操作系统对应用的影响。三个不同操作系统上的软 件功能、应用逻辑、UI都应该是非常类似的，唯一不同的是调用不同的工厂方法，由不同的 产品类去处理与操作系统交互的信息</p> <h2 id="_3-建造者模式-创建型模式"><a href="#_3-建造者模式-创建型模式" class="header-anchor">#</a> 3. 建造者模式（创建型模式）</h2> <p><code>创建型模式</code></p> <div class="custom-block tip"><p class="custom-block-title">参考</p> <ul><li>https://www.runoob.com/design-pattern/builder-pattern.html</li> <li><a href="https://www.jianshu.com/p/3d1c9ffb0a28" target="_blank" rel="noopener noreferrer">一篇文章就彻底弄懂建造者模式(Builder Pattern)<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div> <h3 id="_3-1-介绍"><a href="#_3-1-介绍" class="header-anchor">#</a> 3.1 介绍</h3> <p>建造者模式（Builder Pattern）使用多个简单的对象一步一步构建成一个复杂的对象。这种类型的设计模式属于创建型模式，它提供了一种创建对象的最佳方式。创建者模式隐藏了复杂对象的创建过程，它把复杂对象的创建过程加以抽象，通过<code>子类继承或者重载</code>的方式，动态的创建具有复合属性的对象。</p> <p>一个 <code>Builder</code> 类会一步一步构造最终的对象。该 <code>Builder</code> 类是独立于其他对象的。</p> <p><strong>介绍</strong></p> <div class="custom-block info"><p class="custom-block-title">介绍</p> <ul><li><strong>意图</strong>：将一个复杂的构建与其表示相分离，使得同样的构建过程可以创建不同的表示。</li> <li><strong>主要解决</strong>：主要解决在软件系统中，有时候面临着&quot;一个复杂对象&quot;的创建工作，其通常由各个部分的子对象用一定的算法构成；由于需求的变化，这个复杂对象的各个部分经常面临着剧烈的变化，但是将它们组合在一起的算法却相对稳定。</li> <li><strong>何时使用</strong>：一些基本部件不会变，而其组合经常变化的时候。</li> <li><strong>如何解决</strong>：将变与不变分离开。</li> <li><strong>关键代码</strong>：建造者：创建和提供实例，导演：管理建造出来的实例的依赖关系。</li> <li><strong>应用实例</strong>： 1、去肯德基，汉堡、可乐、薯条、炸鸡翅等是不变的，而其组合是经常变化的，生成出所谓的&quot;套餐&quot;。 2、JAVA 中的 StringBuilder。</li> <li><strong>优点</strong>： 1、建造者独立，易扩展。 2、便于控制细节风险。</li> <li><strong>缺点</strong>： 1、产品必须有共同点，范围有限制。 2、如内部变化复杂，会有很多的建造类。</li> <li><strong>使用场景</strong>： 1、需要生成的对象具有复杂的内部结构。 2、需要生成的对象内部属性本身相互依赖。</li> <li><strong>注意事项</strong>：与工厂模式的区别是：建造者模式更加关注与零件装配的顺序。</li></ul></div> <p><strong>使用场景</strong></p> <div class="custom-block tip"><p class="custom-block-title">使用场景</p> <ul><li>隔离复杂对象的创建和使用，相同的方法，不同执行顺序，产生不同事件结果</li> <li>多个部件都可以装配到一个对象中，但产生的运行结果不相同</li> <li>产品类非常复杂或者产品类因为调用顺序不同而产生不同作用</li> <li>初始化一个对象时，参数过多，或者很多参数具有默认值</li> <li>Builder模式不适合创建差异性很大的产品类
产品内部变化复杂，会导致需要定义很多具体建造者类实现变化，增加项目中类的数量，增加系统的理解难度和运行成本</li> <li>需要生成的产品对象有复杂的内部结构，这些产品对象具备共性；</li></ul></div> <p><strong>主要作用</strong></p> <div class="custom-block info"><p class="custom-block-title">主要作用</p> <ul><li><p>在用户不知道对象的建造过程和细节的情况下就可以直接创建复杂的对象。</p></li> <li><p>用户只需要给出指定复杂对象的类型和内容；</p></li> <li><p>建造者模式负责按顺序创建复杂对象（把内部的建造过程和细节隐藏起来)</p></li></ul></div> <p><strong>解决的问题</strong></p> <div class="custom-block tip"><p class="custom-block-title">解决的问题</p> <ul><li>方便用户创建复杂的对象（不需要知道实现过程）</li> <li>代码复用性 &amp; 封装性（将对象构建过程和细节进行封装 &amp; 复用）</li></ul> <blockquote><p>例子：造汽车 &amp; 买汽车。</p> <ol><li>工厂（建造者模式）：负责制造汽车（组装过&gt;程和细节在工厂内）</li> <li>汽车购买者（用户）：你只需要说出你需要的&gt;型号（对象的类型和内容），然后直接购买就可&gt;&gt;以使用了
（不需要知道汽车是怎么组装的（车轮、车门、&gt;发动机、方向盘等等））</li></ol></blockquote></div> <p><strong>优点</strong></p> <div class="custom-block info"><p class="custom-block-title">优点</p> <ul><li>使用建造者模式可以使客户端不必知道产品内部组成的细节。</li> <li>具体的建造者类之间是相互独立的，这有利于系统的扩展。</li> <li>具体的建造者相互独立，因此可以对建造的过程逐步细化，而不会对其他模块产生任何影响。</li></ul></div> <p><strong>缺点</strong></p> <div class="custom-block tip"><p class="custom-block-title">缺点</p> <ul><li>建造者模式所创建的产品一般具有较多的共同点，其组成部分相似；如果产品之间的差异性很大，则不适合使用建造者模式，因此其使用范围受到一定的限制。</li> <li>如果产品的内部变化复杂，可能会导致需要定义很多具体建造者类来实现这种变化，导致系统变得很庞大。</li></ul></div> <h3 id="_3-2-原理"><a href="#_3-2-原理" class="header-anchor">#</a> 3.2 原理</h3> <p><img src="data:image/png;base64,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" alt="建造者模式UML类图" loading="lazy"></p> <div class="custom-block info"><p class="custom-block-title">原理模式</p> <ul><li>指挥者（Director）直接和客户（Client）进行需求沟通；</li> <li>沟通后指挥者将客户创建产品的需求划分为各个部件的建造请求（Builder）；</li> <li>将各个部件的建造请求委派到具体的建造者（ConcreteBuilder）；</li> <li>各个具体建造者负责进行产品部件的构建；</li> <li>最终构建成具体产品（Product）。</li></ul></div> <h3 id="_3-3-案例"><a href="#_3-3-案例" class="header-anchor">#</a> 3.3 案例</h3> <p>用 builder 模式创建<code>共享单车</code>为例子，示例代码：</p> <h4 id="产品product类"><a href="#产品product类" class="header-anchor">#</a> 产品Product类</h4> <p><code>Bike.java</code></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Data</span>
<span class="token annotation punctuation">@ToString</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Bike</span> <span class="token punctuation">{</span>
    <span class="token comment">/*框架*/</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> frame<span class="token punctuation">;</span>
    <span class="token comment">/*座椅*/</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> seat<span class="token punctuation">;</span>
    <span class="token comment">/*车胎*/</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> tire<span class="token punctuation">;</span>

<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h4 id="建造者builder抽象类"><a href="#建造者builder抽象类" class="header-anchor">#</a> 建造者Builder抽象类</h4> <p><code>Builder.java</code></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">Builder</span> <span class="token punctuation">{</span>
    <span class="token comment">// 创建产品对象</span>
    <span class="token keyword">protected</span>  <span class="token class-name">Bike</span> bikeProduct <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Bike</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 具体部件建造过程在具体Builder中实现</span>
    <span class="token keyword">abstract</span> <span class="token keyword">void</span> <span class="token function">buildFrame</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">abstract</span> <span class="token keyword">void</span> <span class="token function">buildSeat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">abstract</span> <span class="token keyword">void</span> <span class="token function">buildTire</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 定义工厂方法，返回一个完整产品对象</span>
    <span class="token keyword">public</span> <span class="token class-name">Bike</span> <span class="token function">getProduct</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> bikeProduct<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h4 id="具体建造者concretebuilder类"><a href="#具体建造者concretebuilder类" class="header-anchor">#</a> 具体建造者ConcreteBuilder类</h4> <p><code>MobikeBuilder.java</code></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MobikeBuilder</span> <span class="token keyword">extends</span> <span class="token class-name">Builder</span><span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">buildFrame</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        bikeProduct<span class="token punctuation">.</span><span class="token function">setFrame</span><span class="token punctuation">(</span><span class="token string">&quot;MobikeFrame&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">buildSeat</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        bikeProduct<span class="token punctuation">.</span><span class="token function">setSeat</span><span class="token punctuation">(</span><span class="token string">&quot;MobikeSeat&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">buildTire</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        bikeProduct<span class="token punctuation">.</span><span class="token function">setTire</span><span class="token punctuation">(</span><span class="token string">&quot;MobikeTire&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><p><code>OfoBuilder.java</code></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">OfoBuilder</span> <span class="token keyword">extends</span> <span class="token class-name">Builder</span><span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">buildFrame</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        bikeProduct<span class="token punctuation">.</span><span class="token function">setFrame</span><span class="token punctuation">(</span><span class="token string">&quot;OfoFrame&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">buildSeat</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        bikeProduct<span class="token punctuation">.</span><span class="token function">setSeat</span><span class="token punctuation">(</span><span class="token string">&quot;OfoSeat&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">buildTire</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        bikeProduct<span class="token punctuation">.</span><span class="token function">setTire</span><span class="token punctuation">(</span><span class="token string">&quot;OfoTire&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><h4 id="指挥者director类"><a href="#指挥者director类" class="header-anchor">#</a> 指挥者Director类</h4> <p><code>Director.java</code></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Director</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">Builder</span> builder<span class="token punctuation">;</span>

    <span class="token comment">// 方式一：通过构造函数设置实际的构造者</span>
    <span class="token comment">// 传入类型是基类，面向抽象编程，符合里氏替换原则</span>
    <span class="token keyword">public</span> <span class="token class-name">Director</span><span class="token punctuation">(</span><span class="token class-name">Builder</span> builder<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>builder <span class="token operator">=</span> builder<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 方式二：通过setter方法设置实际的构造者</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setBuilder</span><span class="token punctuation">(</span><span class="token class-name">Builder</span> builder<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>builder <span class="token operator">=</span> builder<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 构建复杂产品对象</span>
    <span class="token keyword">public</span> <span class="token class-name">Bike</span> <span class="token function">construct</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        builder<span class="token punctuation">.</span><span class="token function">buildTire</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        builder<span class="token punctuation">.</span><span class="token function">buildFrame</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        builder<span class="token punctuation">.</span><span class="token function">buildSeat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> builder<span class="token punctuation">.</span><span class="token function">getProduct</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><h4 id="客户端使用"><a href="#客户端使用" class="header-anchor">#</a> 客户端使用</h4> <p><code>Client.java</code></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Client</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>

        <span class="token comment">//根据Ofo建造者创建Mobike实体类</span>
        <span class="token class-name">Director</span> <span class="token class-name">MobikeDirector</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Director</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">MobikeBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Bike</span> <span class="token class-name">MobikeBike</span> <span class="token operator">=</span> <span class="token class-name">MobikeDirector</span><span class="token punctuation">.</span><span class="token function">construct</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;MobikeBike = &quot;</span> <span class="token operator">+</span> <span class="token class-name">MobikeBike</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//根据Ofo建造者创建Ofo实体类</span>
        <span class="token class-name">Director</span> <span class="token class-name">OfoDirector</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Director</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">OfoBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Bike</span> <span class="token class-name">OfoBike</span> <span class="token operator">=</span> <span class="token class-name">OfoDirector</span><span class="token punctuation">.</span><span class="token function">construct</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;OfoBike = &quot;</span> <span class="token operator">+</span> <span class="token class-name">OfoBike</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h3 id="使用场景-2"><a href="#使用场景-2" class="header-anchor">#</a> 使用场景</h3> <ul><li>相同的方法，不同的执行顺序，产生不同的事件结果时，可以采用建造者模式。</li> <li>多个部件或零件，都可以装配到一个对象中，但是产生的运行结果又不相同时，则可 以使用该模式。</li> <li>产品类非常复杂，或者产品类中的调用顺序不同产生了不同的效能，这个时候使用建 造者模式非常合适。</li> <li>在对象创建过程中会使用到系统中的一些其他对象，这些对象在产品对象的创建过程 中不易得到时，也可以采用建造者模式封装该对象的创建过程。该种场景只能是一个补偿方 法，因为一个对象不容易获得，而在设计阶段竟然没有发觉，而要通过创建者模式柔化创建 过程，本身已经违反设计的最初目标。</li></ul> <h3 id="_3-4-使用静态内部类build"><a href="#_3-4-使用静态内部类build" class="header-anchor">#</a> 3.4 使用静态内部类Build</h3> <p>当一个类构造器需要传入很多参数时，如果创建这个类的实例，代码可读性会非常差，而且很容易引入错误，此时就可以利用 builder模式进行重构，插件<code>lombok</code>的注解<code>@Builder</code>也是同样原理，重构的代码如下：</p> <p><code>BikeWithBuild.java</code></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">BikeWithBuild</span> <span class="token punctuation">{</span>
    <span class="token comment">/*框架*/</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> frame<span class="token punctuation">;</span>
    <span class="token comment">/*座椅*/</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> seat<span class="token punctuation">;</span>
    <span class="token comment">/*车胎*/</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> tire<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">BikeWithBuild</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

  <span class="token comment">// 构造方法范围设为private意味着只能通过内部即内部的Builder来创建对象</span>
    <span class="token keyword">private</span> <span class="token class-name">BikeWithBuild</span><span class="token punctuation">(</span><span class="token class-name">Builder</span> builder<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        frame <span class="token operator">=</span> builder<span class="token punctuation">.</span>frame<span class="token punctuation">;</span>
        seat <span class="token operator">=</span> builder<span class="token punctuation">.</span>seat<span class="token punctuation">;</span>
        tire <span class="token operator">=</span> builder<span class="token punctuation">.</span>tire<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

  <span class="token comment">//设为静态，当类BikeWithBuild调用此静态方法后即BikeWithBuild.builder()返回Builder实体，</span>
  <span class="token comment">//即可以开始调用属性方法来构造，最后用Builder的build()返回实体类完成构造</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">BikeWithBuild<span class="token punctuation">.</span>Builder</span> <span class="token function">builder</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">BikeWithBuild<span class="token punctuation">.</span>Builder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>


  <span class="token comment">// 静态内部类Builder</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">class</span> <span class="token class-name">Builder</span> <span class="token punctuation">{</span>
        <span class="token comment">/*框架*/</span>
        <span class="token keyword">private</span> <span class="token class-name">String</span> frame<span class="token punctuation">;</span>
        <span class="token comment">/*座椅*/</span>
        <span class="token keyword">private</span> <span class="token class-name">String</span> seat<span class="token punctuation">;</span>
        <span class="token comment">/*车胎*/</span>
        <span class="token keyword">private</span> <span class="token class-name">String</span> tire<span class="token punctuation">;</span>

      <span class="token comment">// 空的构造方法</span>
        <span class="token keyword">public</span> <span class="token class-name">Builder</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

        <span class="token keyword">public</span> <span class="token class-name">BikeWithBuild<span class="token punctuation">.</span>Builder</span> <span class="token function">frame</span><span class="token punctuation">(</span><span class="token class-name">String</span> frame<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            frame <span class="token operator">=</span> frame<span class="token punctuation">;</span>
            <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">public</span> <span class="token class-name">BikeWithBuild<span class="token punctuation">.</span>Builder</span> <span class="token function">seat</span><span class="token punctuation">(</span><span class="token class-name">String</span> seat<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            seat <span class="token operator">=</span> seat<span class="token punctuation">;</span>
            <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">public</span> <span class="token class-name">BikeWithBuild<span class="token punctuation">.</span>Builder</span> <span class="token function">tire</span><span class="token punctuation">(</span><span class="token class-name">String</span> tire<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            tire <span class="token operator">=</span> tire<span class="token punctuation">;</span>
            <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

      <span class="token comment">//最后调用build将想要的属性赋值后的Builder作为参数来返回BikeWithBuild对象</span>
        <span class="token keyword">public</span> <span class="token class-name">BikeWithBuild</span> <span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">BikeWithBuild</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br></div></div><p>使用</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">BikeWithBuild</span> bikeWithBuild <span class="token operator">=</span> <span class="token class-name">BikeWithBuild</span><span class="token punctuation">.</span><span class="token function">builder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">frame</span><span class="token punctuation">(</span><span class="token string">&quot;frame&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">seat</span><span class="token punctuation">(</span><span class="token string">&quot;seat&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">tire</span><span class="token punctuation">(</span><span class="token string">&quot;tire&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>上面的示例代码只是传入三个参数，如果参数是十四个甚至更多，builder 模式的优势将会更加明显，传递参数更加灵活，代码具有更高的可读性.</p> <p>优点是可以将构造器的setter方法名取成类似注释的方式，这样我们可以很清晰的知道刚才究竟设置的什么值，可读性较高</p> <p>缺点是比较冗长。</p> <h3 id="_3-5-建造者模式与抽象工厂模式的比较"><a href="#_3-5-建造者模式与抽象工厂模式的比较" class="header-anchor">#</a> 3.5 建造者模式与抽象工厂模式的比较</h3> <div class="custom-block info"><p class="custom-block-title">建造者模式与抽象工厂模式的比较</p> <ul><li>与<code>抽象工厂模式</code>相比，<code>建造者模式</code>返回一个<code>组装好的完整产品</code>，而<code>抽象工厂模式</code>返回<code>一系列相关的产品</code>，这些产品位于<code>不同产品等级结构</code>，构成了一个<code>产品族</code> 。</li> <li>在<code>抽象工厂模式</code>中，客户端实例化工厂类，然后调用工厂方法获取所需产品对象；而在<code>建造者模式</code>中，客户端可以不直接调用建造者的相关方法，而是通过指挥者类来指导如何生成对象，包括对象的组装过程和建造步骤，它侧重于一步步构造一个复杂对象，返回一个完整的对象 。</li> <li>如果将<code>抽象工厂模式</code>看成汽车配件生产工厂，生产一个产品族的产品；那么<code>建造者模式</code>就是一个汽车组装工厂，通过对部件的组装可以返回一辆完整的汽车</li></ul></div> <h2 id="_4-原型模式-创建型模式"><a href="#_4-原型模式-创建型模式" class="header-anchor">#</a> 4. 原型模式（创建型模式）</h2> <p><code>创建型模式</code></p> <p>原型模式（Prototype Pattern）是用于<code>创建重复的对象</code>，同时又能保证性能。这种类型的设计模式属于创建型模式，它提供了一种创建对象的最佳方式。</p> <p>这种模式是实现了一个<code>原型接口</code>，该接口用于创建当前对象的克隆。当直接创建对象的代价比较大时，则采用这种模式。</p> <p>例如，一个对象需要在一个高代价的数据库操作之后被创建。我们可以缓存该对象，在下一个请求时返回它的克隆，在需要的时候更新数据库，以此来减少数据库调用。</p> <p>原型模式（Prototype Pattern）的简单程度仅次于单例模式和迭代器模式。正是由于简 单，使用的场景才非常地多，其定义如下：</p> <div class="custom-block info"><p class="custom-block-title">Info</p> <p>Specify the kinds of objects to create using a prototypical instance,and create new objects by copying this prototype.（用原型实例指定创建对象的种类，并且通过拷贝这些原型创建新的对 象。）</p></div> <p><img src="/assets/img/General_class_diagram_of_the_prototype_pattern.5fa429c6.jpg" alt="图13-3 原型模式的通用类图" loading="lazy"></p> <h3 id="_4-1-介绍"><a href="#_4-1-介绍" class="header-anchor">#</a> 4.1 介绍</h3> <div class="custom-block info"><p class="custom-block-title">介绍</p> <ul><li><p><strong>意图</strong>：用原型实例指定创建对象的种类，并且通过拷贝这些原型创建新的对象。</p></li> <li><p><strong>主要解决</strong>：在运行期建立和删除原型。</p></li> <li><p><strong>何时使用</strong></p> <blockquote><ol><li>当一个系统应该独立于它的产品创建，构成和表示时。</li> <li>当要实例化的类是在运行时刻指定时，例如，通过动态装载。</li> <li>为了避免创建一个与产品类层次平行的工厂类层次时。</li> <li>当一个类的实例只能有几个不同状态组合中的一种时。建立相应数目的原型并克隆它们可能比每次用合适的状态手工实例化该类更方便一些。</li></ol></blockquote></li> <li><p><strong>如何解决</strong>：利用已有的一个原型对象，快速地生成和原型对象一样的实例。</p></li> <li><p><strong>关键代码</strong>：</p> <blockquote><ol><li>实现<code>克隆操作</code>，在 JAVA <code>继承 Cloneable</code>，重写 <code>clone()</code>，在 .NET 中可以使用 Object 类的 MemberwiseClone() 方法来实现对象的浅拷贝或通过序列化的方式来实现深拷贝。</li> <li>原型模式同样用于隔离类对象的使用者和具体类型（易变类）之间的耦合关系，它同样要求这些&quot;易变类&quot;拥有稳定的接口。</li></ol></blockquote></li> <li><p><strong>应用实例</strong>：</p> <blockquote><ol><li>细胞分裂。</li> <li>JAVA 中的 <code>Object clone()</code> 方法。</li></ol></blockquote></li> <li><p><strong>优点</strong>：</p> <blockquote><ol><li>性能提高。</li> <li>逃避构造函数的约束。</li></ol></blockquote></li> <li><p><strong>缺点</strong>：</p> <blockquote><ol><li>配备克隆方法需要对类的功能进行通盘考虑，这对于全新的类不是很难，但对于已有的类不一定很容易，特别当一个类引用不支持串行化的间接对象，或者引用含有循环结构的时候。</li> <li>必须实现 <code>Cloneable</code> 接口。</li></ol></blockquote></li> <li><p><strong>使用场景</strong>：</p> <blockquote><ol><li>资源优化场景。</li> <li>类初始化需要消化非常多的资源，这个资源包括数据、硬件资源等。</li> <li>性能和安全要求的场景。</li> <li>通过 new 产生一个对象需要非常繁琐的数据准备或访问权限，则可以使用原型模式。</li> <li>一个对象多个修改者的场景。</li> <li>一个对象需要提供给其他对象访问，而且各个调用者可能都需要修改其值时，可以考虑使用原型模式拷贝多个对象供调用者使用。</li> <li>在实际项目中，原型模式很少单独出现，一般是和工厂方法模式一起出现，通过 clone 的方法创建一个对象，然后由工厂方法提供给调用者。原型模式已经与 Java 融为浑然一体，大家可以随手拿来使用。</li></ol></blockquote></li> <li><p><strong>注意事项</strong>：与通过对一个类进行实例化来构造新对象不同的是，原型模式是通过拷贝一个现有对象生成新对象的。浅拷贝实现 Cloneable，重写，深拷贝是通过实现 Serializable 读取二进制流。</p></li></ul></div> <h3 id="_4-2-优缺点"><a href="#_4-2-优缺点" class="header-anchor">#</a> 4.2 优缺点</h3> <div class="custom-block info"><p class="custom-block-title">优点</p> <ul><li><p>性能优良</p> <blockquote><p>原型模式是在内存二进制流的拷贝，要比直接new一个对象性能好很多，特别是要在一 个循环体内产生大量的对象时，原型模式可以更好地体现其优点。</p></blockquote></li> <li><p>逃避构造函数的约束</p> <blockquote><p>这既是它的优点也是缺点即不会执行构造方法，Object类的 clone方法的原理是从内存中（具体地说就是堆内存）以二进制流的方式进行拷贝，重新分配 一个内存块，那构造函数没有被执行也是非常正常的了。构造函数是不会执行的（参见13.4 节）。优点就是减少了约束，缺点也是减少了约束，需要大家在实际应用时考虑。</p></blockquote></li></ul></div> <h3 id="_4-3-使用场景"><a href="#_4-3-使用场景" class="header-anchor">#</a> 4.3 使用场景</h3> <div class="custom-block info"><p class="custom-block-title">使用场景</p> <ul><li>资源优化场景 ：类初始化需要消化非常多的资源，这个资源包括数据、硬件资源等。</li> <li>性能和安全要求的场景：通过new产生一个对象需要非常繁琐的数据准备或访问权限，则可以使用原型模式。</li> <li>一个对象多个修改者的场景：一个对象需要提供给其他对象访问，而且各个调用者可能都需要修改其值时，可以考虑 使用原型模式拷贝多个对象供调用者使用。 在实际项目中，原型模式很少单独出现，一般是和工厂方法模式一起出现，通过clone的 方法创建一个对象，然后由工厂方法提供给调用者。原型模式已经与Java融为一体，大家可 以随手拿来使用。</li></ul></div> <h3 id="浅拷贝和深拷贝"><a href="#浅拷贝和深拷贝" class="header-anchor">#</a> 浅拷贝和深拷贝</h3> <ul><li>浅拷贝：Object类提供 的方法clone只是拷贝本对象，其对象内部的数组、引用对象等都不拷贝，还是指向原生对象的内部元素地址，这种拷贝就叫做浅拷贝。其他的例如String和数据类型int等都被会被拷贝。</li> <li>深拷贝：在浅拷贝基础上连引用数据类型都拷贝新的</li></ul></div> <!----> <div class="content__content-bottom"></div> <footer class="page-meta"><div class="edit-link"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon edit-icon"><path d="M117.953 696.992 64.306 959.696l265.931-49.336 450.204-452.505-212.284-213.376-450.204 452.513zm496.384-296.326L219.039 797.993l-46.108-46.34L568.233 354.33l46.104 46.335zm345.357-122.99-114.45 115.04-212.288-213.377 114.45-115.035 212.288 213.371zm0 0" fill="currentColor"></path></svg> <a href="https://github.com/LifeAlsoIsGG/edit/main/java/java-DesignPatterns/Java-DesignPatterns-CreationalPatterns.md" target="_blank" rel="noopener noreferrer">Edit this page</a></div> <div class="meta-item update-time"><span class="label">Last update:</span> <span class="info">July 1, 2022 16:04</span></div> <div class="meta-item contributors"><span class="label">Contributors: </span> <span class="info"><span title="email: 1138312802@qq.com" class="contributor">
          Draco
        </span> <!----></span></div></footer> <div class="page-nav"><p class="inner"><span class="prev"><a href="/java/java-DesignPatterns/Java-DesignPatterns-SevenPrinciple/" class="prev"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon prev-icon"><path d="M906.783 588.79c-.02 8.499-6.882 15.36-15.38 15.37l-443.7-.01 75.704 191.682c2.52 6.42.482 13.763-5.038 17.91-5.52 4.168-13.138 4.147-18.616-.092L123.228 524.175a15.362 15.362 0 0 1-6-12.165c0-4.782 2.222-9.277 6-12.185L499.753 210.35a15.388 15.388 0 0 1 9.38-3.195c3.236 0 6.502 1.034 9.236 3.103 5.52 4.147 7.578 11.49 5.038 17.91L447.683 419.84l443.72-.01c8.498.01 15.36 6.881 15.36 15.36l.02 153.6z" fill="currentColor"></path></svg>
        设计模式七大原则
      </a></span> <span class="next"><a href="/java/java-DesignPatterns/Java-DesignPatterns-BehavioralPatterns/">
        设计模式之行为型设计模式
        <svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon next-icon"><path d="M906.772 512c0 4.772-2.211 9.267-5.99 12.175L524.257 813.66a15.37 15.37 0 0 1-18.616.092 15.368 15.368 0 0 1-5.038-17.91l75.714-191.672h-443.73c-8.488 0-15.36-6.881-15.36-15.36v-153.6c0-8.489 6.872-15.36 15.36-15.36h443.73l-75.714-191.682a15.358 15.358 0 0 1 5.048-17.91c5.51-4.158 13.128-4.137 18.606.092l376.525 289.485a15.323 15.323 0 0 1 5.99 12.165z" fill="currentColor"></path></svg></a></span></p></div> <div class="comments-wrapper"><div class="waline-wrapper"><div id="waline-comment"></div></div></div> <!----> <div class="content__page-bottom"></div></main> <footer class="footer-wrapper"><div class="media-links-wrapper"><a href="https://github.com/LifeAlsoIsGG" rel="noopener noreferrer" target="_blank" aria-label="Github" data-balloon-pos="up" class="media-link"><span class="sr-only">Github</span> <svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon icon-github"><circle cx="512" cy="512" r="512" fill="#171515"></circle> <path d="M509.423 146.442c-200.317 0-362.756 162.42-362.756 362.8 0 160.266 103.936 296.24 248.109 344.217 18.139 3.327 24.76-7.872 24.76-17.486 0-8.613-.313-31.427-.49-61.702-100.912 21.923-122.205-48.63-122.205-48.63-16.495-41.91-40.28-53.067-40.28-53.067-32.937-22.51 2.492-22.053 2.492-22.053 36.407 2.566 55.568 37.386 55.568 37.386 32.362 55.438 84.907 39.43 105.58 30.143 3.296-23.444 12.667-39.43 23.032-48.498-80.557-9.156-165.246-40.28-165.246-179.297 0-39.604 14.135-71.988 37.342-97.348-3.731-9.178-16.18-46.063 3.556-96.009 0 0 30.46-9.754 99.76 37.19 28.937-8.048 59.97-12.071 90.823-12.211 30.807.14 61.843 4.165 90.822 12.21 69.26-46.944 99.663-37.189 99.663-37.189 19.792 49.946 7.34 86.831 3.61 96.01 23.25 25.359 37.29 57.742 37.29 97.347 0 139.366-84.82 170.033-165.637 179.013 13.026 11.2 24.628 33.342 24.628 67.182 0 48.498-.445 87.627-.445 99.521 0 9.702 6.535 20.988 24.945 17.444 144.03-48.067 247.881-183.95 247.881-344.175 0-200.378-162.442-362.798-362.802-362.798z" fill="#FFF"></path></svg></a><a href="https://twitter.com/LifeAlsoIsGG" rel="noopener noreferrer" target="_blank" aria-label="Twitter" data-balloon-pos="up" class="media-link"><span class="sr-only">Twitter</span> <svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon icon-twitter"><circle cx="512" cy="512" r="512" fill="#5EAADE"></circle> <path d="M749.737 364.631c-17.594 7.805-36.513 13.088-56.371 15.459 20.269-12.148 35.836-31.387 43.156-54.312A196.233 196.233 0 0 1 674.2 349.6c-17.894-19.083-43.406-30.997-71.636-30.997-54.2 0-98.137 43.944-98.137 98.157 0 7.695.861 15.19 2.544 22.373-81.57-4.092-153.876-43.174-202.284-102.558-8.443 14.498-13.285 31.356-13.285 49.348 0 34.05 17.326 64.096 43.656 81.697a97.69 97.69 0 0 1-44.447-12.277c-.01.41-.01.82-.01 1.24 0 47.558 33.822 87.23 78.72 96.249a98.285 98.285 0 0 1-25.852 3.448 97.491 97.491 0 0 1-18.465-1.768c12.483 39.002 48.725 67.38 91.672 68.17-33.582 26.334-75.897 42.024-121.884 42.024-7.924 0-15.736-.46-23.408-1.37 43.434 27.844 95.014 44.104 150.443 44.104 180.505 0 279.221-149.576 279.221-279.294 0-4.263-.09-8.494-.278-12.708 19.178-13.835 35.813-31.115 48.967-50.807z" fill="#FFF"></path></svg></a><a href="http://localhost:8083/blog-vuepress/tencent:/AddContact/?fromId=50&amp;fromSubId=1&amp;subcmd=all&amp;uin=1138312802.html" rel="noopener noreferrer" target="_blank" aria-label="QQ" data-balloon-pos="up" class="media-link"><span class="sr-only">QQ</span> <svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon icon-qq"><circle cx="512" cy="512" r="512" fill="#5EAADE"></circle> <path d="M729.46 627.3c-3.157-39.628-24.045-83.747-32.624-105.91l-22.084-57.047c-.702-23.73 6.312-78.322-30.511-146.61s-110.82-74.446-124.497-75.147c-13.677-.701-99.248-1.403-141.331 72.945-42.084 74.347-30.745 148.812-30.745 148.812l-23.523 57.478c-.001.002-10.962 26.223-20.43 58.135-9.469 31.914-18.938 82.064-9.469 92.234 9.47 10.17 43.837-46.643 46.993-51.903 0 0 2.456 27.18 8.943 41.383l.81 1.776.33.723.38.826.3.652.444.96.203.436a281.465 281.465 0 0 0 1.917 4.025l.189.386c.231.473.468.953.711 1.442l.146.292c6.886 13.807 18.61 33.823 37.443 50.42l.018.016-1.184.387c-10.667 3.516-31.694 11.21-40.625 19.82-1.717 1.655-2.987 3.344-3.65 5.045-5.376 13.794 4.208 15.43 20.575 16.366 16.366.934 94.923 3.04 132.564-2.221.407-.056.787-.114 1.17-.171 2.711.094 5.324.142 7.83.16l.151.002c.836.005 1.663.008 2.475.008.496 0 1.015-.002 1.542-.006l.21-.001a222.593 222.593 0 0 0 5.462-.107c.26.038.508.076.778.114 37.642 5.26 116.198 3.156 132.564 2.22 16.366-.934 25.951-2.571 20.574-16.365-4.302-11.037-34.175-21.62-45.956-25.413a141.388 141.388 0 0 0 7.958-7.645l.237-.245a142.494 142.494 0 0 0 2.53-2.702c42.435-46.643 38.928-76.101 40.682-92.935 0 0 35.775 51.553 43.488 53.306 7.713 1.754 10.169-6.31 7.012-45.94z" fill="#FFF"></path></svg></a></div> <div class="footer">粤ICP备19126168号</div> <div class="copyright">Copyright © 2022 Draco</div></footer></div><div class="global-ui"><!----><div id="pwa-install"><!----> <div id="install-modal-wrapper" style="display:none;"><div class="background"></div> <div class="install-modal"><div class="header"><button aria-label="Close" class="close-button"><svg width="23" height="22" xmlns="http://www.w3.org/2000/svg" class="icon close-icon"><path fill-rule="evenodd" clip-rule="evenodd" d="M1.12.358a1.224 1.224 0 011.729 0l8.92 8.914L20.686.358a1.224 1.224 0 011.73 1.728L13.497 11l8.92 8.913a1.222 1.222 0 11-1.73 1.729l-8.919-8.913-8.92 8.913a1.224 1.224 0 01-1.729-1.729L10.04 11l-8.92-8.914a1.222 1.222 0 010-1.728z" fill="currentColor"></path></svg></button> <div class="logo"><!----> <div class="title"><h1></h1> <p class="desc">This app can be installed on your PC or mobile device.  This will allow this web app to look and behave like any other installed app.  You will find it in your app lists and be able to pin it to your home screen, start menus or task bars.  This installed web app will also be able to safely interact with other apps and your operating system. </p></div></div></div> <div class="content"><div class="highlight"><!----> <!----></div> <div class="description"><h3>Description</h3> <p></p></div></div> <div class="button-wrapper"><button class="install-button">
        Install <span></span></button> <button class="cancel-button">
        Cancel
      </button></div></div></div></div><!----><div tabindex="-1" role="dialog" aria-hidden="true" class="pswp"><div class="pswp__bg"></div> <div class="pswp__scroll-wrap"><div class="pswp__container"><div class="pswp__item"></div> <div class="pswp__item"></div> <div class="pswp__item"></div></div> <div class="pswp__ui pswp__ui--hidden"><div class="pswp__top-bar"><div class="pswp__counter"></div> <button title="Close" aria-label="Close" class="pswp__button pswp__button--close"></button> <button title="Share" aria-label="Share" class="pswp__button pswp__button--share"></button> <button title="Switch to full screen" aria-label="Switch to full screen" class="pswp__button pswp__button--fs"></button> <button title="Zoom in/out" aria-label="Zoom in/out" class="pswp__button pswp__button--zoom"></button> <div class="pswp__preloader"><div class="pswp__preloader__icn"><div class="pswp__preloader__cut"><div class="pswp__preloader__donut"></div></div></div></div></div> <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class="pswp__share-tooltip"></div></div> <button title="Prev (Arrow Left)" aria-label="Prev (Arrow Left)" class="pswp__button pswp__button--arrow--left"></button> <button title="Next (Arrow Right)" aria-label="Next (Arrow Right)" class="pswp__button pswp__button--arrow--right"></button> <div class="pswp__caption"><div class="pswp__caption__center"></div></div></div></div></div></div></div>
    <script src="/assets/js/app.5d478f4d.js" defer></script><script src="/assets/js/vendors~layout-Layout.df1685e0.js" defer></script><script src="/assets/js/vendors~layout-Blog~layout-Layout~layout-NotFound.9dd70d26.js" defer></script><script src="/assets/js/page-设计模式之创建型设计模式.76e32733.js" defer></script><script src="/assets/js/vendors~layout-Blog~layout-Layout.2ab8e312.js" defer></script>
  </body>
</html>
